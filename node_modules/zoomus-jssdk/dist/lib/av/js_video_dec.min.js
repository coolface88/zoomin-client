FVERSION=442;WebAssembly.instantiateStreaming=false;const Audio_Dec_WASM_OK=1;const Audio_Dec_Handle_OK=2;const Audio_Dec_WebSocket_OK=3;const Audio_Enc_WASM_OK=4;const Audio_Enc_Handle_OK=5;const Video_Dec_WASM_OK=7;const Video_Dec_Handle_OK=8;const Video_Dec_WebSocket_OK=9;const Video_Enc_WASM_OK=10;const Video_Enc_Handle_OK=11;const DECODE_MESSAGE=18;const Video_Capture_Tick=20;const MONITOR_MESSAGE=21;const APP_TROUBLESHOOTING_INFO=31;const DOWNLOAD_WASM_FROM_MAIN_THREAD=30;const DELTA_D=32;const DELTA_C=33;const DELTA_S=34;const WCL_TROUBLESHOOTING_INFO=35;const Audio_Dec_WASM_FAILED=-1;const Audio_Dec_Handle_FAILED=-2;const Audio_Dec_WebSocket_FAILED=-3;const Audio_Enc_WASM_FAILED=-4;const Audio_Enc_Handle_FAILED=-5;const Video_Dec_WASM_FAILED=-7;const Video_Dec_Handle_FAILED=-8;const Video_Dec_WebSocket_FAILED=-9;const Video_Enc_WASM_FAILED=-10;const Video_Enc_Handle_FAILED=-11;function add_monitor(e){postMessage({status:WCL_TROUBLESHOOTING_INFO,data:e})}function instantiateCachedURL(e,i,t){const n="wasm-video-cache";const r="wasm-video-cache";const o="video_wasm";const a=i;const _=t;function s(){return new Promise((i,t)=>{var o=indexedDB.open(n,e);o.onerror=t.bind(null,"Error opening wasm cache database");o.onsuccess=(()=>{i(o.result)});o.onupgradeneeded=(e=>{var i=o.result;if(i.objectStoreNames.contains(r)){console.log(`Clearing out version ${e.oldVersion} wasm cache`);i.deleteObjectStore(r)}console.log(`Creating version ${e.newVersion} wasm cache`);i.createObjectStore(r)})})}function l(e){return new Promise((t,n)=>{var a=e.transaction([r]).objectStore(r);var _=a.get(o);_.onerror=n.bind(null,`Error getting wasm module ${i}`);_.onsuccess=(e=>{if(_.result)t(_.result);else n(`Module ${i} was not found in wasm cache`)})})}function u(e,t){var n=e.transaction([r],"readwrite").objectStore(r);var a=n.put(t,o);a.onerror=(e=>{console.log(`Failed to store in wasm cache: ${e}`)});a.onsuccess=(e=>{console.log(`Successfully stored ${i} in wasm cache`)})}function c(e,i){return d(e)}function d(e){let i=this;return new Promise((t,n)=>{i.addEventListener("message",e=>{let i=e.data;if(i.command==="DOWNLOAD_WASM_FROM_MAIN_THREAD_OK"){add_monitor("DE");t(i.data)}if(i.command==="DOWNLOAD_WASM_FROM_MAIN_THREAD_FAILED"){n()}});add_monitor("DS");postMessage({status:DOWNLOAD_WASM_FROM_MAIN_THREAD,url:e})})}function f(e){return new Promise(function(i,t){try{if(indexedDB){var n=FVERSION;var r=typeof IDBTransaction.READ_WRITE=="undefined"?"readwrite":IDBTransaction.READ_WRITE;var o=indexedDB.open("VIDEO_FILE",n),a,s=function(e){var i="file";if(e.objectStoreNames.contains(i)){e.deleteObjectStore(i)}e.createObjectStore(i)};o.onerror=function(t){var n=indexedDB.deleteDatabase("VIDEO_FILE");n.onerror=function(e){console.log("Error deleting database")};n.onsuccess=function(e){console.log("Database deleted successfully")};i(c(e,_).then(e=>{add_monitor("CS");var i=WebAssembly.instantiate(e,_);add_monitor("CE");return i}))};o.onsuccess=function(t){a=t.target.result;var n=a.transaction(["file"],r).objectStore("file");var o=n.get("video");o.onsuccess=function(t){if(o.result){var n=t.target.result;add_monitor("CS");var s=WebAssembly.instantiate(n,_);add_monitor("CE");i(s)}else{i(c(e,_).then(e=>{a.transaction(["file"],r).objectStore("file").put(e,"video");add_monitor("CS");var i=WebAssembly.instantiate(e,_);add_monitor("CE");return i}))}};o.onerror=function(t){i(c(e,_).then(e=>{add_monitor("CS");var i=WebAssembly.instantiate(e,_);add_monitor("CE");return i}))}};o.onupgradeneeded=function(e){s(e.target.result)}}else{i(c(e,_).then(e=>{add_monitor("CS");var i=WebAssembly.instantiate(e,_);add_monitor("CE");return i}))}}catch(t){i(c(e,_).then(e=>{add_monitor("CS");var i=WebAssembly.instantiate(e,_);add_monitor("CE");return i}))}})}function v(e){exports=e.exports;if(exports.memory)mergeMemory(exports.memory);Module["asm"]=exports;Module["usingWasm"]=true;removeRunDependency("wasm-instantiate")}return f(a).then(e=>{v(e.instance);postMessage({status:Video_Dec_WASM_OK});return}).catch(function(e){console.log(e);postMessage({status:Video_Dec_WASM_FAILED});return})}var Module=typeof Module!=="undefined"?Module:{};var moduleOverrides={};var key;for(key in Module){if(Module.hasOwnProperty(key)){moduleOverrides[key]=Module[key]}}Module["arguments"]=[];Module["thisProgram"]="./this.program";Module["quit"]=function(e,i){throw i};Module["preRun"]=[];Module["postRun"]=[];var ENVIRONMENT_IS_WEB=false;var ENVIRONMENT_IS_WORKER=false;var ENVIRONMENT_IS_NODE=false;var ENVIRONMENT_IS_SHELL=false;ENVIRONMENT_IS_WEB=typeof window==="object";ENVIRONMENT_IS_WORKER=typeof importScripts==="function";ENVIRONMENT_IS_NODE=typeof process==="object"&&typeof require==="function"&&!ENVIRONMENT_IS_WEB&&!ENVIRONMENT_IS_WORKER;ENVIRONMENT_IS_SHELL=!ENVIRONMENT_IS_WEB&&!ENVIRONMENT_IS_NODE&&!ENVIRONMENT_IS_WORKER;var scriptDirectory="";function locateFile(e){if(Module["locateFile"]){return Module["locateFile"](e,scriptDirectory)}else{return scriptDirectory+e}}if(ENVIRONMENT_IS_NODE){scriptDirectory=__dirname+"/";var nodeFS;var nodePath;Module["read"]=function e(i,t){var n;if(!nodeFS)nodeFS=require("fs");if(!nodePath)nodePath=require("path");i=nodePath["normalize"](i);n=nodeFS["readFileSync"](i);return t?n:n.toString()};Module["readBinary"]=function e(i){var t=Module["read"](i,true);if(!t.buffer){t=new Uint8Array(t)}assert(t.buffer);return t};if(process["argv"].length>1){Module["thisProgram"]=process["argv"][1].replace(/\\/g,"/")}Module["arguments"]=process["argv"].slice(2);if(typeof module!=="undefined"){module["exports"]=Module}process["on"]("uncaughtException",function(e){if(!(e instanceof ExitStatus)){throw e}});process["on"]("unhandledRejection",function(e,i){process["exit"](1)});Module["quit"]=function(e){process["exit"](e)};Module["inspect"]=function(){return"[Emscripten Module object]"}}else if(ENVIRONMENT_IS_SHELL){if(typeof read!="undefined"){Module["read"]=function e(i){return read(i)}}Module["readBinary"]=function e(i){var t;if(typeof readbuffer==="function"){return new Uint8Array(readbuffer(i))}t=read(i,"binary");assert(typeof t==="object");return t};if(typeof scriptArgs!="undefined"){Module["arguments"]=scriptArgs}else if(typeof arguments!="undefined"){Module["arguments"]=arguments}if(typeof quit==="function"){Module["quit"]=function(e){quit(e)}}}else if(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER){if(ENVIRONMENT_IS_WEB){var currentScript=document.currentScript;if(currentScript.src.indexOf("blob:")!==0){scriptDirectory=currentScript.src.split("/").slice(0,-1).join("/")+"/"}}else if(ENVIRONMENT_IS_WORKER){scriptDirectory=self.location.href.split("/").slice(0,-1).join("/")+"/"}Module["read"]=function e(i){var t=new XMLHttpRequest;t.open("GET",i,false);t.send(null);return t.responseText};if(ENVIRONMENT_IS_WORKER){Module["readBinary"]=function e(i){var t=new XMLHttpRequest;t.open("GET",i,false);t.responseType="arraybuffer";t.send(null);return new Uint8Array(t.response)}}Module["readAsync"]=function e(i,t,n){var r=new XMLHttpRequest;r.open("GET",i,true);r.responseType="arraybuffer";r.onload=function e(){if(r.status==200||r.status==0&&r.response){t(r.response);return}n()};r.onerror=n;r.send(null)};Module["setWindowTitle"]=function(e){document.title=e}}else{}var out=Module["print"]||(typeof console!=="undefined"?console.log.bind(console):typeof print!=="undefined"?print:null);var err=Module["printErr"]||(typeof printErr!=="undefined"?printErr:typeof console!=="undefined"&&console.warn.bind(console)||out);for(key in moduleOverrides){if(moduleOverrides.hasOwnProperty(key)){Module[key]=moduleOverrides[key]}}moduleOverrides=undefined;var STACK_ALIGN=16;function staticAlloc(e){var i=STATICTOP;STATICTOP=STATICTOP+e+15&-16;return i}function dynamicAlloc(e){var i=HEAP32[DYNAMICTOP_PTR>>2];var t=i+e+15&-16;HEAP32[DYNAMICTOP_PTR>>2]=t;if(t>=TOTAL_MEMORY){var n=enlargeMemory();if(!n){HEAP32[DYNAMICTOP_PTR>>2]=i;return 0}}return i}function alignMemory(e,i){if(!i)i=STACK_ALIGN;var t=e=Math.ceil(e/i)*i;return t}function getNativeTypeSize(e){switch(e){case"i1":case"i8":return 1;case"i16":return 2;case"i32":return 4;case"i64":return 8;case"float":return 4;case"double":return 8;default:{if(e[e.length-1]==="*"){return 4}else if(e[0]==="i"){var i=parseInt(e.substr(1));assert(i%8===0);return i/8}else{return 0}}}}function warnOnce(e){if(!warnOnce.shown)warnOnce.shown={};if(!warnOnce.shown[e]){warnOnce.shown[e]=1;err(e)}}var asm2wasmImports={"f64-rem":function(e,i){return e%i},debugger:function(){debugger}};var jsCallStartIndex=1;var functionPointers=new Array(0);var funcWrappers={};function dynCall(e,i,t){if(t&&t.length){return Module["dynCall_"+e].apply(null,[i].concat(t))}else{return Module["dynCall_"+e].call(null,i)}}var GLOBAL_BASE=1024;var ABORT=0;var EXITSTATUS=0;function assert(e,i){if(!e){abort("Assertion failed: "+i)}}function getCFunc(e){var i=Module["_"+e];assert(i,"Cannot call unknown function "+e+", make sure it is exported");return i}var JSfuncs={stackSave:function(){stackSave()},stackRestore:function(){stackRestore()},arrayToC:function(e){var i=stackAlloc(e.length);writeArrayToMemory(e,i);return i},stringToC:function(e){var i=0;if(e!==null&&e!==undefined&&e!==0){var t=(e.length<<2)+1;i=stackAlloc(t);stringToUTF8(e,i,t)}return i}};var toC={string:JSfuncs["stringToC"],array:JSfuncs["arrayToC"]};function ccall(e,i,t,n,r){function o(e){if(i==="string")return Pointer_stringify(e);if(i==="boolean")return Boolean(e);return e}var a=getCFunc(e);var _=[];var s=0;if(n){for(var l=0;l<n.length;l++){var u=toC[t[l]];if(u){if(s===0)s=stackSave();_[l]=u(n[l])}else{_[l]=n[l]}}}var c=a.apply(null,_);c=o(c);if(s!==0)stackRestore(s);return c}function cwrap(e,i,t,n){t=t||[];var r=t.every(function(e){return e==="number"});var o=i!=="string";if(o&&r&&!n){return getCFunc(e)}return function(){return ccall(e,i,t,arguments,n)}}function setValue(e,i,t,n){t=t||"i8";if(t.charAt(t.length-1)==="*")t="i32";switch(t){case"i1":HEAP8[e>>0]=i;break;case"i8":HEAP8[e>>0]=i;break;case"i16":HEAP16[e>>1]=i;break;case"i32":HEAP32[e>>2]=i;break;case"i64":tempI64=[i>>>0,(tempDouble=i,+Math_abs(tempDouble)>=1?tempDouble>0?(Math_min(+Math_floor(tempDouble/4294967296),4294967295)|0)>>>0:~~+Math_ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[e>>2]=tempI64[0],HEAP32[e+4>>2]=tempI64[1];break;case"float":HEAPF32[e>>2]=i;break;case"double":HEAPF64[e>>3]=i;break;default:abort("invalid type for setValue: "+t)}}var ALLOC_NORMAL=0;var ALLOC_STATIC=2;var ALLOC_NONE=4;function allocate(e,i,t,n){var r,o;if(typeof e==="number"){r=true;o=e}else{r=false;o=e.length}var a=typeof i==="string"?i:null;var _;if(t==ALLOC_NONE){_=n}else{_=[typeof _malloc==="function"?_malloc:staticAlloc,stackAlloc,staticAlloc,dynamicAlloc][t===undefined?ALLOC_STATIC:t](Math.max(o,a?1:i.length))}if(r){var s;n=_;assert((_&3)==0);s=_+(o&~3);for(;n<s;n+=4){HEAP32[n>>2]=0}s=_+o;while(n<s){HEAP8[n++>>0]=0}return _}if(a==="i8"){if(e.subarray||e.slice){HEAPU8.set(e,_)}else{HEAPU8.set(new Uint8Array(e),_)}return _}var l=0,u,c,d;while(l<o){var f=e[l];u=a||i[l];if(u===0){l++;continue}if(u=="i64")u="i32";setValue(_+l,f,u);if(d!==u){c=getNativeTypeSize(u);d=u}l+=c}return _}function getMemory(e){if(!staticSealed)return staticAlloc(e);if(!runtimeInitialized)return dynamicAlloc(e);return _malloc(e)}function Pointer_stringify(e,i){if(i===0||!e)return"";var t=0;var n;var r=0;while(1){n=HEAPU8[e+r>>0];t|=n;if(n==0&&!i)break;r++;if(i&&r==i)break}if(!i)i=r;var o="";if(t<128){var a=1024;var _;while(i>0){_=String.fromCharCode.apply(String,HEAPU8.subarray(e,e+Math.min(i,a)));o=o?o+_:_;e+=a;i-=a}return o}return UTF8ToString(e)}var UTF8Decoder=typeof TextDecoder!=="undefined"?new TextDecoder("utf8"):undefined;function UTF8ArrayToString(e,i){var t=i;while(e[t])++t;if(t-i>16&&e.subarray&&UTF8Decoder){return UTF8Decoder.decode(e.subarray(i,t))}else{var n,r,o,a,_,s;var l="";while(1){n=e[i++];if(!n)return l;if(!(n&128)){l+=String.fromCharCode(n);continue}r=e[i++]&63;if((n&224)==192){l+=String.fromCharCode((n&31)<<6|r);continue}o=e[i++]&63;if((n&240)==224){n=(n&15)<<12|r<<6|o}else{a=e[i++]&63;if((n&248)==240){n=(n&7)<<18|r<<12|o<<6|a}else{_=e[i++]&63;if((n&252)==248){n=(n&3)<<24|r<<18|o<<12|a<<6|_}else{s=e[i++]&63;n=(n&1)<<30|r<<24|o<<18|a<<12|_<<6|s}}}if(n<65536){l+=String.fromCharCode(n)}else{var u=n-65536;l+=String.fromCharCode(55296|u>>10,56320|u&1023)}}}}function UTF8ToString(e){return UTF8ArrayToString(HEAPU8,e)}function stringToUTF8Array(e,i,t,n){if(!(n>0))return 0;var r=t;var o=t+n-1;for(var a=0;a<e.length;++a){var _=e.charCodeAt(a);if(_>=55296&&_<=57343)_=65536+((_&1023)<<10)|e.charCodeAt(++a)&1023;if(_<=127){if(t>=o)break;i[t++]=_}else if(_<=2047){if(t+1>=o)break;i[t++]=192|_>>6;i[t++]=128|_&63}else if(_<=65535){if(t+2>=o)break;i[t++]=224|_>>12;i[t++]=128|_>>6&63;i[t++]=128|_&63}else if(_<=2097151){if(t+3>=o)break;i[t++]=240|_>>18;i[t++]=128|_>>12&63;i[t++]=128|_>>6&63;i[t++]=128|_&63}else if(_<=67108863){if(t+4>=o)break;i[t++]=248|_>>24;i[t++]=128|_>>18&63;i[t++]=128|_>>12&63;i[t++]=128|_>>6&63;i[t++]=128|_&63}else{if(t+5>=o)break;i[t++]=252|_>>30;i[t++]=128|_>>24&63;i[t++]=128|_>>18&63;i[t++]=128|_>>12&63;i[t++]=128|_>>6&63;i[t++]=128|_&63}}i[t]=0;return t-r}function stringToUTF8(e,i,t){return stringToUTF8Array(e,HEAPU8,i,t)}function lengthBytesUTF8(e){var i=0;for(var t=0;t<e.length;++t){var n=e.charCodeAt(t);if(n>=55296&&n<=57343)n=65536+((n&1023)<<10)|e.charCodeAt(++t)&1023;if(n<=127){++i}else if(n<=2047){i+=2}else if(n<=65535){i+=3}else if(n<=2097151){i+=4}else if(n<=67108863){i+=5}else{i+=6}}return i}var UTF16Decoder=typeof TextDecoder!=="undefined"?new TextDecoder("utf-16le"):undefined;function allocateUTF8(e){var i=lengthBytesUTF8(e)+1;var t=_malloc(i);if(t)stringToUTF8Array(e,HEAP8,t,i);return t}function demangle(e){var i=Module["___cxa_demangle"]||Module["__cxa_demangle"];assert(i);try{var t=e.substr(1);var n=lengthBytesUTF8(t)+1;var r=_malloc(n);stringToUTF8(t,r,n);var o=_malloc(4);var a=i(r,0,0,o);if(HEAP32[o>>2]===0&&a){return Pointer_stringify(a)}}catch(e){}finally{if(r)_free(r);if(o)_free(o);if(a)_free(a)}return e}function demangleAll(e){var i=/__Z[\w\d_]+/g;return e.replace(i,function(e){var i=demangle(e);return e===i?e:e+" ["+i+"]"})}function jsStackTrace(){var e=new Error;if(!e.stack){try{throw new Error(0)}catch(i){e=i}if(!e.stack){return"(no stack trace available)"}}return e.stack.toString()}function stackTrace(){var e=jsStackTrace();if(Module["extraStackTrace"])e+="\n"+Module["extraStackTrace"]();return demangleAll(e)}var PAGE_SIZE=16384;var WASM_PAGE_SIZE=65536;var ASMJS_PAGE_SIZE=16777216;var MIN_TOTAL_MEMORY=16777216;function alignUp(e,i){if(e%i>0){e+=i-e%i}return e}var buffer,HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAPF64;function updateGlobalBuffer(e){Module["buffer"]=buffer=e}function updateGlobalBufferViews(){Module["HEAP8"]=HEAP8=new Int8Array(buffer);Module["HEAP16"]=HEAP16=new Int16Array(buffer);Module["HEAP32"]=HEAP32=new Int32Array(buffer);Module["HEAPU8"]=HEAPU8=new Uint8Array(buffer);Module["HEAPU16"]=HEAPU16=new Uint16Array(buffer);Module["HEAPU32"]=HEAPU32=new Uint32Array(buffer);Module["HEAPF32"]=HEAPF32=new Float32Array(buffer);Module["HEAPF64"]=HEAPF64=new Float64Array(buffer)}var STATIC_BASE,STATICTOP,staticSealed;var STACK_BASE,STACKTOP,STACK_MAX;var DYNAMIC_BASE,DYNAMICTOP_PTR;STATIC_BASE=STATICTOP=STACK_BASE=STACKTOP=STACK_MAX=DYNAMIC_BASE=DYNAMICTOP_PTR=0;staticSealed=false;function abortOnCannotGrowMemory(){abort("Cannot enlarge memory arrays. Either (1) compile with  -s TOTAL_MEMORY=X  with X higher than the current value "+TOTAL_MEMORY+", (2) compile with  -s ALLOW_MEMORY_GROWTH=1  which allows increasing the size at runtime, or (3) if you want malloc to return NULL (0) instead of this abort, compile with  -s ABORTING_MALLOC=0 ")}if(!Module["reallocBuffer"])Module["reallocBuffer"]=function(e){var i;try{if(ArrayBuffer.transfer){i=ArrayBuffer.transfer(buffer,e)}else{var t=HEAP8;i=new ArrayBuffer(e);var n=new Int8Array(i);n.set(t)}}catch(e){return false}var r=_emscripten_replace_memory(i);if(!r)return false;return i};function enlargeMemory(){var e=Module["usingWasm"]?WASM_PAGE_SIZE:ASMJS_PAGE_SIZE;var i=2147483648-e;if(HEAP32[DYNAMICTOP_PTR>>2]>i){return false}var t=TOTAL_MEMORY;TOTAL_MEMORY=Math.max(TOTAL_MEMORY,MIN_TOTAL_MEMORY);while(TOTAL_MEMORY<HEAP32[DYNAMICTOP_PTR>>2]){if(TOTAL_MEMORY<=536870912){TOTAL_MEMORY=alignUp(2*TOTAL_MEMORY,e)}else{TOTAL_MEMORY=Math.min(alignUp((3*TOTAL_MEMORY+2147483648)/4,e),i)}}var n=Module["reallocBuffer"](TOTAL_MEMORY);if(!n||n.byteLength!=TOTAL_MEMORY){TOTAL_MEMORY=t;return false}updateGlobalBuffer(n);updateGlobalBufferViews();return true}var byteLength;try{byteLength=Function.prototype.call.bind(Object.getOwnPropertyDescriptor(ArrayBuffer.prototype,"byteLength").get);byteLength(new ArrayBuffer(4))}catch(e){byteLength=function(e){return e.byteLength}}var TOTAL_STACK=Module["TOTAL_STACK"]||5242880;var TOTAL_MEMORY=Module["TOTAL_MEMORY"]||16777216;if(TOTAL_MEMORY<TOTAL_STACK)err("TOTAL_MEMORY should be larger than TOTAL_STACK, was "+TOTAL_MEMORY+"! (TOTAL_STACK="+TOTAL_STACK+")");if(Module["buffer"]){buffer=Module["buffer"]}else{if(typeof WebAssembly==="object"&&typeof WebAssembly.Memory==="function"){Module["wasmMemory"]=new WebAssembly.Memory({initial:TOTAL_MEMORY/WASM_PAGE_SIZE});buffer=Module["wasmMemory"].buffer}else{buffer=new ArrayBuffer(TOTAL_MEMORY)}Module["buffer"]=buffer}updateGlobalBufferViews();function getTotalMemory(){return TOTAL_MEMORY}function callRuntimeCallbacks(e){while(e.length>0){var i=e.shift();if(typeof i=="function"){i();continue}var t=i.func;if(typeof t==="number"){if(i.arg===undefined){Module["dynCall_v"](t)}else{Module["dynCall_vi"](t,i.arg)}}else{t(i.arg===undefined?null:i.arg)}}}var __ATPRERUN__=[];var __ATINIT__=[];var __ATMAIN__=[];var __ATEXIT__=[];var __ATPOSTRUN__=[];var runtimeInitialized=false;var runtimeExited=false;function preRun(){if(Module["preRun"]){if(typeof Module["preRun"]=="function")Module["preRun"]=[Module["preRun"]];while(Module["preRun"].length){addOnPreRun(Module["preRun"].shift())}}callRuntimeCallbacks(__ATPRERUN__)}function ensureInitRuntime(){if(runtimeInitialized)return;runtimeInitialized=true;callRuntimeCallbacks(__ATINIT__)}function preMain(){callRuntimeCallbacks(__ATMAIN__)}function exitRuntime(){callRuntimeCallbacks(__ATEXIT__);runtimeExited=true}function postRun(){if(Module["postRun"]){if(typeof Module["postRun"]=="function")Module["postRun"]=[Module["postRun"]];while(Module["postRun"].length){addOnPostRun(Module["postRun"].shift())}}callRuntimeCallbacks(__ATPOSTRUN__)}function addOnPreRun(e){__ATPRERUN__.unshift(e)}function addOnPostRun(e){__ATPOSTRUN__.unshift(e)}function writeArrayToMemory(e,i){HEAP8.set(e,i)}function writeAsciiToMemory(e,i,t){for(var n=0;n<e.length;++n){HEAP8[i++>>0]=e.charCodeAt(n)}if(!t)HEAP8[i>>0]=0}var Math_abs=Math.abs;var Math_log=Math.log;var Math_sqrt=Math.sqrt;var Math_ceil=Math.ceil;var Math_floor=Math.floor;var Math_pow=Math.pow;var Math_min=Math.min;var runDependencies=0;var runDependencyWatcher=null;var dependenciesFulfilled=null;function getUniqueRunDependency(e){return e}function addRunDependency(e){runDependencies++;if(Module["monitorRunDependencies"]){Module["monitorRunDependencies"](runDependencies)}}function removeRunDependency(e){runDependencies--;if(Module["monitorRunDependencies"]){Module["monitorRunDependencies"](runDependencies)}if(runDependencies==0){if(runDependencyWatcher!==null){clearInterval(runDependencyWatcher);runDependencyWatcher=null}if(dependenciesFulfilled){var i=dependenciesFulfilled;dependenciesFulfilled=null;i()}}}Module["preloadedImages"]={};Module["preloadedAudios"]={};var dataURIPrefix="data:application/octet-stream;base64,";function isDataURI(e){return String.prototype.startsWith?e.startsWith(dataURIPrefix):e.indexOf(dataURIPrefix)===0}function integrateWasmJS(){var e="video.decode.wast";var i="video.decode.wasm";var t="video.decode.temp.asm.js";if(!isDataURI(e)){e=locateFile(e)}if(!isDataURI(i)){i=locateFile(i)}if(!isDataURI(t)){t=locateFile(t)}var n=64*1024;var r={global:null,env:null,asm2wasm:asm2wasmImports,parent:Module};var o=null;function a(e){var i=Module["buffer"];if(e.byteLength<i.byteLength){err("the new buffer in mergeMemory is smaller than the previous one. in native wasm, we should grow memory here")}var t=new Int8Array(i);var n=new Int8Array(e);n.set(t);updateGlobalBuffer(e);updateGlobalBufferViews()}function _(e){return e}function s(){try{if(Module["wasmBinary"]){return new Uint8Array(Module["wasmBinary"])}if(Module["readBinary"]){return Module["readBinary"](i)}else{throw"both async and sync fetching of the wasm failed"}}catch(e){abort(e)}}function l(){if(!Module["wasmBinary"]&&(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)&&typeof fetch==="function"){return fetch(i,{credentials:"same-origin"}).then(function(e){if(!e["ok"]){throw"failed to load wasm binary file at '"+i+"'"}return e["arrayBuffer"]()}).catch(function(){return s()})}return new Promise(function(e,i){e(s())})}function u(e,t,n){if(typeof WebAssembly!=="object"){err("no native wasm support detected");return false}if(!(Module["wasmMemory"]instanceof WebAssembly.Memory)){err("no native wasm Memory in use");return false}t["memory"]=Module["wasmMemory"];r["global"]={NaN:NaN,Infinity:Infinity};r["global.Math"]=Math;r["env"]=t;function _(e,i){o=e.exports;if(o.memory)a(o.memory);Module["asm"]=o;Module["usingWasm"]=true;removeRunDependency("wasm-instantiate")}addRunDependency("wasm-instantiate");if(Module["instantiateWasm"]){try{return Module["instantiateWasm"](r,_)}catch(e){err("Module.instantiateWasm callback failed with error: "+e);return false}}function s(e){_(e["instance"],e["module"])}function u(e){instantiateCachedURL(442,wasmUrl+"video.decode.wasm",r);return{};l().then(function(e){return WebAssembly.instantiate(e,r)}).then(e).catch(function(e){err("failed to asynchronously prepare wasm: "+e);abort(e)})}if(!Module["wasmBinary"]&&typeof WebAssembly.instantiateStreaming==="function"&&!isDataURI(i)&&typeof fetch==="function"){WebAssembly.instantiateStreaming(fetch(i,{credentials:"same-origin"}),r).then(s).catch(function(e){err("wasm streaming compile failed: "+e);err("falling back to ArrayBuffer instantiation");u(s)})}else{u(s)}return{}}Module["asmPreload"]=Module["asm"];var c=Module["reallocBuffer"];var d=function(e){var i=Module["usingWasm"]?WASM_PAGE_SIZE:ASMJS_PAGE_SIZE;e=alignUp(e,i);var t=Module["buffer"];var r=t.byteLength;if(Module["usingWasm"]){try{var o=Module["wasmMemory"].grow((e-r)/n);if(o!==(-1|0)){return Module["buffer"]=Module["wasmMemory"].buffer}else{return null}}catch(e){return null}}};Module["reallocBuffer"]=function(e){if(f==="asmjs"){return c(e)}else{return d(e)}};var f="";Module["asm"]=function(e,i,t){i=_(i);if(!i["table"]){var n=Module["wasmTableSize"];if(n===undefined)n=1024;var r=Module["wasmMaxTableSize"];if(typeof WebAssembly==="object"&&typeof WebAssembly.Table==="function"){if(r!==undefined){i["table"]=new WebAssembly.Table({initial:n,maximum:r,element:"anyfunc"})}else{i["table"]=new WebAssembly.Table({initial:n,element:"anyfunc"})}}else{i["table"]=new Array(n)}Module["wasmTable"]=i["table"]}if(!i["memoryBase"]){i["memoryBase"]=Module["STATIC_BASE"]}if(!i["tableBase"]){i["tableBase"]=0}var o;o=u(e,i,t);assert(o,"no binaryen method succeeded.");return o}}integrateWasmJS();var ASM_CONSTS=[function(e,i,t){js_info_from_wcl(e,i,t)},function(e,i,t,n,r,o,a,_,s,l,u,c){frame_callback(e,i,t,n,r,o,a,_,s,l,u,c)},function(e,i){decode_callback(e,i)},function(e,i,t){js_info_from_wcl(e,i,t)},function(e,i){APP_Troubleshoting_Info(e,i)},function(e,i){send_data(e,i)},function(e,i,t,n){Monitor_Callback(e,i,t,n)},function(e,i,t,n){Monitor_CallbackE(e,i,t,n)},function(e,i,t,n){Monitor_CallbackD(e,i,t,n)},function(e,i){Send_Data(e,i)},function(e,i,t,n){frame_callback(e,i,t,n)},function(e,i){Send_Data(e,i)},function(e){Update_WebSokcet_Speed(e)},function(e,i,t,n,r){Sharing_Encode_Sending_Status(e,i,t,n,r)},function(e,i,t,n){Sharing_Encode_Codec_Info(e,i,t,n)}];function _emscripten_asm_const_iiiii(e,i,t,n,r){return ASM_CONSTS[e](i,t,n,r)}function _emscripten_asm_const_iii(e,i,t){return ASM_CONSTS[e](i,t)}function _emscripten_asm_const_iiiiiiiiiiiii(e,i,t,n,r,o,a,_,s,l,u,c,d){return ASM_CONSTS[e](i,t,n,r,o,a,_,s,l,u,c,d)}function _emscripten_asm_const_iiii(e,i,t,n){return ASM_CONSTS[e](i,t,n)}function _emscripten_asm_const_iiiiii(e,i,t,n,r,o){return ASM_CONSTS[e](i,t,n,r,o)}function _emscripten_asm_const_ii(e,i){return ASM_CONSTS[e](i)}STATIC_BASE=GLOBAL_BASE;STATICTOP=STATIC_BASE+234016;__ATINIT__.push({func:function(){___cxx_global_var_init_2996()}},{func:function(){___emscripten_environ_constructor()}},{func:function(){__GLOBAL__sub_I_CptShare_cpp()}},{func:function(){__GLOBAL__sub_I_singleton_cpp()}},{func:function(){__GLOBAL__sub_I_auxi_cpp()}},{func:function(){___cxx_global_var_init_4()}},{func:function(){___cxx_global_var_init_3_3075()}},{func:function(){___cxx_global_var_init_3()}},{func:function(){___cxx_global_var_init_2_3063()}},{func:function(){___cxx_global_var_init_1_3062()}},{func:function(){___cxx_global_var_init_3061()}},{func:function(){___cxx_global_var_init_3032()}},{func:function(){___cxx_global_var_init_3027()}},{func:function(){___cxx_global_var_init_3019()}},{func:function(){__GLOBAL__sub_I_wcl_video_cpp()}},{func:function(){__GLOBAL__sub_I_text_stream_cpp()}},{func:function(){___cxx_global_var_init_12()}},{func:function(){__GLOBAL__sub_I_log_cpp()}},{func:function(){___cxx_global_var_init_48()}},{func:function(){___cxx_global_var_init_47()}},{func:function(){__GLOBAL__sub_I_zltperfmonitor_cpp()}},{func:function(){__GLOBAL__sub_I_rsfec_cpp()}},{func:function(){__GLOBAL__sub_I_ssb_media_security_officer_cpp()}},{func:function(){__GLOBAL__sub_I_ssb_media_video_stream_config_cpp()}},{func:function(){__GLOBAL__sub_I_ssb_media_wcl_as_controller_cpp()}},{func:function(){__GLOBAL__sub_I_ssb_media_wcl_video_controller_cpp()}},{func:function(){__GLOBAL__sub_I_wcl_sharing_cpp()}});var STATIC_BUMP=234016;Module["STATIC_BASE"]=STATIC_BASE;Module["STATIC_BUMP"]=STATIC_BUMP;var tempDoublePtr=STATICTOP;STATICTOP+=16;function __Z20destroy_capture_hostP8ICptHost(){err("missing function: _Z20destroy_capture_hostP8ICptHost");abort(-1)}function ___assert_fail(e,i,t,n){abort("Assertion failed: "+Pointer_stringify(e)+", at: "+[i?Pointer_stringify(i):"unknown filename",t,n?Pointer_stringify(n):"unknown function"])}var ENV={};function ___buildEnvironment(e){var i=64;var t=1024;var n;var r;if(!___buildEnvironment.called){___buildEnvironment.called=true;ENV["USER"]=ENV["LOGNAME"]="web_user";ENV["PATH"]="/";ENV["PWD"]="/";ENV["HOME"]="/home/web_user";ENV["LANG"]="C.UTF-8";ENV["_"]=Module["thisProgram"];n=getMemory(t);r=getMemory(i*4);HEAP32[r>>2]=n;HEAP32[e>>2]=r}else{r=HEAP32[e>>2];n=HEAP32[r>>2]}var o=[];var a=0;for(var _ in ENV){if(typeof ENV[_]==="string"){var s=_+"="+ENV[_];o.push(s);a+=s.length}}if(a>t){throw new Error("Environment size exceeded TOTAL_ENV_SIZE!")}var l=4;for(var u=0;u<o.length;u++){var s=o[u];writeAsciiToMemory(s,n);HEAP32[r+u*l>>2]=n;n+=s.length+1}HEAP32[r+o.length*l>>2]=0}function ___cxa_allocate_exception(e){return _malloc(e)}var EXCEPTIONS={last:0,caught:[],infos:{},deAdjust:function(e){if(!e||EXCEPTIONS.infos[e])return e;for(var i in EXCEPTIONS.infos){var t=+i;var n=EXCEPTIONS.infos[t];if(n.adjusted===e){return t}}return e},addRef:function(e){if(!e)return;var i=EXCEPTIONS.infos[e];i.refcount++},decRef:function(e){if(!e)return;var i=EXCEPTIONS.infos[e];assert(i.refcount>0);i.refcount--;if(i.refcount===0&&!i.rethrown){if(i.destructor){Module["dynCall_vi"](i.destructor,e)}delete EXCEPTIONS.infos[e];___cxa_free_exception(e)}},clearRef:function(e){if(!e)return;var i=EXCEPTIONS.infos[e];i.refcount=0}};function ___cxa_begin_catch(e){var i=EXCEPTIONS.infos[e];if(i&&!i.caught){i.caught=true;__ZSt18uncaught_exceptionv.uncaught_exception--}if(i)i.rethrown=false;EXCEPTIONS.caught.push(e);EXCEPTIONS.addRef(EXCEPTIONS.deAdjust(e));return e}function ___cxa_pure_virtual(){ABORT=true;throw"Pure virtual function called!"}function ___resumeException(e){if(!EXCEPTIONS.last){EXCEPTIONS.last=e}throw e+" - Exception catching is disabled, this exception cannot be caught. Compile with -s DISABLE_EXCEPTION_CATCHING=0 or DISABLE_EXCEPTION_CATCHING=2 to catch."}function ___cxa_find_matching_catch(){var e=EXCEPTIONS.last;if(!e){return(setTempRet0(0),0)|0}var i=EXCEPTIONS.infos[e];var t=i.type;if(!t){return(setTempRet0(0),e)|0}var n=Array.prototype.slice.call(arguments);var r=Module["___cxa_is_pointer_type"](t);if(!___cxa_find_matching_catch.buffer)___cxa_find_matching_catch.buffer=_malloc(4);HEAP32[___cxa_find_matching_catch.buffer>>2]=e;e=___cxa_find_matching_catch.buffer;for(var o=0;o<n.length;o++){if(n[o]&&Module["___cxa_can_catch"](n[o],t,e)){e=HEAP32[e>>2];i.adjusted=e;return(setTempRet0(n[o]),e)|0}}e=HEAP32[e>>2];return(setTempRet0(t),e)|0}function ___cxa_throw(e,i,t){EXCEPTIONS.infos[e]={ptr:e,adjusted:e,type:i,destructor:t,refcount:0,caught:false,rethrown:false};EXCEPTIONS.last=e;if(!("uncaught_exception"in __ZSt18uncaught_exceptionv)){__ZSt18uncaught_exceptionv.uncaught_exception=1}else{__ZSt18uncaught_exceptionv.uncaught_exception++}throw e+" - Exception catching is disabled, this exception cannot be caught. Compile with -s DISABLE_EXCEPTION_CATCHING=0 or DISABLE_EXCEPTION_CATCHING=2 to catch."}function ___cxa_uncaught_exception(){return!!__ZSt18uncaught_exceptionv.uncaught_exception}function ___gxx_personality_v0(){}function ___lock(){}var ERRNO_CODES={EPERM:1,ENOENT:2,ESRCH:3,EINTR:4,EIO:5,ENXIO:6,E2BIG:7,ENOEXEC:8,EBADF:9,ECHILD:10,EAGAIN:11,EWOULDBLOCK:11,ENOMEM:12,EACCES:13,EFAULT:14,ENOTBLK:15,EBUSY:16,EEXIST:17,EXDEV:18,ENODEV:19,ENOTDIR:20,EISDIR:21,EINVAL:22,ENFILE:23,EMFILE:24,ENOTTY:25,ETXTBSY:26,EFBIG:27,ENOSPC:28,ESPIPE:29,EROFS:30,EMLINK:31,EPIPE:32,EDOM:33,ERANGE:34,ENOMSG:42,EIDRM:43,ECHRNG:44,EL2NSYNC:45,EL3HLT:46,EL3RST:47,ELNRNG:48,EUNATCH:49,ENOCSI:50,EL2HLT:51,EDEADLK:35,ENOLCK:37,EBADE:52,EBADR:53,EXFULL:54,ENOANO:55,EBADRQC:56,EBADSLT:57,EDEADLOCK:35,EBFONT:59,ENOSTR:60,ENODATA:61,ETIME:62,ENOSR:63,ENONET:64,ENOPKG:65,EREMOTE:66,ENOLINK:67,EADV:68,ESRMNT:69,ECOMM:70,EPROTO:71,EMULTIHOP:72,EDOTDOT:73,EBADMSG:74,ENOTUNIQ:76,EBADFD:77,EREMCHG:78,ELIBACC:79,ELIBBAD:80,ELIBSCN:81,ELIBMAX:82,ELIBEXEC:83,ENOSYS:38,ENOTEMPTY:39,ENAMETOOLONG:36,ELOOP:40,EOPNOTSUPP:95,EPFNOSUPPORT:96,ECONNRESET:104,ENOBUFS:105,EAFNOSUPPORT:97,EPROTOTYPE:91,ENOTSOCK:88,ENOPROTOOPT:92,ESHUTDOWN:108,ECONNREFUSED:111,EADDRINUSE:98,ECONNABORTED:103,ENETUNREACH:101,ENETDOWN:100,ETIMEDOUT:110,EHOSTDOWN:112,EHOSTUNREACH:113,EINPROGRESS:115,EALREADY:114,EDESTADDRREQ:89,EMSGSIZE:90,EPROTONOSUPPORT:93,ESOCKTNOSUPPORT:94,EADDRNOTAVAIL:99,ENETRESET:102,EISCONN:106,ENOTCONN:107,ETOOMANYREFS:109,EUSERS:87,EDQUOT:122,ESTALE:116,ENOTSUP:95,ENOMEDIUM:123,EILSEQ:84,EOVERFLOW:75,ECANCELED:125,ENOTRECOVERABLE:131,EOWNERDEAD:130,ESTRPIPE:86};function ___setErrNo(e){if(Module["___errno_location"])HEAP32[Module["___errno_location"]()>>2]=e;return e}function ___map_file(e,i){___setErrNo(ERRNO_CODES.EPERM);return-1}var ERRNO_MESSAGES={0:"Success",1:"Not super-user",2:"No such file or directory",3:"No such process",4:"Interrupted system call",5:"I/O error",6:"No such device or address",7:"Arg list too long",8:"Exec format error",9:"Bad file number",10:"No children",11:"No more processes",12:"Not enough core",13:"Permission denied",14:"Bad address",15:"Block device required",16:"Mount device busy",17:"File exists",18:"Cross-device link",19:"No such device",20:"Not a directory",21:"Is a directory",22:"Invalid argument",23:"Too many open files in system",24:"Too many open files",25:"Not a typewriter",26:"Text file busy",27:"File too large",28:"No space left on device",29:"Illegal seek",30:"Read only file system",31:"Too many links",32:"Broken pipe",33:"Math arg out of domain of func",34:"Math result not representable",35:"File locking deadlock error",36:"File or path name too long",37:"No record locks available",38:"Function not implemented",39:"Directory not empty",40:"Too many symbolic links",42:"No message of desired type",43:"Identifier removed",44:"Channel number out of range",45:"Level 2 not synchronized",46:"Level 3 halted",47:"Level 3 reset",48:"Link number out of range",49:"Protocol driver not attached",50:"No CSI structure available",51:"Level 2 halted",52:"Invalid exchange",53:"Invalid request descriptor",54:"Exchange full",55:"No anode",56:"Invalid request code",57:"Invalid slot",59:"Bad font file fmt",60:"Device not a stream",61:"No data (for no delay io)",62:"Timer expired",63:"Out of streams resources",64:"Machine is not on the network",65:"Package not installed",66:"The object is remote",67:"The link has been severed",68:"Advertise error",69:"Srmount error",70:"Communication error on send",71:"Protocol error",72:"Multihop attempted",73:"Cross mount point (not really error)",74:"Trying to read unreadable message",75:"Value too large for defined data type",76:"Given log. name not unique",77:"f.d. invalid for this operation",78:"Remote address changed",79:"Can   access a needed shared lib",80:"Accessing a corrupted shared lib",81:".lib section in a.out corrupted",82:"Attempting to link in too many libs",83:"Attempting to exec a shared library",84:"Illegal byte sequence",86:"Streams pipe error",87:"Too many users",88:"Socket operation on non-socket",89:"Destination address required",90:"Message too long",91:"Protocol wrong type for socket",92:"Protocol not available",93:"Unknown protocol",94:"Socket type not supported",95:"Not supported",96:"Protocol family not supported",97:"Address family not supported by protocol family",98:"Address already in use",99:"Address not available",100:"Network interface is not configured",101:"Network is unreachable",102:"Connection reset by network",103:"Connection aborted",104:"Connection reset by peer",105:"No buffer space available",106:"Socket is already connected",107:"Socket is not connected",108:"Can't send after socket shutdown",109:"Too many references",110:"Connection timed out",111:"Connection refused",112:"Host is down",113:"Host is unreachable",114:"Socket already connected",115:"Connection already in progress",116:"Stale file handle",122:"Quota exceeded",123:"No medium (in tape drive)",125:"Operation canceled",130:"Previous owner died",131:"State not recoverable"};var PATH={splitPath:function(e){var i=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return i.exec(e).slice(1)},normalizeArray:function(e,i){var t=0;for(var n=e.length-1;n>=0;n--){var r=e[n];if(r==="."){e.splice(n,1)}else if(r===".."){e.splice(n,1);t++}else if(t){e.splice(n,1);t--}}if(i){for(;t;t--){e.unshift("..")}}return e},normalize:function(e){var i=e.charAt(0)==="/",t=e.substr(-1)==="/";e=PATH.normalizeArray(e.split("/").filter(function(e){return!!e}),!i).join("/");if(!e&&!i){e="."}if(e&&t){e+="/"}return(i?"/":"")+e},dirname:function(e){var i=PATH.splitPath(e),t=i[0],n=i[1];if(!t&&!n){return"."}if(n){n=n.substr(0,n.length-1)}return t+n},basename:function(e){if(e==="/")return"/";var i=e.lastIndexOf("/");if(i===-1)return e;return e.substr(i+1)},extname:function(e){return PATH.splitPath(e)[3]},join:function(){var e=Array.prototype.slice.call(arguments,0);return PATH.normalize(e.join("/"))},join2:function(e,i){return PATH.normalize(e+"/"+i)},resolve:function(){var e="",i=false;for(var t=arguments.length-1;t>=-1&&!i;t--){var n=t>=0?arguments[t]:FS.cwd();if(typeof n!=="string"){throw new TypeError("Arguments to path.resolve must be strings")}else if(!n){return""}e=n+"/"+e;i=n.charAt(0)==="/"}e=PATH.normalizeArray(e.split("/").filter(function(e){return!!e}),!i).join("/");return(i?"/":"")+e||"."},relative:function(e,i){e=PATH.resolve(e).substr(1);i=PATH.resolve(i).substr(1);function t(e){var i=0;for(;i<e.length;i++){if(e[i]!=="")break}var t=e.length-1;for(;t>=0;t--){if(e[t]!=="")break}if(i>t)return[];return e.slice(i,t-i+1)}var n=t(e.split("/"));var r=t(i.split("/"));var o=Math.min(n.length,r.length);var a=o;for(var _=0;_<o;_++){if(n[_]!==r[_]){a=_;break}}var s=[];for(var _=a;_<n.length;_++){s.push("..")}s=s.concat(r.slice(a));return s.join("/")}};var TTY={ttys:[],init:function(){},shutdown:function(){},register:function(e,i){TTY.ttys[e]={input:[],output:[],ops:i};FS.registerDevice(e,TTY.stream_ops)},stream_ops:{open:function(e){var i=TTY.ttys[e.node.rdev];if(!i){throw new FS.ErrnoError(ERRNO_CODES.ENODEV)}e.tty=i;e.seekable=false},close:function(e){e.tty.ops.flush(e.tty)},flush:function(e){e.tty.ops.flush(e.tty)},read:function(e,i,t,n,r){if(!e.tty||!e.tty.ops.get_char){throw new FS.ErrnoError(ERRNO_CODES.ENXIO)}var o=0;for(var a=0;a<n;a++){var _;try{_=e.tty.ops.get_char(e.tty)}catch(e){throw new FS.ErrnoError(ERRNO_CODES.EIO)}if(_===undefined&&o===0){throw new FS.ErrnoError(ERRNO_CODES.EAGAIN)}if(_===null||_===undefined)break;o++;i[t+a]=_}if(o){e.node.timestamp=Date.now()}return o},write:function(e,i,t,n,r){if(!e.tty||!e.tty.ops.put_char){throw new FS.ErrnoError(ERRNO_CODES.ENXIO)}for(var o=0;o<n;o++){try{e.tty.ops.put_char(e.tty,i[t+o])}catch(e){throw new FS.ErrnoError(ERRNO_CODES.EIO)}}if(n){e.node.timestamp=Date.now()}return o}},default_tty_ops:{get_char:function(e){if(!e.input.length){var i=null;if(ENVIRONMENT_IS_NODE){var t=256;var n=new Buffer(t);var r=0;var o=process.platform!="win32";var a=process.stdin.fd;if(o){var _=false;try{a=fs.openSync("/dev/stdin","r");_=true}catch(e){}}try{r=fs.readSync(a,n,0,t,null)}catch(e){if(e.toString().indexOf("EOF")!=-1)r=0;else throw e}if(_){fs.closeSync(a)}if(r>0){i=n.slice(0,r).toString("utf-8")}else{i=null}}else if(typeof window!="undefined"&&typeof window.prompt=="function"){i=window.prompt("Input: ");if(i!==null){i+="\n"}}else if(typeof readline=="function"){i=readline();if(i!==null){i+="\n"}}if(!i){return null}e.input=intArrayFromString(i,true)}return e.input.shift()},put_char:function(e,i){if(i===null||i===10){out(UTF8ArrayToString(e.output,0));e.output=[]}else{if(i!=0)e.output.push(i)}},flush:function(e){if(e.output&&e.output.length>0){out(UTF8ArrayToString(e.output,0));e.output=[]}}},default_tty1_ops:{put_char:function(e,i){if(i===null||i===10){err(UTF8ArrayToString(e.output,0));e.output=[]}else{if(i!=0)e.output.push(i)}},flush:function(e){if(e.output&&e.output.length>0){err(UTF8ArrayToString(e.output,0));e.output=[]}}}};var MEMFS={ops_table:null,mount:function(e){return MEMFS.createNode(null,"/",16384|511,0)},createNode:function(e,i,t,n){if(FS.isBlkdev(t)||FS.isFIFO(t)){throw new FS.ErrnoError(ERRNO_CODES.EPERM)}if(!MEMFS.ops_table){MEMFS.ops_table={dir:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr,lookup:MEMFS.node_ops.lookup,mknod:MEMFS.node_ops.mknod,rename:MEMFS.node_ops.rename,unlink:MEMFS.node_ops.unlink,rmdir:MEMFS.node_ops.rmdir,readdir:MEMFS.node_ops.readdir,symlink:MEMFS.node_ops.symlink},stream:{llseek:MEMFS.stream_ops.llseek}},file:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr},stream:{llseek:MEMFS.stream_ops.llseek,read:MEMFS.stream_ops.read,write:MEMFS.stream_ops.write,allocate:MEMFS.stream_ops.allocate,mmap:MEMFS.stream_ops.mmap,msync:MEMFS.stream_ops.msync}},link:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr,readlink:MEMFS.node_ops.readlink},stream:{}},chrdev:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr},stream:FS.chrdev_stream_ops}}}var r=FS.createNode(e,i,t,n);if(FS.isDir(r.mode)){r.node_ops=MEMFS.ops_table.dir.node;r.stream_ops=MEMFS.ops_table.dir.stream;r.contents={}}else if(FS.isFile(r.mode)){r.node_ops=MEMFS.ops_table.file.node;r.stream_ops=MEMFS.ops_table.file.stream;r.usedBytes=0;r.contents=null}else if(FS.isLink(r.mode)){r.node_ops=MEMFS.ops_table.link.node;r.stream_ops=MEMFS.ops_table.link.stream}else if(FS.isChrdev(r.mode)){r.node_ops=MEMFS.ops_table.chrdev.node;r.stream_ops=MEMFS.ops_table.chrdev.stream}r.timestamp=Date.now();if(e){e.contents[i]=r}return r},getFileDataAsRegularArray:function(e){if(e.contents&&e.contents.subarray){var i=[];for(var t=0;t<e.usedBytes;++t)i.push(e.contents[t]);return i}return e.contents},getFileDataAsTypedArray:function(e){if(!e.contents)return new Uint8Array;if(e.contents.subarray)return e.contents.subarray(0,e.usedBytes);return new Uint8Array(e.contents)},expandFileStorage:function(e,i){if(e.contents&&e.contents.subarray&&i>e.contents.length){e.contents=MEMFS.getFileDataAsRegularArray(e);e.usedBytes=e.contents.length}if(!e.contents||e.contents.subarray){var t=e.contents?e.contents.length:0;if(t>=i)return;var n=1024*1024;i=Math.max(i,t*(t<n?2:1.125)|0);if(t!=0)i=Math.max(i,256);var r=e.contents;e.contents=new Uint8Array(i);if(e.usedBytes>0)e.contents.set(r.subarray(0,e.usedBytes),0);return}if(!e.contents&&i>0)e.contents=[];while(e.contents.length<i)e.contents.push(0)},resizeFileStorage:function(e,i){if(e.usedBytes==i)return;if(i==0){e.contents=null;e.usedBytes=0;return}if(!e.contents||e.contents.subarray){var t=e.contents;e.contents=new Uint8Array(new ArrayBuffer(i));if(t){e.contents.set(t.subarray(0,Math.min(i,e.usedBytes)))}e.usedBytes=i;return}if(!e.contents)e.contents=[];if(e.contents.length>i)e.contents.length=i;else while(e.contents.length<i)e.contents.push(0);e.usedBytes=i},node_ops:{getattr:function(e){var i={};i.dev=FS.isChrdev(e.mode)?e.id:1;i.ino=e.id;i.mode=e.mode;i.nlink=1;i.uid=0;i.gid=0;i.rdev=e.rdev;if(FS.isDir(e.mode)){i.size=4096}else if(FS.isFile(e.mode)){i.size=e.usedBytes}else if(FS.isLink(e.mode)){i.size=e.link.length}else{i.size=0}i.atime=new Date(e.timestamp);i.mtime=new Date(e.timestamp);i.ctime=new Date(e.timestamp);i.blksize=4096;i.blocks=Math.ceil(i.size/i.blksize);return i},setattr:function(e,i){if(i.mode!==undefined){e.mode=i.mode}if(i.timestamp!==undefined){e.timestamp=i.timestamp}if(i.size!==undefined){MEMFS.resizeFileStorage(e,i.size)}},lookup:function(e,i){throw FS.genericErrors[ERRNO_CODES.ENOENT]},mknod:function(e,i,t,n){return MEMFS.createNode(e,i,t,n)},rename:function(e,i,t){if(FS.isDir(e.mode)){var n;try{n=FS.lookupNode(i,t)}catch(e){}if(n){for(var r in n.contents){throw new FS.ErrnoError(ERRNO_CODES.ENOTEMPTY)}}}delete e.parent.contents[e.name];e.name=t;i.contents[t]=e;e.parent=i},unlink:function(e,i){delete e.contents[i]},rmdir:function(e,i){var t=FS.lookupNode(e,i);for(var n in t.contents){throw new FS.ErrnoError(ERRNO_CODES.ENOTEMPTY)}delete e.contents[i]},readdir:function(e){var i=[".",".."];for(var t in e.contents){if(!e.contents.hasOwnProperty(t)){continue}i.push(t)}return i},symlink:function(e,i,t){var n=MEMFS.createNode(e,i,511|40960,0);n.link=t;return n},readlink:function(e){if(!FS.isLink(e.mode)){throw new FS.ErrnoError(ERRNO_CODES.EINVAL)}return e.link}},stream_ops:{read:function(e,i,t,n,r){var o=e.node.contents;if(r>=e.node.usedBytes)return 0;var a=Math.min(e.node.usedBytes-r,n);assert(a>=0);if(a>8&&o.subarray){i.set(o.subarray(r,r+a),t)}else{for(var _=0;_<a;_++)i[t+_]=o[r+_]}return a},write:function(e,i,t,n,r,o){if(!n)return 0;var a=e.node;a.timestamp=Date.now();if(i.subarray&&(!a.contents||a.contents.subarray)){if(o){a.contents=i.subarray(t,t+n);a.usedBytes=n;return n}else if(a.usedBytes===0&&r===0){a.contents=new Uint8Array(i.subarray(t,t+n));a.usedBytes=n;return n}else if(r+n<=a.usedBytes){a.contents.set(i.subarray(t,t+n),r);return n}}MEMFS.expandFileStorage(a,r+n);if(a.contents.subarray&&i.subarray)a.contents.set(i.subarray(t,t+n),r);else{for(var _=0;_<n;_++){a.contents[r+_]=i[t+_]}}a.usedBytes=Math.max(a.usedBytes,r+n);return n},llseek:function(e,i,t){var n=i;if(t===1){n+=e.position}else if(t===2){if(FS.isFile(e.node.mode)){n+=e.node.usedBytes}}if(n<0){throw new FS.ErrnoError(ERRNO_CODES.EINVAL)}return n},allocate:function(e,i,t){MEMFS.expandFileStorage(e.node,i+t);e.node.usedBytes=Math.max(e.node.usedBytes,i+t)},mmap:function(e,i,t,n,r,o,a){if(!FS.isFile(e.node.mode)){throw new FS.ErrnoError(ERRNO_CODES.ENODEV)}var _;var s;var l=e.node.contents;if(!(a&2)&&(l.buffer===i||l.buffer===i.buffer)){s=false;_=l.byteOffset}else{if(r>0||r+n<e.node.usedBytes){if(l.subarray){l=l.subarray(r,r+n)}else{l=Array.prototype.slice.call(l,r,r+n)}}s=true;_=_malloc(n);if(!_){throw new FS.ErrnoError(ERRNO_CODES.ENOMEM)}i.set(l,_)}return{ptr:_,allocated:s}},msync:function(e,i,t,n,r){if(!FS.isFile(e.node.mode)){throw new FS.ErrnoError(ERRNO_CODES.ENODEV)}if(r&2){return 0}var o=MEMFS.stream_ops.write(e,i,0,n,t,false);return 0}}};var IDBFS={dbs:{},indexedDB:function(){if(typeof indexedDB!=="undefined")return indexedDB;var e=null;if(typeof window==="object")e=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB;assert(e,"IDBFS used, but indexedDB not supported");return e},DB_VERSION:21,DB_STORE_NAME:"FILE_DATA",mount:function(e){return MEMFS.mount.apply(null,arguments)},syncfs:function(e,i,t){IDBFS.getLocalSet(e,function(n,r){if(n)return t(n);IDBFS.getRemoteSet(e,function(e,n){if(e)return t(e);var o=i?n:r;var a=i?r:n;IDBFS.reconcile(o,a,t)})})},getDB:function(e,i){var t=IDBFS.dbs[e];if(t){return i(null,t)}var n;try{n=IDBFS.indexedDB().open(e,IDBFS.DB_VERSION)}catch(e){return i(e)}if(!n){return i("Unable to connect to IndexedDB")}n.onupgradeneeded=function(e){var i=e.target.result;var t=e.target.transaction;var n;if(i.objectStoreNames.contains(IDBFS.DB_STORE_NAME)){n=t.objectStore(IDBFS.DB_STORE_NAME)}else{n=i.createObjectStore(IDBFS.DB_STORE_NAME)}if(!n.indexNames.contains("timestamp")){n.createIndex("timestamp","timestamp",{unique:false})}};n.onsuccess=function(){t=n.result;IDBFS.dbs[e]=t;i(null,t)};n.onerror=function(e){i(this.error);e.preventDefault()}},getLocalSet:function(e,i){var t={};function n(e){return e!=="."&&e!==".."}function r(e){return function(i){return PATH.join2(e,i)}}var o=FS.readdir(e.mountpoint).filter(n).map(r(e.mountpoint));while(o.length){var a=o.pop();var _;try{_=FS.stat(a)}catch(e){return i(e)}if(FS.isDir(_.mode)){o.push.apply(o,FS.readdir(a).filter(n).map(r(a)))}t[a]={timestamp:_.mtime}}return i(null,{type:"local",entries:t})},getRemoteSet:function(e,i){var t={};IDBFS.getDB(e.mountpoint,function(e,n){if(e)return i(e);try{var r=n.transaction([IDBFS.DB_STORE_NAME],"readonly");r.onerror=function(e){i(this.error);e.preventDefault()};var o=r.objectStore(IDBFS.DB_STORE_NAME);var a=o.index("timestamp");a.openKeyCursor().onsuccess=function(e){var r=e.target.result;if(!r){return i(null,{type:"remote",db:n,entries:t})}t[r.primaryKey]={timestamp:r.key};r.continue()}}catch(e){return i(e)}})},loadLocalEntry:function(e,i){var t,n;try{var r=FS.lookupPath(e);n=r.node;t=FS.stat(e)}catch(e){return i(e)}if(FS.isDir(t.mode)){return i(null,{timestamp:t.mtime,mode:t.mode})}else if(FS.isFile(t.mode)){n.contents=MEMFS.getFileDataAsTypedArray(n);return i(null,{timestamp:t.mtime,mode:t.mode,contents:n.contents})}else{return i(new Error("node type not supported"))}},storeLocalEntry:function(e,i,t){try{if(FS.isDir(i.mode)){FS.mkdir(e,i.mode)}else if(FS.isFile(i.mode)){FS.writeFile(e,i.contents,{canOwn:true})}else{return t(new Error("node type not supported"))}FS.chmod(e,i.mode);FS.utime(e,i.timestamp,i.timestamp)}catch(e){return t(e)}t(null)},removeLocalEntry:function(e,i){try{var t=FS.lookupPath(e);var n=FS.stat(e);if(FS.isDir(n.mode)){FS.rmdir(e)}else if(FS.isFile(n.mode)){FS.unlink(e)}}catch(e){return i(e)}i(null)},loadRemoteEntry:function(e,i,t){var n=e.get(i);n.onsuccess=function(e){t(null,e.target.result)};n.onerror=function(e){t(this.error);e.preventDefault()}},storeRemoteEntry:function(e,i,t,n){var r=e.put(t,i);r.onsuccess=function(){n(null)};r.onerror=function(e){n(this.error);e.preventDefault()}},removeRemoteEntry:function(e,i,t){var n=e.delete(i);n.onsuccess=function(){t(null)};n.onerror=function(e){t(this.error);e.preventDefault()}},reconcile:function(e,i,t){var n=0;var r=[];Object.keys(e.entries).forEach(function(t){var o=e.entries[t];var a=i.entries[t];if(!a||o.timestamp>a.timestamp){r.push(t);n++}});var o=[];Object.keys(i.entries).forEach(function(t){var r=i.entries[t];var a=e.entries[t];if(!a){o.push(t);n++}});if(!n){return t(null)}var a=0;var _=e.type==="remote"?e.db:i.db;var s=_.transaction([IDBFS.DB_STORE_NAME],"readwrite");var l=s.objectStore(IDBFS.DB_STORE_NAME);function u(e){if(e){if(!u.errored){u.errored=true;return t(e)}return}if(++a>=n){return t(null)}}s.onerror=function(e){u(this.error);e.preventDefault()};r.sort().forEach(function(e){if(i.type==="local"){IDBFS.loadRemoteEntry(l,e,function(i,t){if(i)return u(i);IDBFS.storeLocalEntry(e,t,u)})}else{IDBFS.loadLocalEntry(e,function(i,t){if(i)return u(i);IDBFS.storeRemoteEntry(l,e,t,u)})}});o.sort().reverse().forEach(function(e){if(i.type==="local"){IDBFS.removeLocalEntry(e,u)}else{IDBFS.removeRemoteEntry(l,e,u)}})}};var NODEFS={isWindows:false,staticInit:function(){NODEFS.isWindows=!!process.platform.match(/^win/);var e=process["binding"]("constants");if(e["fs"]){e=e["fs"]}NODEFS.flagsForNodeMap={1024:e["O_APPEND"],64:e["O_CREAT"],128:e["O_EXCL"],0:e["O_RDONLY"],2:e["O_RDWR"],4096:e["O_SYNC"],512:e["O_TRUNC"],1:e["O_WRONLY"]}},bufferFrom:function(e){return Buffer.alloc?Buffer.from(e):new Buffer(e)},mount:function(e){assert(ENVIRONMENT_IS_NODE);return NODEFS.createNode(null,"/",NODEFS.getMode(e.opts.root),0)},createNode:function(e,i,t,n){if(!FS.isDir(t)&&!FS.isFile(t)&&!FS.isLink(t)){throw new FS.ErrnoError(ERRNO_CODES.EINVAL)}var r=FS.createNode(e,i,t);r.node_ops=NODEFS.node_ops;r.stream_ops=NODEFS.stream_ops;return r},getMode:function(e){var i;try{i=fs.lstatSync(e);if(NODEFS.isWindows){i.mode=i.mode|(i.mode&292)>>2}}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}return i.mode},realPath:function(e){var i=[];while(e.parent!==e){i.push(e.name);e=e.parent}i.push(e.mount.opts.root);i.reverse();return PATH.join.apply(null,i)},flagsForNode:function(e){e&=~2097152;e&=~2048;e&=~32768;e&=~524288;var i=0;for(var t in NODEFS.flagsForNodeMap){if(e&t){i|=NODEFS.flagsForNodeMap[t];e^=t}}if(!e){return i}else{throw new FS.ErrnoError(ERRNO_CODES.EINVAL)}},node_ops:{getattr:function(e){var i=NODEFS.realPath(e);var t;try{t=fs.lstatSync(i)}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}if(NODEFS.isWindows&&!t.blksize){t.blksize=4096}if(NODEFS.isWindows&&!t.blocks){t.blocks=(t.size+t.blksize-1)/t.blksize|0}return{dev:t.dev,ino:t.ino,mode:t.mode,nlink:t.nlink,uid:t.uid,gid:t.gid,rdev:t.rdev,size:t.size,atime:t.atime,mtime:t.mtime,ctime:t.ctime,blksize:t.blksize,blocks:t.blocks}},setattr:function(e,i){var t=NODEFS.realPath(e);try{if(i.mode!==undefined){fs.chmodSync(t,i.mode);e.mode=i.mode}if(i.timestamp!==undefined){var n=new Date(i.timestamp);fs.utimesSync(t,n,n)}if(i.size!==undefined){fs.truncateSync(t,i.size)}}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}},lookup:function(e,i){var t=PATH.join2(NODEFS.realPath(e),i);var n=NODEFS.getMode(t);return NODEFS.createNode(e,i,n)},mknod:function(e,i,t,n){var r=NODEFS.createNode(e,i,t,n);var o=NODEFS.realPath(r);try{if(FS.isDir(r.mode)){fs.mkdirSync(o,r.mode)}else{fs.writeFileSync(o,"",{mode:r.mode})}}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}return r},rename:function(e,i,t){var n=NODEFS.realPath(e);var r=PATH.join2(NODEFS.realPath(i),t);try{fs.renameSync(n,r)}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}},unlink:function(e,i){var t=PATH.join2(NODEFS.realPath(e),i);try{fs.unlinkSync(t)}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}},rmdir:function(e,i){var t=PATH.join2(NODEFS.realPath(e),i);try{fs.rmdirSync(t)}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}},readdir:function(e){var i=NODEFS.realPath(e);try{return fs.readdirSync(i)}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}},symlink:function(e,i,t){var n=PATH.join2(NODEFS.realPath(e),i);try{fs.symlinkSync(t,n)}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}},readlink:function(e){var i=NODEFS.realPath(e);try{i=fs.readlinkSync(i);i=NODEJS_PATH.relative(NODEJS_PATH.resolve(e.mount.opts.root),i);return i}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}}},stream_ops:{open:function(e){var i=NODEFS.realPath(e.node);try{if(FS.isFile(e.node.mode)){e.nfd=fs.openSync(i,NODEFS.flagsForNode(e.flags))}}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}},close:function(e){try{if(FS.isFile(e.node.mode)&&e.nfd){fs.closeSync(e.nfd)}}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}},read:function(e,i,t,n,r){if(n===0)return 0;try{return fs.readSync(e.nfd,NODEFS.bufferFrom(i.buffer),t,n,r)}catch(e){throw new FS.ErrnoError(ERRNO_CODES[e.code])}},write:function(e,i,t,n,r){try{return fs.writeSync(e.nfd,NODEFS.bufferFrom(i.buffer),t,n,r)}catch(e){throw new FS.ErrnoError(ERRNO_CODES[e.code])}},llseek:function(e,i,t){var n=i;if(t===1){n+=e.position}else if(t===2){if(FS.isFile(e.node.mode)){try{var r=fs.fstatSync(e.nfd);n+=r.size}catch(e){throw new FS.ErrnoError(ERRNO_CODES[e.code])}}}if(n<0){throw new FS.ErrnoError(ERRNO_CODES.EINVAL)}return n}}};var WORKERFS={DIR_MODE:16895,FILE_MODE:33279,reader:null,mount:function(e){assert(ENVIRONMENT_IS_WORKER);if(!WORKERFS.reader)WORKERFS.reader=new FileReaderSync;var i=WORKERFS.createNode(null,"/",WORKERFS.DIR_MODE,0);var t={};function n(e){var n=e.split("/");var r=i;for(var o=0;o<n.length-1;o++){var a=n.slice(0,o+1).join("/");if(!t[a]){t[a]=WORKERFS.createNode(r,n[o],WORKERFS.DIR_MODE,0)}r=t[a]}return r}function r(e){var i=e.split("/");return i[i.length-1]}Array.prototype.forEach.call(e.opts["files"]||[],function(e){WORKERFS.createNode(n(e.name),r(e.name),WORKERFS.FILE_MODE,0,e,e.lastModifiedDate)});(e.opts["blobs"]||[]).forEach(function(e){WORKERFS.createNode(n(e["name"]),r(e["name"]),WORKERFS.FILE_MODE,0,e["data"])});(e.opts["packages"]||[]).forEach(function(e){e["metadata"].files.forEach(function(i){var t=i.filename.substr(1);WORKERFS.createNode(n(t),r(t),WORKERFS.FILE_MODE,0,e["blob"].slice(i.start,i.end))})});return i},createNode:function(e,i,t,n,r,o){var a=FS.createNode(e,i,t);a.mode=t;a.node_ops=WORKERFS.node_ops;a.stream_ops=WORKERFS.stream_ops;a.timestamp=(o||new Date).getTime();assert(WORKERFS.FILE_MODE!==WORKERFS.DIR_MODE);if(t===WORKERFS.FILE_MODE){a.size=r.size;a.contents=r}else{a.size=4096;a.contents={}}if(e){e.contents[i]=a}return a},node_ops:{getattr:function(e){return{dev:1,ino:undefined,mode:e.mode,nlink:1,uid:0,gid:0,rdev:undefined,size:e.size,atime:new Date(e.timestamp),mtime:new Date(e.timestamp),ctime:new Date(e.timestamp),blksize:4096,blocks:Math.ceil(e.size/4096)}},setattr:function(e,i){if(i.mode!==undefined){e.mode=i.mode}if(i.timestamp!==undefined){e.timestamp=i.timestamp}},lookup:function(e,i){throw new FS.ErrnoError(ERRNO_CODES.ENOENT)},mknod:function(e,i,t,n){throw new FS.ErrnoError(ERRNO_CODES.EPERM)},rename:function(e,i,t){throw new FS.ErrnoError(ERRNO_CODES.EPERM)},unlink:function(e,i){throw new FS.ErrnoError(ERRNO_CODES.EPERM)},rmdir:function(e,i){throw new FS.ErrnoError(ERRNO_CODES.EPERM)},readdir:function(e){var i=[".",".."];for(var t in e.contents){if(!e.contents.hasOwnProperty(t)){continue}i.push(t)}return i},symlink:function(e,i,t){throw new FS.ErrnoError(ERRNO_CODES.EPERM)},readlink:function(e){throw new FS.ErrnoError(ERRNO_CODES.EPERM)}},stream_ops:{read:function(e,i,t,n,r){if(r>=e.node.size)return 0;var o=e.node.contents.slice(r,r+n);var a=WORKERFS.reader.readAsArrayBuffer(o);i.set(new Uint8Array(a),t);return o.size},write:function(e,i,t,n,r){throw new FS.ErrnoError(ERRNO_CODES.EIO)},llseek:function(e,i,t){var n=i;if(t===1){n+=e.position}else if(t===2){if(FS.isFile(e.node.mode)){n+=e.node.size}}if(n<0){throw new FS.ErrnoError(ERRNO_CODES.EINVAL)}return n}}};STATICTOP+=16;STATICTOP+=16;STATICTOP+=16;var FS={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:false,ignorePermissions:true,trackingDelegate:{},tracking:{openFlags:{READ:1,WRITE:2}},ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,handleFSError:function(e){if(!(e instanceof FS.ErrnoError))throw e+" : "+stackTrace();return ___setErrNo(e.errno)},lookupPath:function(e,i){e=PATH.resolve(FS.cwd(),e);i=i||{};if(!e)return{path:"",node:null};var t={follow_mount:true,recurse_count:0};for(var n in t){if(i[n]===undefined){i[n]=t[n]}}if(i.recurse_count>8){throw new FS.ErrnoError(ERRNO_CODES.ELOOP)}var r=PATH.normalizeArray(e.split("/").filter(function(e){return!!e}),false);var o=FS.root;var a="/";for(var _=0;_<r.length;_++){var s=_===r.length-1;if(s&&i.parent){break}o=FS.lookupNode(o,r[_]);a=PATH.join2(a,r[_]);if(FS.isMountpoint(o)){if(!s||s&&i.follow_mount){o=o.mounted.root}}if(!s||i.follow){var l=0;while(FS.isLink(o.mode)){var u=FS.readlink(a);a=PATH.resolve(PATH.dirname(a),u);var c=FS.lookupPath(a,{recurse_count:i.recurse_count});o=c.node;if(l++>40){throw new FS.ErrnoError(ERRNO_CODES.ELOOP)}}}}return{path:a,node:o}},getPath:function(e){var i;while(true){if(FS.isRoot(e)){var t=e.mount.mountpoint;if(!i)return t;return t[t.length-1]!=="/"?t+"/"+i:t+i}i=i?e.name+"/"+i:e.name;e=e.parent}},hashName:function(e,i){var t=0;for(var n=0;n<i.length;n++){t=(t<<5)-t+i.charCodeAt(n)|0}return(e+t>>>0)%FS.nameTable.length},hashAddNode:function(e){var i=FS.hashName(e.parent.id,e.name);e.name_next=FS.nameTable[i];FS.nameTable[i]=e},hashRemoveNode:function(e){var i=FS.hashName(e.parent.id,e.name);if(FS.nameTable[i]===e){FS.nameTable[i]=e.name_next}else{var t=FS.nameTable[i];while(t){if(t.name_next===e){t.name_next=e.name_next;break}t=t.name_next}}},lookupNode:function(e,i){var t=FS.mayLookup(e);if(t){throw new FS.ErrnoError(t,e)}var n=FS.hashName(e.id,i);for(var r=FS.nameTable[n];r;r=r.name_next){var o=r.name;if(r.parent.id===e.id&&o===i){return r}}return FS.lookup(e,i)},createNode:function(e,i,t,n){if(!FS.FSNode){FS.FSNode=function(e,i,t,n){if(!e){e=this}this.parent=e;this.mount=e.mount;this.mounted=null;this.id=FS.nextInode++;this.name=i;this.mode=t;this.node_ops={};this.stream_ops={};this.rdev=n};FS.FSNode.prototype={};var r=292|73;var o=146;Object.defineProperties(FS.FSNode.prototype,{read:{get:function(){return(this.mode&r)===r},set:function(e){e?this.mode|=r:this.mode&=~r}},write:{get:function(){return(this.mode&o)===o},set:function(e){e?this.mode|=o:this.mode&=~o}},isFolder:{get:function(){return FS.isDir(this.mode)}},isDevice:{get:function(){return FS.isChrdev(this.mode)}}})}var a=new FS.FSNode(e,i,t,n);FS.hashAddNode(a);return a},destroyNode:function(e){FS.hashRemoveNode(e)},isRoot:function(e){return e===e.parent},isMountpoint:function(e){return!!e.mounted},isFile:function(e){return(e&61440)===32768},isDir:function(e){return(e&61440)===16384},isLink:function(e){return(e&61440)===40960},isChrdev:function(e){return(e&61440)===8192},isBlkdev:function(e){return(e&61440)===24576},isFIFO:function(e){return(e&61440)===4096},isSocket:function(e){return(e&49152)===49152},flagModes:{r:0,rs:1052672,"r+":2,w:577,wx:705,xw:705,"w+":578,"wx+":706,"xw+":706,a:1089,ax:1217,xa:1217,"a+":1090,"ax+":1218,"xa+":1218},modeStringToFlags:function(e){var i=FS.flagModes[e];if(typeof i==="undefined"){throw new Error("Unknown file open mode: "+e)}return i},flagsToPermissionString:function(e){var i=["r","w","rw"][e&3];if(e&512){i+="w"}return i},nodePermissions:function(e,i){if(FS.ignorePermissions){return 0}if(i.indexOf("r")!==-1&&!(e.mode&292)){return ERRNO_CODES.EACCES}else if(i.indexOf("w")!==-1&&!(e.mode&146)){return ERRNO_CODES.EACCES}else if(i.indexOf("x")!==-1&&!(e.mode&73)){return ERRNO_CODES.EACCES}return 0},mayLookup:function(e){var i=FS.nodePermissions(e,"x");if(i)return i;if(!e.node_ops.lookup)return ERRNO_CODES.EACCES;return 0},mayCreate:function(e,i){try{var t=FS.lookupNode(e,i);return ERRNO_CODES.EEXIST}catch(e){}return FS.nodePermissions(e,"wx")},mayDelete:function(e,i,t){var n;try{n=FS.lookupNode(e,i)}catch(e){return e.errno}var r=FS.nodePermissions(e,"wx");if(r){return r}if(t){if(!FS.isDir(n.mode)){return ERRNO_CODES.ENOTDIR}if(FS.isRoot(n)||FS.getPath(n)===FS.cwd()){return ERRNO_CODES.EBUSY}}else{if(FS.isDir(n.mode)){return ERRNO_CODES.EISDIR}}return 0},mayOpen:function(e,i){if(!e){return ERRNO_CODES.ENOENT}if(FS.isLink(e.mode)){return ERRNO_CODES.ELOOP}else if(FS.isDir(e.mode)){if(FS.flagsToPermissionString(i)!=="r"||i&512){return ERRNO_CODES.EISDIR}}return FS.nodePermissions(e,FS.flagsToPermissionString(i))},MAX_OPEN_FDS:4096,nextfd:function(e,i){e=e||0;i=i||FS.MAX_OPEN_FDS;for(var t=e;t<=i;t++){if(!FS.streams[t]){return t}}throw new FS.ErrnoError(ERRNO_CODES.EMFILE)},getStream:function(e){return FS.streams[e]},createStream:function(e,i,t){if(!FS.FSStream){FS.FSStream=function(){};FS.FSStream.prototype={};Object.defineProperties(FS.FSStream.prototype,{object:{get:function(){return this.node},set:function(e){this.node=e}},isRead:{get:function(){return(this.flags&2097155)!==1}},isWrite:{get:function(){return(this.flags&2097155)!==0}},isAppend:{get:function(){return this.flags&1024}}})}var n=new FS.FSStream;for(var r in e){n[r]=e[r]}e=n;var o=FS.nextfd(i,t);e.fd=o;FS.streams[o]=e;return e},closeStream:function(e){FS.streams[e]=null},chrdev_stream_ops:{open:function(e){var i=FS.getDevice(e.node.rdev);e.stream_ops=i.stream_ops;if(e.stream_ops.open){e.stream_ops.open(e)}},llseek:function(){throw new FS.ErrnoError(ERRNO_CODES.ESPIPE)}},major:function(e){return e>>8},minor:function(e){return e&255},makedev:function(e,i){return e<<8|i},registerDevice:function(e,i){FS.devices[e]={stream_ops:i}},getDevice:function(e){return FS.devices[e]},getMounts:function(e){var i=[];var t=[e];while(t.length){var n=t.pop();i.push(n);t.push.apply(t,n.mounts)}return i},syncfs:function(e,i){if(typeof e==="function"){i=e;e=false}FS.syncFSRequests++;if(FS.syncFSRequests>1){console.log("warning: "+FS.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work")}var t=FS.getMounts(FS.root.mount);var n=0;function r(e){assert(FS.syncFSRequests>0);FS.syncFSRequests--;return i(e)}function o(e){if(e){if(!o.errored){o.errored=true;return r(e)}return}if(++n>=t.length){r(null)}}t.forEach(function(i){if(!i.type.syncfs){return o(null)}i.type.syncfs(i,e,o)})},mount:function(e,i,t){var n=t==="/";var r=!t;var o;if(n&&FS.root){throw new FS.ErrnoError(ERRNO_CODES.EBUSY)}else if(!n&&!r){var a=FS.lookupPath(t,{follow_mount:false});t=a.path;o=a.node;if(FS.isMountpoint(o)){throw new FS.ErrnoError(ERRNO_CODES.EBUSY)}if(!FS.isDir(o.mode)){throw new FS.ErrnoError(ERRNO_CODES.ENOTDIR)}}var _={type:e,opts:i,mountpoint:t,mounts:[]};var s=e.mount(_);s.mount=_;_.root=s;if(n){FS.root=s}else if(o){o.mounted=_;if(o.mount){o.mount.mounts.push(_)}}return s},unmount:function(e){var i=FS.lookupPath(e,{follow_mount:false});if(!FS.isMountpoint(i.node)){throw new FS.ErrnoError(ERRNO_CODES.EINVAL)}var t=i.node;var n=t.mounted;var r=FS.getMounts(n);Object.keys(FS.nameTable).forEach(function(e){var i=FS.nameTable[e];while(i){var t=i.name_next;if(r.indexOf(i.mount)!==-1){FS.destroyNode(i)}i=t}});t.mounted=null;var o=t.mount.mounts.indexOf(n);assert(o!==-1);t.mount.mounts.splice(o,1)},lookup:function(e,i){return e.node_ops.lookup(e,i)},mknod:function(e,i,t){var n=FS.lookupPath(e,{parent:true});var r=n.node;var o=PATH.basename(e);if(!o||o==="."||o===".."){throw new FS.ErrnoError(ERRNO_CODES.EINVAL)}var a=FS.mayCreate(r,o);if(a){throw new FS.ErrnoError(a)}if(!r.node_ops.mknod){throw new FS.ErrnoError(ERRNO_CODES.EPERM)}return r.node_ops.mknod(r,o,i,t)},create:function(e,i){i=i!==undefined?i:438;i&=4095;i|=32768;return FS.mknod(e,i,0)},mkdir:function(e,i){i=i!==undefined?i:511;i&=511|512;i|=16384;return FS.mknod(e,i,0)},mkdirTree:function(e,i){var t=e.split("/");var n="";for(var r=0;r<t.length;++r){if(!t[r])continue;n+="/"+t[r];try{FS.mkdir(n,i)}catch(e){if(e.errno!=ERRNO_CODES.EEXIST)throw e}}},mkdev:function(e,i,t){if(typeof t==="undefined"){t=i;i=438}i|=8192;return FS.mknod(e,i,t)},symlink:function(e,i){if(!PATH.resolve(e)){throw new FS.ErrnoError(ERRNO_CODES.ENOENT)}var t=FS.lookupPath(i,{parent:true});var n=t.node;if(!n){throw new FS.ErrnoError(ERRNO_CODES.ENOENT)}var r=PATH.basename(i);var o=FS.mayCreate(n,r);if(o){throw new FS.ErrnoError(o)}if(!n.node_ops.symlink){throw new FS.ErrnoError(ERRNO_CODES.EPERM)}return n.node_ops.symlink(n,r,e)},rename:function(e,i){var t=PATH.dirname(e);var n=PATH.dirname(i);var r=PATH.basename(e);var o=PATH.basename(i);var a,_,s;try{a=FS.lookupPath(e,{parent:true});_=a.node;a=FS.lookupPath(i,{parent:true});s=a.node}catch(e){throw new FS.ErrnoError(ERRNO_CODES.EBUSY)}if(!_||!s)throw new FS.ErrnoError(ERRNO_CODES.ENOENT);if(_.mount!==s.mount){throw new FS.ErrnoError(ERRNO_CODES.EXDEV)}var l=FS.lookupNode(_,r);var u=PATH.relative(e,n);if(u.charAt(0)!=="."){throw new FS.ErrnoError(ERRNO_CODES.EINVAL)}u=PATH.relative(i,t);if(u.charAt(0)!=="."){throw new FS.ErrnoError(ERRNO_CODES.ENOTEMPTY)}var c;try{c=FS.lookupNode(s,o)}catch(e){}if(l===c){return}var d=FS.isDir(l.mode);var f=FS.mayDelete(_,r,d);if(f){throw new FS.ErrnoError(f)}f=c?FS.mayDelete(s,o,d):FS.mayCreate(s,o);if(f){throw new FS.ErrnoError(f)}if(!_.node_ops.rename){throw new FS.ErrnoError(ERRNO_CODES.EPERM)}if(FS.isMountpoint(l)||c&&FS.isMountpoint(c)){throw new FS.ErrnoError(ERRNO_CODES.EBUSY)}if(s!==_){f=FS.nodePermissions(_,"w");if(f){throw new FS.ErrnoError(f)}}try{if(FS.trackingDelegate["willMovePath"]){FS.trackingDelegate["willMovePath"](e,i)}}catch(t){console.log("FS.trackingDelegate['willMovePath']('"+e+"', '"+i+"') threw an exception: "+t.message)}FS.hashRemoveNode(l);try{_.node_ops.rename(l,s,o)}catch(e){throw e}finally{FS.hashAddNode(l)}try{if(FS.trackingDelegate["onMovePath"])FS.trackingDelegate["onMovePath"](e,i)}catch(t){console.log("FS.trackingDelegate['onMovePath']('"+e+"', '"+i+"') threw an exception: "+t.message)}},rmdir:function(e){var i=FS.lookupPath(e,{parent:true});var t=i.node;var n=PATH.basename(e);var r=FS.lookupNode(t,n);var o=FS.mayDelete(t,n,true);if(o){throw new FS.ErrnoError(o)}if(!t.node_ops.rmdir){throw new FS.ErrnoError(ERRNO_CODES.EPERM)}if(FS.isMountpoint(r)){throw new FS.ErrnoError(ERRNO_CODES.EBUSY)}try{if(FS.trackingDelegate["willDeletePath"]){FS.trackingDelegate["willDeletePath"](e)}}catch(i){console.log("FS.trackingDelegate['willDeletePath']('"+e+"') threw an exception: "+i.message)}t.node_ops.rmdir(t,n);FS.destroyNode(r);try{if(FS.trackingDelegate["onDeletePath"])FS.trackingDelegate["onDeletePath"](e)}catch(i){console.log("FS.trackingDelegate['onDeletePath']('"+e+"') threw an exception: "+i.message)}},readdir:function(e){var i=FS.lookupPath(e,{follow:true});var t=i.node;if(!t.node_ops.readdir){throw new FS.ErrnoError(ERRNO_CODES.ENOTDIR)}return t.node_ops.readdir(t)},unlink:function(e){var i=FS.lookupPath(e,{parent:true});var t=i.node;var n=PATH.basename(e);var r=FS.lookupNode(t,n);var o=FS.mayDelete(t,n,false);if(o){throw new FS.ErrnoError(o)}if(!t.node_ops.unlink){throw new FS.ErrnoError(ERRNO_CODES.EPERM)}if(FS.isMountpoint(r)){throw new FS.ErrnoError(ERRNO_CODES.EBUSY)}try{if(FS.trackingDelegate["willDeletePath"]){FS.trackingDelegate["willDeletePath"](e)}}catch(i){console.log("FS.trackingDelegate['willDeletePath']('"+e+"') threw an exception: "+i.message)}t.node_ops.unlink(t,n);FS.destroyNode(r);try{if(FS.trackingDelegate["onDeletePath"])FS.trackingDelegate["onDeletePath"](e)}catch(i){console.log("FS.trackingDelegate['onDeletePath']('"+e+"') threw an exception: "+i.message)}},readlink:function(e){var i=FS.lookupPath(e);var t=i.node;if(!t){throw new FS.ErrnoError(ERRNO_CODES.ENOENT)}if(!t.node_ops.readlink){throw new FS.ErrnoError(ERRNO_CODES.EINVAL)}return PATH.resolve(FS.getPath(t.parent),t.node_ops.readlink(t))},stat:function(e,i){var t=FS.lookupPath(e,{follow:!i});var n=t.node;if(!n){throw new FS.ErrnoError(ERRNO_CODES.ENOENT)}if(!n.node_ops.getattr){throw new FS.ErrnoError(ERRNO_CODES.EPERM)}return n.node_ops.getattr(n)},lstat:function(e){return FS.stat(e,true)},chmod:function(e,i,t){var n;if(typeof e==="string"){var r=FS.lookupPath(e,{follow:!t});n=r.node}else{n=e}if(!n.node_ops.setattr){throw new FS.ErrnoError(ERRNO_CODES.EPERM)}n.node_ops.setattr(n,{mode:i&4095|n.mode&~4095,timestamp:Date.now()})},lchmod:function(e,i){FS.chmod(e,i,true)},fchmod:function(e,i){var t=FS.getStream(e);if(!t){throw new FS.ErrnoError(ERRNO_CODES.EBADF)}FS.chmod(t.node,i)},chown:function(e,i,t,n){var r;if(typeof e==="string"){var o=FS.lookupPath(e,{follow:!n});r=o.node}else{r=e}if(!r.node_ops.setattr){throw new FS.ErrnoError(ERRNO_CODES.EPERM)}r.node_ops.setattr(r,{timestamp:Date.now()})},lchown:function(e,i,t){FS.chown(e,i,t,true)},fchown:function(e,i,t){var n=FS.getStream(e);if(!n){throw new FS.ErrnoError(ERRNO_CODES.EBADF)}FS.chown(n.node,i,t)},truncate:function(e,i){if(i<0){throw new FS.ErrnoError(ERRNO_CODES.EINVAL)}var t;if(typeof e==="string"){var n=FS.lookupPath(e,{follow:true});t=n.node}else{t=e}if(!t.node_ops.setattr){throw new FS.ErrnoError(ERRNO_CODES.EPERM)}if(FS.isDir(t.mode)){throw new FS.ErrnoError(ERRNO_CODES.EISDIR)}if(!FS.isFile(t.mode)){throw new FS.ErrnoError(ERRNO_CODES.EINVAL)}var r=FS.nodePermissions(t,"w");if(r){throw new FS.ErrnoError(r)}t.node_ops.setattr(t,{size:i,timestamp:Date.now()})},ftruncate:function(e,i){var t=FS.getStream(e);if(!t){throw new FS.ErrnoError(ERRNO_CODES.EBADF)}if((t.flags&2097155)===0){throw new FS.ErrnoError(ERRNO_CODES.EINVAL)}FS.truncate(t.node,i)},utime:function(e,i,t){var n=FS.lookupPath(e,{follow:true});var r=n.node;r.node_ops.setattr(r,{timestamp:Math.max(i,t)})},open:function(e,i,t,n,r){if(e===""){throw new FS.ErrnoError(ERRNO_CODES.ENOENT)}i=typeof i==="string"?FS.modeStringToFlags(i):i;t=typeof t==="undefined"?438:t;if(i&64){t=t&4095|32768}else{t=0}var o;if(typeof e==="object"){o=e}else{e=PATH.normalize(e);try{var a=FS.lookupPath(e,{follow:!(i&131072)});o=a.node}catch(e){}}var _=false;if(i&64){if(o){if(i&128){throw new FS.ErrnoError(ERRNO_CODES.EEXIST)}}else{o=FS.mknod(e,t,0);_=true}}if(!o){throw new FS.ErrnoError(ERRNO_CODES.ENOENT)}if(FS.isChrdev(o.mode)){i&=~512}if(i&65536&&!FS.isDir(o.mode)){throw new FS.ErrnoError(ERRNO_CODES.ENOTDIR)}if(!_){var s=FS.mayOpen(o,i);if(s){throw new FS.ErrnoError(s)}}if(i&512){FS.truncate(o,0)}i&=~(128|512);var l=FS.createStream({node:o,path:FS.getPath(o),flags:i,seekable:true,position:0,stream_ops:o.stream_ops,ungotten:[],error:false},n,r);if(l.stream_ops.open){l.stream_ops.open(l)}if(Module["logReadFiles"]&&!(i&1)){if(!FS.readFiles)FS.readFiles={};if(!(e in FS.readFiles)){FS.readFiles[e]=1;s("read file: "+e)}}try{if(FS.trackingDelegate["onOpenFile"]){var u=0;if((i&2097155)!==1){u|=FS.tracking.openFlags.READ}if((i&2097155)!==0){u|=FS.tracking.openFlags.WRITE}FS.trackingDelegate["onOpenFile"](e,u)}}catch(i){console.log("FS.trackingDelegate['onOpenFile']('"+e+"', flags) threw an exception: "+i.message)}return l},close:function(e){if(FS.isClosed(e)){throw new FS.ErrnoError(ERRNO_CODES.EBADF)}if(e.getdents)e.getdents=null;try{if(e.stream_ops.close){e.stream_ops.close(e)}}catch(e){throw e}finally{FS.closeStream(e.fd)}e.fd=null},isClosed:function(e){return e.fd===null},llseek:function(e,i,t){if(FS.isClosed(e)){throw new FS.ErrnoError(ERRNO_CODES.EBADF)}if(!e.seekable||!e.stream_ops.llseek){throw new FS.ErrnoError(ERRNO_CODES.ESPIPE)}e.position=e.stream_ops.llseek(e,i,t);e.ungotten=[];return e.position},read:function(e,i,t,n,r){if(n<0||r<0){throw new FS.ErrnoError(ERRNO_CODES.EINVAL)}if(FS.isClosed(e)){throw new FS.ErrnoError(ERRNO_CODES.EBADF)}if((e.flags&2097155)===1){throw new FS.ErrnoError(ERRNO_CODES.EBADF)}if(FS.isDir(e.node.mode)){throw new FS.ErrnoError(ERRNO_CODES.EISDIR)}if(!e.stream_ops.read){throw new FS.ErrnoError(ERRNO_CODES.EINVAL)}var o=typeof r!=="undefined";if(!o){r=e.position}else if(!e.seekable){throw new FS.ErrnoError(ERRNO_CODES.ESPIPE)}var a=e.stream_ops.read(e,i,t,n,r);if(!o)e.position+=a;return a},write:function(e,i,t,n,r,o){if(n<0||r<0){throw new FS.ErrnoError(ERRNO_CODES.EINVAL)}if(FS.isClosed(e)){throw new FS.ErrnoError(ERRNO_CODES.EBADF)}if((e.flags&2097155)===0){throw new FS.ErrnoError(ERRNO_CODES.EBADF)}if(FS.isDir(e.node.mode)){throw new FS.ErrnoError(ERRNO_CODES.EISDIR)}if(!e.stream_ops.write){throw new FS.ErrnoError(ERRNO_CODES.EINVAL)}if(e.flags&1024){FS.llseek(e,0,2)}var a=typeof r!=="undefined";if(!a){r=e.position}else if(!e.seekable){throw new FS.ErrnoError(ERRNO_CODES.ESPIPE)}var _=e.stream_ops.write(e,i,t,n,r,o);if(!a)e.position+=_;try{if(e.path&&FS.trackingDelegate["onWriteToFile"])FS.trackingDelegate["onWriteToFile"](e.path)}catch(e){console.log("FS.trackingDelegate['onWriteToFile']('"+path+"') threw an exception: "+e.message)}return _},allocate:function(e,i,t){if(FS.isClosed(e)){throw new FS.ErrnoError(ERRNO_CODES.EBADF)}if(i<0||t<=0){throw new FS.ErrnoError(ERRNO_CODES.EINVAL)}if((e.flags&2097155)===0){throw new FS.ErrnoError(ERRNO_CODES.EBADF)}if(!FS.isFile(e.node.mode)&&!FS.isDir(e.node.mode)){throw new FS.ErrnoError(ERRNO_CODES.ENODEV)}if(!e.stream_ops.allocate){throw new FS.ErrnoError(ERRNO_CODES.EOPNOTSUPP)}e.stream_ops.allocate(e,i,t)},mmap:function(e,i,t,n,r,o,a){if((e.flags&2097155)===1){throw new FS.ErrnoError(ERRNO_CODES.EACCES)}if(!e.stream_ops.mmap){throw new FS.ErrnoError(ERRNO_CODES.ENODEV)}return e.stream_ops.mmap(e,i,t,n,r,o,a)},msync:function(e,i,t,n,r){if(!e||!e.stream_ops.msync){return 0}return e.stream_ops.msync(e,i,t,n,r)},munmap:function(e){return 0},ioctl:function(e,i,t){if(!e.stream_ops.ioctl){throw new FS.ErrnoError(ERRNO_CODES.ENOTTY)}return e.stream_ops.ioctl(e,i,t)},readFile:function(e,i){i=i||{};i.flags=i.flags||"r";i.encoding=i.encoding||"binary";if(i.encoding!=="utf8"&&i.encoding!=="binary"){throw new Error('Invalid encoding type "'+i.encoding+'"')}var t;var n=FS.open(e,i.flags);var r=FS.stat(e);var o=r.size;var a=new Uint8Array(o);FS.read(n,a,0,o,0);if(i.encoding==="utf8"){t=UTF8ArrayToString(a,0)}else if(i.encoding==="binary"){t=a}FS.close(n);return t},writeFile:function(e,i,t){t=t||{};t.flags=t.flags||"w";var n=FS.open(e,t.flags,t.mode);if(typeof i==="string"){var r=new Uint8Array(lengthBytesUTF8(i)+1);var o=stringToUTF8Array(i,r,0,r.length);FS.write(n,r,0,o,undefined,t.canOwn)}else if(ArrayBuffer.isView(i)){FS.write(n,i,0,i.byteLength,undefined,t.canOwn)}else{throw new Error("Unsupported data type")}FS.close(n)},cwd:function(){return FS.currentPath},chdir:function(e){var i=FS.lookupPath(e,{follow:true});if(i.node===null){throw new FS.ErrnoError(ERRNO_CODES.ENOENT)}if(!FS.isDir(i.node.mode)){throw new FS.ErrnoError(ERRNO_CODES.ENOTDIR)}var t=FS.nodePermissions(i.node,"x");if(t){throw new FS.ErrnoError(t)}FS.currentPath=i.path},createDefaultDirectories:function(){FS.mkdir("/tmp");FS.mkdir("/home");FS.mkdir("/home/web_user")},createDefaultDevices:function(){FS.mkdir("/dev");FS.registerDevice(FS.makedev(1,3),{read:function(){return 0},write:function(e,i,t,n,r){return n}});FS.mkdev("/dev/null",FS.makedev(1,3));TTY.register(FS.makedev(5,0),TTY.default_tty_ops);TTY.register(FS.makedev(6,0),TTY.default_tty1_ops);FS.mkdev("/dev/tty",FS.makedev(5,0));FS.mkdev("/dev/tty1",FS.makedev(6,0));var e;if(typeof crypto!=="undefined"){var i=new Uint8Array(1);e=function(){crypto.getRandomValues(i);return i[0]}}else if(ENVIRONMENT_IS_NODE){e=function(){return require("crypto")["randomBytes"](1)[0]}}else{e=function(){return Math.random()*256|0}}FS.createDevice("/dev","random",e);FS.createDevice("/dev","urandom",e);FS.mkdir("/dev/shm");FS.mkdir("/dev/shm/tmp")},createSpecialDirectories:function(){FS.mkdir("/proc");FS.mkdir("/proc/self");FS.mkdir("/proc/self/fd");FS.mount({mount:function(){var e=FS.createNode("/proc/self","fd",16384|511,73);e.node_ops={lookup:function(e,i){var t=+i;var n=FS.getStream(t);if(!n)throw new FS.ErrnoError(ERRNO_CODES.EBADF);var r={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:function(){return n.path}}};r.parent=r;return r}};return e}},{},"/proc/self/fd")},createStandardStreams:function(){if(Module["stdin"]){FS.createDevice("/dev","stdin",Module["stdin"])}else{FS.symlink("/dev/tty","/dev/stdin")}if(Module["stdout"]){FS.createDevice("/dev","stdout",null,Module["stdout"])}else{FS.symlink("/dev/tty","/dev/stdout")}if(Module["stderr"]){FS.createDevice("/dev","stderr",null,Module["stderr"])}else{FS.symlink("/dev/tty1","/dev/stderr")}var e=FS.open("/dev/stdin","r");assert(e.fd===0,"invalid handle for stdin ("+e.fd+")");var i=FS.open("/dev/stdout","w");assert(i.fd===1,"invalid handle for stdout ("+i.fd+")");var t=FS.open("/dev/stderr","w");assert(t.fd===2,"invalid handle for stderr ("+t.fd+")")},ensureErrnoError:function(){if(FS.ErrnoError)return;FS.ErrnoError=function e(i,t){this.node=t;this.setErrno=function(e){this.errno=e;for(var i in ERRNO_CODES){if(ERRNO_CODES[i]===e){this.code=i;break}}};this.setErrno(i);this.message=ERRNO_MESSAGES[i];if(this.stack)Object.defineProperty(this,"stack",{value:(new Error).stack,writable:true})};FS.ErrnoError.prototype=new Error;FS.ErrnoError.prototype.constructor=FS.ErrnoError;[ERRNO_CODES.ENOENT].forEach(function(e){FS.genericErrors[e]=new FS.ErrnoError(e);FS.genericErrors[e].stack="<generic error, no stack>"})},staticInit:function(){FS.ensureErrnoError();FS.nameTable=new Array(4096);FS.mount(MEMFS,{},"/");FS.createDefaultDirectories();FS.createDefaultDevices();FS.createSpecialDirectories();FS.filesystems={MEMFS:MEMFS,IDBFS:IDBFS,NODEFS:NODEFS,WORKERFS:WORKERFS}},init:function(e,i,t){assert(!FS.init.initialized,"FS.init was previously called. If you want to initialize later with custom parameters, remove any earlier calls (note that one is automatically added to the generated code)");FS.init.initialized=true;FS.ensureErrnoError();Module["stdin"]=e||Module["stdin"];Module["stdout"]=i||Module["stdout"];Module["stderr"]=t||Module["stderr"];FS.createStandardStreams()},quit:function(){FS.init.initialized=false;var e=Module["_fflush"];if(e)e(0);for(var i=0;i<FS.streams.length;i++){var t=FS.streams[i];if(!t){continue}FS.close(t)}},getMode:function(e,i){var t=0;if(e)t|=292|73;if(i)t|=146;return t},joinPath:function(e,i){var t=PATH.join.apply(null,e);if(i&&t[0]=="/")t=t.substr(1);return t},absolutePath:function(e,i){return PATH.resolve(i,e)},standardizePath:function(e){return PATH.normalize(e)},findObject:function(e,i){var t=FS.analyzePath(e,i);if(t.exists){return t.object}else{___setErrNo(t.error);return null}},analyzePath:function(e,i){try{var t=FS.lookupPath(e,{follow:!i});e=t.path}catch(e){}var n={isRoot:false,exists:false,error:0,name:null,path:null,object:null,parentExists:false,parentPath:null,parentObject:null};try{var t=FS.lookupPath(e,{parent:true});n.parentExists=true;n.parentPath=t.path;n.parentObject=t.node;n.name=PATH.basename(e);t=FS.lookupPath(e,{follow:!i});n.exists=true;n.path=t.path;n.object=t.node;n.name=t.node.name;n.isRoot=t.path==="/"}catch(e){n.error=e.errno}return n},createFolder:function(e,i,t,n){var r=PATH.join2(typeof e==="string"?e:FS.getPath(e),i);var o=FS.getMode(t,n);return FS.mkdir(r,o)},createPath:function(e,i,t,n){e=typeof e==="string"?e:FS.getPath(e);var r=i.split("/").reverse();while(r.length){var o=r.pop();if(!o)continue;var a=PATH.join2(e,o);try{FS.mkdir(a)}catch(e){}e=a}return a},createFile:function(e,i,t,n,r){var o=PATH.join2(typeof e==="string"?e:FS.getPath(e),i);var a=FS.getMode(n,r);return FS.create(o,a)},createDataFile:function(e,i,t,n,r,o){var a=i?PATH.join2(typeof e==="string"?e:FS.getPath(e),i):e;var _=FS.getMode(n,r);var s=FS.create(a,_);if(t){if(typeof t==="string"){var l=new Array(t.length);for(var u=0,c=t.length;u<c;++u)l[u]=t.charCodeAt(u);t=l}FS.chmod(s,_|146);var d=FS.open(s,"w");FS.write(d,t,0,t.length,0,o);FS.close(d);FS.chmod(s,_)}return s},createDevice:function(e,i,t,n){var r=PATH.join2(typeof e==="string"?e:FS.getPath(e),i);var o=FS.getMode(!!t,!!n);if(!FS.createDevice.major)FS.createDevice.major=64;var a=FS.makedev(FS.createDevice.major++,0);FS.registerDevice(a,{open:function(e){e.seekable=false},close:function(e){if(n&&n.buffer&&n.buffer.length){n(10)}},read:function(e,i,n,r,o){var a=0;for(var _=0;_<r;_++){var s;try{s=t()}catch(e){throw new FS.ErrnoError(ERRNO_CODES.EIO)}if(s===undefined&&a===0){throw new FS.ErrnoError(ERRNO_CODES.EAGAIN)}if(s===null||s===undefined)break;a++;i[n+_]=s}if(a){e.node.timestamp=Date.now()}return a},write:function(e,i,t,r,o){for(var a=0;a<r;a++){try{n(i[t+a])}catch(e){throw new FS.ErrnoError(ERRNO_CODES.EIO)}}if(r){e.node.timestamp=Date.now()}return a}});return FS.mkdev(r,o,a)},createLink:function(e,i,t,n,r){var o=PATH.join2(typeof e==="string"?e:FS.getPath(e),i);return FS.symlink(t,o)},forceLoadFile:function(e){if(e.isDevice||e.isFolder||e.link||e.contents)return true;var i=true;if(typeof XMLHttpRequest!=="undefined"){throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.")}else if(Module["read"]){try{e.contents=intArrayFromString(Module["read"](e.url),true);e.usedBytes=e.contents.length}catch(e){i=false}}else{throw new Error("Cannot load without read() or XMLHttpRequest.")}if(!i)___setErrNo(ERRNO_CODES.EIO);return i},createLazyFile:function(e,i,t,n,r){function o(){this.lengthKnown=false;this.chunks=[]}o.prototype.get=function e(i){if(i>this.length-1||i<0){return undefined}var t=i%this.chunkSize;var n=i/this.chunkSize|0;return this.getter(n)[t]};o.prototype.setDataGetter=function e(i){this.getter=i};o.prototype.cacheLength=function e(){var i=new XMLHttpRequest;i.open("HEAD",t,false);i.send(null);if(!(i.status>=200&&i.status<300||i.status===304))throw new Error("Couldn't load "+t+". Status: "+i.status);var n=Number(i.getResponseHeader("Content-length"));var r;var o=(r=i.getResponseHeader("Accept-Ranges"))&&r==="bytes";var a=(r=i.getResponseHeader("Content-Encoding"))&&r==="gzip";var _=1024*1024;if(!o)_=n;var s=function(e,i){if(e>i)throw new Error("invalid range ("+e+", "+i+") or no bytes requested!");if(i>n-1)throw new Error("only "+n+" bytes available! programmer error!");var r=new XMLHttpRequest;r.open("GET",t,false);if(n!==_)r.setRequestHeader("Range","bytes="+e+"-"+i);if(typeof Uint8Array!="undefined")r.responseType="arraybuffer";if(r.overrideMimeType){r.overrideMimeType("text/plain; charset=x-user-defined")}r.send(null);if(!(r.status>=200&&r.status<300||r.status===304))throw new Error("Couldn't load "+t+". Status: "+r.status);if(r.response!==undefined){return new Uint8Array(r.response||[])}else{return intArrayFromString(r.responseText||"",true)}};var l=this;l.setDataGetter(function(e){var i=e*_;var t=(e+1)*_-1;t=Math.min(t,n-1);if(typeof l.chunks[e]==="undefined"){l.chunks[e]=s(i,t)}if(typeof l.chunks[e]==="undefined")throw new Error("doXHR failed!");return l.chunks[e]});if(a||!n){_=n=1;n=this.getter(0).length;_=n;console.log("LazyFiles on gzip forces download of the whole file when length is accessed")}this._length=n;this._chunkSize=_;this.lengthKnown=true};if(typeof XMLHttpRequest!=="undefined"){if(!ENVIRONMENT_IS_WORKER)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var a=new o;Object.defineProperties(a,{length:{get:function(){if(!this.lengthKnown){this.cacheLength()}return this._length}},chunkSize:{get:function(){if(!this.lengthKnown){this.cacheLength()}return this._chunkSize}}});var _={isDevice:false,contents:a}}else{var _={isDevice:false,url:t}}var s=FS.createFile(e,i,_,n,r);if(_.contents){s.contents=_.contents}else if(_.url){s.contents=null;s.url=_.url}Object.defineProperties(s,{usedBytes:{get:function(){return this.contents.length}}});var l={};var u=Object.keys(s.stream_ops);u.forEach(function(e){var i=s.stream_ops[e];l[e]=function e(){if(!FS.forceLoadFile(s)){throw new FS.ErrnoError(ERRNO_CODES.EIO)}return i.apply(null,arguments)}});l.read=function e(i,t,n,r,o){if(!FS.forceLoadFile(s)){throw new FS.ErrnoError(ERRNO_CODES.EIO)}var a=i.node.contents;if(o>=a.length)return 0;var _=Math.min(a.length-o,r);assert(_>=0);if(a.slice){for(var l=0;l<_;l++){t[n+l]=a[o+l]}}else{for(var l=0;l<_;l++){t[n+l]=a.get(o+l)}}return _};s.stream_ops=l;return s},createPreloadedFile:function(e,i,t,n,r,o,a,_,s,l){Browser.init();var u=i?PATH.resolve(PATH.join2(e,i)):e;var c=getUniqueRunDependency("cp "+u);function d(t){function d(t){if(l)l();if(!_){FS.createDataFile(e,i,t,n,r,s)}if(o)o();removeRunDependency(c)}var f=false;Module["preloadPlugins"].forEach(function(e){if(f)return;if(e["canHandle"](u)){e["handle"](t,u,d,function(){if(a)a();removeRunDependency(c)});f=true}});if(!f)d(t)}addRunDependency(c);if(typeof t=="string"){Browser.asyncLoad(t,function(e){d(e)},a)}else{d(t)}},indexedDB:function(){return window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB},DB_NAME:function(){return"EM_FS_"+window.location.pathname},DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:function(e,i,t){i=i||function(){};t=t||function(){};var n=FS.indexedDB();try{var r=n.open(FS.DB_NAME(),FS.DB_VERSION)}catch(e){return t(e)}r.onupgradeneeded=function e(){console.log("creating db");var i=r.result;i.createObjectStore(FS.DB_STORE_NAME)};r.onsuccess=function n(){var o=r.result;var a=o.transaction([FS.DB_STORE_NAME],"readwrite");var _=a.objectStore(FS.DB_STORE_NAME);var s=0,l=0,u=e.length;function c(){if(l==0)i();else t()}e.forEach(function(e){var i=_.put(FS.analyzePath(e).object.contents,e);i.onsuccess=function e(){s++;if(s+l==u)c()};i.onerror=function e(){l++;if(s+l==u)c()}});a.onerror=t};r.onerror=t},loadFilesFromDB:function(e,i,t){i=i||function(){};t=t||function(){};var n=FS.indexedDB();try{var r=n.open(FS.DB_NAME(),FS.DB_VERSION)}catch(e){return t(e)}r.onupgradeneeded=t;r.onsuccess=function n(){var o=r.result;try{var a=o.transaction([FS.DB_STORE_NAME],"readonly")}catch(e){t(e);return}var _=a.objectStore(FS.DB_STORE_NAME);var s=0,l=0,u=e.length;function c(){if(l==0)i();else t()}e.forEach(function(e){var i=_.get(e);i.onsuccess=function t(){if(FS.analyzePath(e).exists){FS.unlink(e)}FS.createDataFile(PATH.dirname(e),PATH.basename(e),i.result,true,true,true);s++;if(s+l==u)c()};i.onerror=function e(){l++;if(s+l==u)c()}});a.onerror=t};r.onerror=t}};var SYSCALLS={DEFAULT_POLLMASK:5,mappings:{},umask:511,calculateAt:function(e,i){if(i[0]!=="/"){var t;if(e===-100){t=FS.cwd()}else{var n=FS.getStream(e);if(!n)throw new FS.ErrnoError(ERRNO_CODES.EBADF);t=n.path}i=PATH.join2(t,i)}return i},doStat:function(e,i,t){try{var n=e(i)}catch(e){if(e&&e.node&&PATH.normalize(i)!==PATH.normalize(FS.getPath(e.node))){return-ERRNO_CODES.ENOTDIR}throw e}HEAP32[t>>2]=n.dev;HEAP32[t+4>>2]=0;HEAP32[t+8>>2]=n.ino;HEAP32[t+12>>2]=n.mode;HEAP32[t+16>>2]=n.nlink;HEAP32[t+20>>2]=n.uid;HEAP32[t+24>>2]=n.gid;HEAP32[t+28>>2]=n.rdev;HEAP32[t+32>>2]=0;HEAP32[t+36>>2]=n.size;HEAP32[t+40>>2]=4096;HEAP32[t+44>>2]=n.blocks;HEAP32[t+48>>2]=n.atime.getTime()/1e3|0;HEAP32[t+52>>2]=0;HEAP32[t+56>>2]=n.mtime.getTime()/1e3|0;HEAP32[t+60>>2]=0;HEAP32[t+64>>2]=n.ctime.getTime()/1e3|0;HEAP32[t+68>>2]=0;HEAP32[t+72>>2]=n.ino;return 0},doMsync:function(e,i,t,n){var r=new Uint8Array(HEAPU8.subarray(e,e+t));FS.msync(i,r,0,t,n)},doMkdir:function(e,i){e=PATH.normalize(e);if(e[e.length-1]==="/")e=e.substr(0,e.length-1);FS.mkdir(e,i,0);return 0},doMknod:function(e,i,t){switch(i&61440){case 32768:case 8192:case 24576:case 4096:case 49152:break;default:return-ERRNO_CODES.EINVAL}FS.mknod(e,i,t);return 0},doReadlink:function(e,i,t){if(t<=0)return-ERRNO_CODES.EINVAL;var n=FS.readlink(e);var r=Math.min(t,lengthBytesUTF8(n));var o=HEAP8[i+r];stringToUTF8(n,i,t+1);HEAP8[i+r]=o;return r},doAccess:function(e,i){if(i&~7){return-ERRNO_CODES.EINVAL}var t;var n=FS.lookupPath(e,{follow:true});t=n.node;var r="";if(i&4)r+="r";if(i&2)r+="w";if(i&1)r+="x";if(r&&FS.nodePermissions(t,r)){return-ERRNO_CODES.EACCES}return 0},doDup:function(e,i,t){var n=FS.getStream(t);if(n)FS.close(n);return FS.open(e,i,0,t,t).fd},doReadv:function(e,i,t,n){var r=0;for(var o=0;o<t;o++){var a=HEAP32[i+o*8>>2];var _=HEAP32[i+(o*8+4)>>2];var s=FS.read(e,HEAP8,a,_,n);if(s<0)return-1;r+=s;if(s<_)break}return r},doWritev:function(e,i,t,n){var r=0;for(var o=0;o<t;o++){var a=HEAP32[i+o*8>>2];var _=HEAP32[i+(o*8+4)>>2];var s=FS.write(e,HEAP8,a,_,n);if(s<0)return-1;r+=s}return r},varargs:0,get:function(e){SYSCALLS.varargs+=4;var i=HEAP32[SYSCALLS.varargs-4>>2];return i},getStr:function(){var e=Pointer_stringify(SYSCALLS.get());return e},getStreamFromFD:function(){var e=FS.getStream(SYSCALLS.get());if(!e)throw new FS.ErrnoError(ERRNO_CODES.EBADF);return e},getSocketFromFD:function(){var e=SOCKFS.getSocket(SYSCALLS.get());if(!e)throw new FS.ErrnoError(ERRNO_CODES.EBADF);return e},getSocketAddress:function(e){var i=SYSCALLS.get(),t=SYSCALLS.get();if(e&&i===0)return null;var n=__read_sockaddr(i,t);if(n.errno)throw new FS.ErrnoError(n.errno);n.addr=DNS.lookup_addr(n.addr)||n.addr;return n},get64:function(){var e=SYSCALLS.get(),i=SYSCALLS.get();if(e>=0)assert(i===0);else assert(i===-1);return e},getZero:function(){assert(SYSCALLS.get()===0)}};function ___syscall140(e,i){SYSCALLS.varargs=i;try{var t=SYSCALLS.getStreamFromFD(),n=SYSCALLS.get(),r=SYSCALLS.get(),o=SYSCALLS.get(),a=SYSCALLS.get();var _=r;FS.llseek(t,_,a);HEAP32[o>>2]=t.position;if(t.getdents&&_===0&&a===0)t.getdents=null;return 0}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return-e.errno}}function ___syscall145(e,i){SYSCALLS.varargs=i;try{var t=SYSCALLS.getStreamFromFD(),n=SYSCALLS.get(),r=SYSCALLS.get();return SYSCALLS.doReadv(t,n,r)}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return-e.errno}}function ___syscall146(e,i){SYSCALLS.varargs=i;try{var t=SYSCALLS.getStreamFromFD(),n=SYSCALLS.get(),r=SYSCALLS.get();return SYSCALLS.doWritev(t,n,r)}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return-e.errno}}function ___syscall183(e,i){SYSCALLS.varargs=i;try{var t=SYSCALLS.get(),n=SYSCALLS.get();if(n===0)return-ERRNO_CODES.EINVAL;var r=FS.cwd();var o=lengthBytesUTF8(r);if(n<o+1)return-ERRNO_CODES.ERANGE;stringToUTF8(r,t,n);return t}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return-e.errno}}var PROCINFO={ppid:1,pid:42,sid:42,pgid:42};function ___syscall20(e,i){SYSCALLS.varargs=i;try{return PROCINFO.pid}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return-e.errno}}function ___syscall221(e,i){SYSCALLS.varargs=i;try{var t=SYSCALLS.getStreamFromFD(),n=SYSCALLS.get();switch(n){case 0:{var r=SYSCALLS.get();if(r<0){return-ERRNO_CODES.EINVAL}var o;o=FS.open(t.path,t.flags,0,r);return o.fd};case 1:case 2:return 0;case 3:return t.flags;case 4:{var r=SYSCALLS.get();t.flags|=r;return 0};case 12:case 12:{var r=SYSCALLS.get();var a=0;HEAP16[r+a>>1]=2;return 0};case 13:case 14:case 13:case 14:return 0;case 16:case 8:return-ERRNO_CODES.EINVAL;case 9:___setErrNo(ERRNO_CODES.EINVAL);return-1;default:{return-ERRNO_CODES.EINVAL}}}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return-e.errno}}function ___syscall5(e,i){SYSCALLS.varargs=i;try{var t=SYSCALLS.getStr(),n=SYSCALLS.get(),r=SYSCALLS.get();var o=FS.open(t,n,r);return o.fd}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return-e.errno}}function ___syscall54(e,i){SYSCALLS.varargs=i;try{var t=SYSCALLS.getStreamFromFD(),n=SYSCALLS.get();switch(n){case 21509:case 21505:{if(!t.tty)return-ERRNO_CODES.ENOTTY;return 0};case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:{if(!t.tty)return-ERRNO_CODES.ENOTTY;return 0};case 21519:{if(!t.tty)return-ERRNO_CODES.ENOTTY;var r=SYSCALLS.get();HEAP32[r>>2]=0;return 0};case 21520:{if(!t.tty)return-ERRNO_CODES.ENOTTY;return-ERRNO_CODES.EINVAL};case 21531:{var r=SYSCALLS.get();return FS.ioctl(t,n,r)};case 21523:{if(!t.tty)return-ERRNO_CODES.ENOTTY;return 0};case 21524:{if(!t.tty)return-ERRNO_CODES.ENOTTY;return 0};default:abort("bad ioctl syscall "+n)}}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return-e.errno}}function ___syscall6(e,i){SYSCALLS.varargs=i;try{var t=SYSCALLS.getStreamFromFD();FS.close(t);return 0}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return-e.errno}}function ___syscall91(e,i){SYSCALLS.varargs=i;try{var t=SYSCALLS.get(),n=SYSCALLS.get();var r=SYSCALLS.mappings[t];if(!r)return 0;if(n===r.len){var o=FS.getStream(r.fd);SYSCALLS.doMsync(t,o,n,r.flags);FS.munmap(o);SYSCALLS.mappings[t]=null;if(r.allocated){_free(r.malloc)}}return 0}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return-e.errno}}function ___unlock(){}function _abort(){Module["abort"]()}function _emscripten_get_now(){abort()}function _emscripten_get_now_is_monotonic(){return ENVIRONMENT_IS_NODE||typeof dateNow!=="undefined"||(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)&&self["performance"]&&self["performance"]["now"]}function _clock_gettime(e,i){var t;if(e===0){t=Date.now()}else if(e===1&&_emscripten_get_now_is_monotonic()){t=_emscripten_get_now()}else{___setErrNo(ERRNO_CODES.EINVAL);return-1}HEAP32[i>>2]=t/1e3|0;HEAP32[i+4>>2]=t%1e3*1e3*1e3|0;return 0}function __exit(e){exit(e)}function _exit(e){__exit(e)}function _getenv(e){if(e===0)return 0;e=Pointer_stringify(e);if(!ENV.hasOwnProperty(e))return 0;if(_getenv.ret)_free(_getenv.ret);_getenv.ret=allocateUTF8(ENV[e]);return _getenv.ret}function _gettimeofday(e){var i=Date.now();HEAP32[e>>2]=i/1e3|0;HEAP32[e+4>>2]=i%1e3*1e3|0;return 0}var _llvm_ceil_f64=Math_ceil;var _llvm_fabs_f32=Math_abs;function _llvm_log10_f32(e){return Math.log(e)/Math.LN10}function _llvm_log10_f64(){return _llvm_log10_f32.apply(null,arguments)}var _llvm_log_f64=Math_log;var _llvm_pow_f32=Math_pow;var _llvm_pow_f64=Math_pow;var _llvm_sqrt_f64=Math_sqrt;function _llvm_stackrestore(e){var i=_llvm_stacksave;var t=i.LLVM_SAVEDSTACKS[e];i.LLVM_SAVEDSTACKS.splice(e,1);stackRestore(t)}function _llvm_stacksave(){var e=_llvm_stacksave;if(!e.LLVM_SAVEDSTACKS){e.LLVM_SAVEDSTACKS=[]}e.LLVM_SAVEDSTACKS.push(stackSave());return e.LLVM_SAVEDSTACKS.length-1}function _llvm_trap(){abort("trap!")}var ___tm_current=STATICTOP;STATICTOP+=48;var ___tm_timezone=allocate(intArrayFromString("GMT"),"i8",ALLOC_STATIC);function _tzset(){if(_tzset.called)return;_tzset.called=true;HEAP32[__get_timezone()>>2]=(new Date).getTimezoneOffset()*60;var e=new Date(2e3,0,1);var i=new Date(2e3,6,1);HEAP32[__get_daylight()>>2]=Number(e.getTimezoneOffset()!=i.getTimezoneOffset());function t(e){var i=e.toTimeString().match(/\(([A-Za-z ]+)\)$/);return i?i[1]:"GMT"}var n=t(e);var r=t(i);var o=allocate(intArrayFromString(n),"i8",ALLOC_NORMAL);var a=allocate(intArrayFromString(r),"i8",ALLOC_NORMAL);if(i.getTimezoneOffset()<e.getTimezoneOffset()){HEAP32[__get_tzname()>>2]=o;HEAP32[__get_tzname()+4>>2]=a}else{HEAP32[__get_tzname()>>2]=a;HEAP32[__get_tzname()+4>>2]=o}}function _localtime_r(e,i){_tzset();var t=new Date(HEAP32[e>>2]*1e3);HEAP32[i>>2]=t.getSeconds();HEAP32[i+4>>2]=t.getMinutes();HEAP32[i+8>>2]=t.getHours();HEAP32[i+12>>2]=t.getDate();HEAP32[i+16>>2]=t.getMonth();HEAP32[i+20>>2]=t.getFullYear()-1900;HEAP32[i+24>>2]=t.getDay();var n=new Date(t.getFullYear(),0,1);var r=(t.getTime()-n.getTime())/(1e3*60*60*24)|0;HEAP32[i+28>>2]=r;HEAP32[i+36>>2]=-(t.getTimezoneOffset()*60);var o=new Date(2e3,6,1).getTimezoneOffset();var a=n.getTimezoneOffset();var _=(o!=a&&t.getTimezoneOffset()==Math.min(a,o))|0;HEAP32[i+32>>2]=_;var s=HEAP32[__get_tzname()+(_?4:0)>>2];HEAP32[i+40>>2]=s;return i}function _localtime(e){return _localtime_r(e,___tm_current)}function _longjmp(e,i){Module["setThrew"](e,i||1);throw"longjmp"}function _emscripten_memcpy_big(e,i,t){HEAPU8.set(HEAPU8.subarray(i,i+t),e);return e}function _usleep(e){var i=e/1e3;if((ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)&&self["performance"]&&self["performance"]["now"]){var t=self["performance"]["now"]();while(self["performance"]["now"]()-t<i){}}else{var t=Date.now();while(Date.now()-t<i){}}return 0}function _nanosleep(e,i){var t=HEAP32[e>>2];var n=HEAP32[e+4>>2];if(i!==0){HEAP32[i>>2]=0;HEAP32[i+4>>2]=0}return _usleep(t*1e6+n/1e3)}function _pthread_attr_destroy(e){return 0}function _pthread_attr_init(e){return 0}function _pthread_attr_setdetachstate(){}function _pthread_attr_setstacksize(){}function _pthread_cond_destroy(){return 0}function _pthread_cond_init(){return 0}function _pthread_cond_signal(){return 0}function _pthread_cond_wait(){return 0}function _pthread_create(){return 11}var PTHREAD_SPECIFIC={};function _pthread_getspecific(e){return PTHREAD_SPECIFIC[e]||0}function _pthread_join(){}var PTHREAD_SPECIFIC_NEXT_KEY=1;function _pthread_key_create(e,i){if(e==0){return ERRNO_CODES.EINVAL}HEAP32[e>>2]=PTHREAD_SPECIFIC_NEXT_KEY;PTHREAD_SPECIFIC[PTHREAD_SPECIFIC_NEXT_KEY]=0;PTHREAD_SPECIFIC_NEXT_KEY++;return 0}function _pthread_mutex_destroy(){}function _pthread_mutex_init(){}function _pthread_mutexattr_destroy(){}function _pthread_mutexattr_init(){}function _pthread_mutexattr_settype(){}function _pthread_once(e,i){if(!_pthread_once.seen)_pthread_once.seen={};if(e in _pthread_once.seen)return;Module["dynCall_v"](i);_pthread_once.seen[e]=1}function _pthread_setspecific(e,i){if(!(e in PTHREAD_SPECIFIC)){return ERRNO_CODES.EINVAL}PTHREAD_SPECIFIC[e]=i;return 0}function _putenv(e){if(e===0){___setErrNo(ERRNO_CODES.EINVAL);return-1}e=Pointer_stringify(e);var i=e.indexOf("=");if(e===""||e.indexOf("=")===-1){___setErrNo(ERRNO_CODES.EINVAL);return-1}var t=e.slice(0,i);var n=e.slice(i+1);if(!(t in ENV)||ENV[t]!==n){ENV[t]=n;___buildEnvironment(__get_environ())}return 0}function __isLeapYear(e){return e%4===0&&(e%100!==0||e%400===0)}function __arraySum(e,i){var t=0;for(var n=0;n<=i;t+=e[n++]);return t}var __MONTH_DAYS_LEAP=[31,29,31,30,31,30,31,31,30,31,30,31];var __MONTH_DAYS_REGULAR=[31,28,31,30,31,30,31,31,30,31,30,31];function __addDays(e,i){var t=new Date(e.getTime());while(i>0){var n=__isLeapYear(t.getFullYear());var r=t.getMonth();var o=(n?__MONTH_DAYS_LEAP:__MONTH_DAYS_REGULAR)[r];if(i>o-t.getDate()){i-=o-t.getDate()+1;t.setDate(1);if(r<11){t.setMonth(r+1)}else{t.setMonth(0);t.setFullYear(t.getFullYear()+1)}}else{t.setDate(t.getDate()+i);return t}}return t}function _strftime(e,i,t,n){var r=HEAP32[n+40>>2];var o={tm_sec:HEAP32[n>>2],tm_min:HEAP32[n+4>>2],tm_hour:HEAP32[n+8>>2],tm_mday:HEAP32[n+12>>2],tm_mon:HEAP32[n+16>>2],tm_year:HEAP32[n+20>>2],tm_wday:HEAP32[n+24>>2],tm_yday:HEAP32[n+28>>2],tm_isdst:HEAP32[n+32>>2],tm_gmtoff:HEAP32[n+36>>2],tm_zone:r?Pointer_stringify(r):""};var a=Pointer_stringify(t);var _={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S"};for(var s in _){a=a.replace(new RegExp(s,"g"),_[s])}var l=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];var u=["January","February","March","April","May","June","July","August","September","October","November","December"];function c(e,i,t){var n=typeof e==="number"?e.toString():e||"";while(n.length<i){n=t[0]+n}return n}function d(e,i){return c(e,i,"0")}function f(e,i){function t(e){return e<0?-1:e>0?1:0}var n;if((n=t(e.getFullYear()-i.getFullYear()))===0){if((n=t(e.getMonth()-i.getMonth()))===0){n=t(e.getDate()-i.getDate())}}return n}function v(e){switch(e.getDay()){case 0:return new Date(e.getFullYear()-1,11,29);case 1:return e;case 2:return new Date(e.getFullYear(),0,3);case 3:return new Date(e.getFullYear(),0,2);case 4:return new Date(e.getFullYear(),0,1);case 5:return new Date(e.getFullYear()-1,11,31);case 6:return new Date(e.getFullYear()-1,11,30)}}function m(e){var i=__addDays(new Date(e.tm_year+1900,0,1),e.tm_yday);var t=new Date(i.getFullYear(),0,4);var n=new Date(i.getFullYear()+1,0,4);var r=v(t);var o=v(n);if(f(r,i)<=0){if(f(o,i)<=0){return i.getFullYear()+1}else{return i.getFullYear()}}else{return i.getFullYear()-1}}var p={"%a":function(e){return l[e.tm_wday].substring(0,3)},"%A":function(e){return l[e.tm_wday]},"%b":function(e){return u[e.tm_mon].substring(0,3)},"%B":function(e){return u[e.tm_mon]},"%C":function(e){var i=e.tm_year+1900;return d(i/100|0,2)},"%d":function(e){return d(e.tm_mday,2)},"%e":function(e){return c(e.tm_mday,2," ")},"%g":function(e){return m(e).toString().substring(2)},"%G":function(e){return m(e)},"%H":function(e){return d(e.tm_hour,2)},"%I":function(e){var i=e.tm_hour;if(i==0)i=12;else if(i>12)i-=12;return d(i,2)},"%j":function(e){return d(e.tm_mday+__arraySum(__isLeapYear(e.tm_year+1900)?__MONTH_DAYS_LEAP:__MONTH_DAYS_REGULAR,e.tm_mon-1),3)},"%m":function(e){return d(e.tm_mon+1,2)},"%M":function(e){return d(e.tm_min,2)},"%n":function(){return"\n"},"%p":function(e){if(e.tm_hour>=0&&e.tm_hour<12){return"AM"}else{return"PM"}},"%S":function(e){return d(e.tm_sec,2)},"%t":function(){return"\t"},"%u":function(e){var i=new Date(e.tm_year+1900,e.tm_mon+1,e.tm_mday,0,0,0,0);return i.getDay()||7},"%U":function(e){var i=new Date(e.tm_year+1900,0,1);var t=i.getDay()===0?i:__addDays(i,7-i.getDay());var n=new Date(e.tm_year+1900,e.tm_mon,e.tm_mday);if(f(t,n)<0){var r=__arraySum(__isLeapYear(n.getFullYear())?__MONTH_DAYS_LEAP:__MONTH_DAYS_REGULAR,n.getMonth()-1)-31;var o=31-t.getDate();var a=o+r+n.getDate();return d(Math.ceil(a/7),2)}return f(t,i)===0?"01":"00"},"%V":function(e){var i=new Date(e.tm_year+1900,0,4);var t=new Date(e.tm_year+1901,0,4);var n=v(i);var r=v(t);var o=__addDays(new Date(e.tm_year+1900,0,1),e.tm_yday);if(f(o,n)<0){return"53"}if(f(r,o)<=0){return"01"}var a;if(n.getFullYear()<e.tm_year+1900){a=e.tm_yday+32-n.getDate()}else{a=e.tm_yday+1-n.getDate()}return d(Math.ceil(a/7),2)},"%w":function(e){var i=new Date(e.tm_year+1900,e.tm_mon+1,e.tm_mday,0,0,0,0);return i.getDay()},"%W":function(e){var i=new Date(e.tm_year,0,1);var t=i.getDay()===1?i:__addDays(i,i.getDay()===0?1:7-i.getDay()+1);var n=new Date(e.tm_year+1900,e.tm_mon,e.tm_mday);if(f(t,n)<0){var r=__arraySum(__isLeapYear(n.getFullYear())?__MONTH_DAYS_LEAP:__MONTH_DAYS_REGULAR,n.getMonth()-1)-31;var o=31-t.getDate();var a=o+r+n.getDate();return d(Math.ceil(a/7),2)}return f(t,i)===0?"01":"00"},"%y":function(e){return(e.tm_year+1900).toString().substring(2)},"%Y":function(e){return e.tm_year+1900},"%z":function(e){var i=e.tm_gmtoff;var t=i>=0;i=Math.abs(i)/60;i=i/60*100+i%60;return(t?"+":"-")+String("0000"+i).slice(-4)},"%Z":function(e){return e.tm_zone},"%%":function(){return"%"}};for(var s in p){if(a.indexOf(s)>=0){a=a.replace(new RegExp(s,"g"),p[s](o))}}var E=intArrayFromString(a,false);if(E.length>i){return 0}writeArrayToMemory(E,e);return E.length-1}function _strftime_l(e,i,t,n){return _strftime(e,i,t,n)}function _sysconf(e){switch(e){case 30:return PAGE_SIZE;case 85:var i=2*1024*1024*1024-65536;return i/PAGE_SIZE;case 132:case 133:case 12:case 137:case 138:case 15:case 235:case 16:case 17:case 18:case 19:case 20:case 149:case 13:case 10:case 236:case 153:case 9:case 21:case 22:case 159:case 154:case 14:case 77:case 78:case 139:case 80:case 81:case 82:case 68:case 67:case 164:case 11:case 29:case 47:case 48:case 95:case 52:case 51:case 46:return 200809;case 79:return 0;case 27:case 246:case 127:case 128:case 23:case 24:case 160:case 161:case 181:case 182:case 242:case 183:case 184:case 243:case 244:case 245:case 165:case 178:case 179:case 49:case 50:case 168:case 169:case 175:case 170:case 171:case 172:case 97:case 76:case 32:case 173:case 35:return-1;case 176:case 177:case 7:case 155:case 8:case 157:case 125:case 126:case 92:case 93:case 129:case 130:case 131:case 94:case 91:return 1;case 74:case 60:case 69:case 70:case 4:return 1024;case 31:case 42:case 72:return 32;case 87:case 26:case 33:return 2147483647;case 34:case 1:return 47839;case 38:case 36:return 99;case 43:case 37:return 2048;case 0:return 2097152;case 3:return 65536;case 28:return 32768;case 44:return 32767;case 75:return 16384;case 39:return 1e3;case 89:return 700;case 71:return 256;case 40:return 255;case 2:return 100;case 180:return 64;case 25:return 20;case 5:return 16;case 6:return 6;case 73:return 4;case 84:{if(typeof navigator==="object")return navigator["hardwareConcurrency"]||1;return 1}}___setErrNo(ERRNO_CODES.EINVAL);return-1}function _time(e){var i=Date.now()/1e3|0;if(e){HEAP32[e>>2]=i}return i}function _times(e){if(e!==0){_memset(e,0,16)}return 0}function _zlt_js_file_close(){err("missing function: zlt_js_file_close");abort(-1)}function _zlt_js_file_isopen(){err("missing function: zlt_js_file_isopen");abort(-1)}function _zlt_js_file_open(){err("missing function: zlt_js_file_open");abort(-1)}function _zlt_js_file_read(){err("missing function: zlt_js_file_read");abort(-1)}function _zlt_js_file_size(){err("missing function: zlt_js_file_size");abort(-1)}function _zlt_js_file_write(){err("missing function: zlt_js_file_write");abort(-1)}FS.staticInit();__ATINIT__.unshift(function(){if(!Module["noFSInit"]&&!FS.init.initialized)FS.init()});__ATMAIN__.push(function(){FS.ignorePermissions=false});__ATEXIT__.push(function(){FS.quit()});__ATINIT__.unshift(function(){TTY.init()});__ATEXIT__.push(function(){TTY.shutdown()});if(ENVIRONMENT_IS_NODE){var fs=require("fs");var NODEJS_PATH=require("path");NODEFS.staticInit()}if(ENVIRONMENT_IS_NODE){_emscripten_get_now=function e(){var i=process["hrtime"]();return i[0]*1e3+i[1]/1e6}}else if(typeof dateNow!=="undefined"){_emscripten_get_now=dateNow}else if(typeof self==="object"&&self["performance"]&&typeof self["performance"]["now"]==="function"){_emscripten_get_now=function(){return self["performance"]["now"]()}}else if(typeof performance==="object"&&typeof performance["now"]==="function"){_emscripten_get_now=function(){return performance["now"]()}}else{_emscripten_get_now=Date.now}DYNAMICTOP_PTR=staticAlloc(4);STACK_BASE=STACKTOP=alignMemory(STATICTOP);STACK_MAX=STACK_BASE+TOTAL_STACK;DYNAMIC_BASE=alignMemory(STACK_MAX);HEAP32[DYNAMICTOP_PTR>>2]=DYNAMIC_BASE;staticSealed=true;var ASSERTIONS=false;function intArrayFromString(e,i,t){var n=t>0?t:lengthBytesUTF8(e)+1;var r=new Array(n);var o=stringToUTF8Array(e,r,0,r.length);if(i)r.length=o;return r}Module["wasmTableSize"]=10928;Module["wasmMaxTableSize"]=10928;function invoke_dd(e,i){var t=stackSave();try{return Module["dynCall_dd"](e,i)}catch(e){stackRestore(t);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_i(e){var i=stackSave();try{return Module["dynCall_i"](e)}catch(e){stackRestore(i);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_ii(e,i){var t=stackSave();try{return Module["dynCall_ii"](e,i)}catch(e){stackRestore(t);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_iif(e,i,t){var n=stackSave();try{return Module["dynCall_iif"](e,i,t)}catch(e){stackRestore(n);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_iiffi(e,i,t,n,r){var o=stackSave();try{return Module["dynCall_iiffi"](e,i,t,n,r)}catch(e){stackRestore(o);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_iii(e,i,t){var n=stackSave();try{return Module["dynCall_iii"](e,i,t)}catch(e){stackRestore(n);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_iiif(e,i,t,n){var r=stackSave();try{return Module["dynCall_iiif"](e,i,t,n)}catch(e){stackRestore(r);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_iiiffi(e,i,t,n,r,o){var a=stackSave();try{return Module["dynCall_iiiffi"](e,i,t,n,r,o)}catch(e){stackRestore(a);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_iiifii(e,i,t,n,r,o){var a=stackSave();try{return Module["dynCall_iiifii"](e,i,t,n,r,o)}catch(e){stackRestore(a);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_iiii(e,i,t,n){var r=stackSave();try{return Module["dynCall_iiii"](e,i,t,n)}catch(e){stackRestore(r);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_iiiid(e,i,t,n,r){var o=stackSave();try{return Module["dynCall_iiiid"](e,i,t,n,r)}catch(e){stackRestore(o);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_iiiif(e,i,t,n,r){var o=stackSave();try{return Module["dynCall_iiiif"](e,i,t,n,r)}catch(e){stackRestore(o);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_iiiifi(e,i,t,n,r,o){var a=stackSave();try{return Module["dynCall_iiiifi"](e,i,t,n,r,o)}catch(e){stackRestore(a);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_iiiifii(e,i,t,n,r,o,a){var _=stackSave();try{return Module["dynCall_iiiifii"](e,i,t,n,r,o,a)}catch(e){stackRestore(_);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_iiiii(e,i,t,n,r){var o=stackSave();try{return Module["dynCall_iiiii"](e,i,t,n,r)}catch(e){stackRestore(o);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_iiiiid(e,i,t,n,r,o){var a=stackSave();try{return Module["dynCall_iiiiid"](e,i,t,n,r,o)}catch(e){stackRestore(a);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_iiiiiffff(e,i,t,n,r,o,a,_,s){var l=stackSave();try{return Module["dynCall_iiiiiffff"](e,i,t,n,r,o,a,_,s)}catch(e){stackRestore(l);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_iiiiifi(e,i,t,n,r,o,a){var _=stackSave();try{return Module["dynCall_iiiiifi"](e,i,t,n,r,o,a)}catch(e){stackRestore(_);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_iiiiifiii(e,i,t,n,r,o,a,_,s){var l=stackSave();try{return Module["dynCall_iiiiifiii"](e,i,t,n,r,o,a,_,s)}catch(e){stackRestore(l);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_iiiiii(e,i,t,n,r,o){var a=stackSave();try{return Module["dynCall_iiiiii"](e,i,t,n,r,o)}catch(e){stackRestore(a);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_iiiiiid(e,i,t,n,r,o,a){var _=stackSave();try{return Module["dynCall_iiiiiid"](e,i,t,n,r,o,a)}catch(e){stackRestore(_);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_iiiiiii(e,i,t,n,r,o,a){var _=stackSave();try{return Module["dynCall_iiiiiii"](e,i,t,n,r,o,a)}catch(e){stackRestore(_);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_iiiiiiiffff(e,i,t,n,r,o,a,_,s,l,u){var c=stackSave();try{return Module["dynCall_iiiiiiiffff"](e,i,t,n,r,o,a,_,s,l,u)}catch(e){stackRestore(c);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_iiiiiiii(e,i,t,n,r,o,a,_){var s=stackSave();try{return Module["dynCall_iiiiiiii"](e,i,t,n,r,o,a,_)}catch(e){stackRestore(s);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_iiiiiiiii(e,i,t,n,r,o,a,_,s){var l=stackSave();try{return Module["dynCall_iiiiiiiii"](e,i,t,n,r,o,a,_,s)}catch(e){stackRestore(l);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_iiiiiiiiii(e,i,t,n,r,o,a,_,s,l){var u=stackSave();try{return Module["dynCall_iiiiiiiiii"](e,i,t,n,r,o,a,_,s,l)}catch(e){stackRestore(u);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_iiiiiiiiiii(e,i,t,n,r,o,a,_,s,l,u){var c=stackSave();try{return Module["dynCall_iiiiiiiiiii"](e,i,t,n,r,o,a,_,s,l,u)}catch(e){stackRestore(c);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_iiiiiiiiiiii(e,i,t,n,r,o,a,_,s,l,u,c){var d=stackSave();try{return Module["dynCall_iiiiiiiiiiii"](e,i,t,n,r,o,a,_,s,l,u,c)}catch(e){stackRestore(d);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_iiiiiiiiiiiii(e,i,t,n,r,o,a,_,s,l,u,c,d){var f=stackSave();try{return Module["dynCall_iiiiiiiiiiiii"](e,i,t,n,r,o,a,_,s,l,u,c,d)}catch(e){stackRestore(f);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_iiiiiiiiiiiiii(e,i,t,n,r,o,a,_,s,l,u,c,d,f){var v=stackSave();try{return Module["dynCall_iiiiiiiiiiiiii"](e,i,t,n,r,o,a,_,s,l,u,c,d,f)}catch(e){stackRestore(v);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_iiiiiiiiiiiiiiii(e,i,t,n,r,o,a,_,s,l,u,c,d,f,v,m){var p=stackSave();try{return Module["dynCall_iiiiiiiiiiiiiiii"](e,i,t,n,r,o,a,_,s,l,u,c,d,f,v,m)}catch(e){stackRestore(p);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_iiiiiiiiiiiiiiiii(e,i,t,n,r,o,a,_,s,l,u,c,d,f,v,m,p){var E=stackSave();try{return Module["dynCall_iiiiiiiiiiiiiiiii"](e,i,t,n,r,o,a,_,s,l,u,c,d,f,v,m,p)}catch(e){stackRestore(E);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_iiiiiiiiiij(e,i,t,n,r,o,a,_,s,l,u,c){var d=stackSave();try{return Module["dynCall_iiiiiiiiiij"](e,i,t,n,r,o,a,_,s,l,u,c)}catch(e){stackRestore(d);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_iiiiiiiiij(e,i,t,n,r,o,a,_,s,l,u){var c=stackSave();try{return Module["dynCall_iiiiiiiiij"](e,i,t,n,r,o,a,_,s,l,u)}catch(e){stackRestore(c);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_iiiiiijiji(e,i,t,n,r,o,a,_,s,l,u,c){var d=stackSave();try{return Module["dynCall_iiiiiijiji"](e,i,t,n,r,o,a,_,s,l,u,c)}catch(e){stackRestore(d);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_iiiiij(e,i,t,n,r,o,a){var _=stackSave();try{return Module["dynCall_iiiiij"](e,i,t,n,r,o,a)}catch(e){stackRestore(_);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_iiiiijiji(e,i,t,n,r,o,a,_,s,l,u){var c=stackSave();try{return Module["dynCall_iiiiijiji"](e,i,t,n,r,o,a,_,s,l,u)}catch(e){stackRestore(c);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_iiij(e,i,t,n,r){var o=stackSave();try{return Module["dynCall_iiij"](e,i,t,n,r)}catch(e){stackRestore(o);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_iij(e,i,t,n){var r=stackSave();try{return Module["dynCall_iij"](e,i,t,n)}catch(e){stackRestore(r);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_iijiiiiiiiiiii(e,i,t,n,r,o,a,_,s,l,u,c,d,f,v){var m=stackSave();try{return Module["dynCall_iijiiiiiiiiiii"](e,i,t,n,r,o,a,_,s,l,u,c,d,f,v)}catch(e){stackRestore(m);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_ji(e,i){var t=stackSave();try{return Module["dynCall_ji"](e,i)}catch(e){stackRestore(t);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_v(e){var i=stackSave();try{Module["dynCall_v"](e)}catch(e){stackRestore(i);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_vi(e,i){var t=stackSave();try{Module["dynCall_vi"](e,i)}catch(e){stackRestore(t);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_vidi(e,i,t,n){var r=stackSave();try{Module["dynCall_vidi"](e,i,t,n)}catch(e){stackRestore(r);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_vii(e,i,t){var n=stackSave();try{Module["dynCall_vii"](e,i,t)}catch(e){stackRestore(n);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_viii(e,i,t,n){var r=stackSave();try{Module["dynCall_viii"](e,i,t,n)}catch(e){stackRestore(r);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_viiii(e,i,t,n,r){var o=stackSave();try{Module["dynCall_viiii"](e,i,t,n,r)}catch(e){stackRestore(o);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_viiiii(e,i,t,n,r,o){var a=stackSave();try{Module["dynCall_viiiii"](e,i,t,n,r,o)}catch(e){stackRestore(a);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_viiiiii(e,i,t,n,r,o,a){var _=stackSave();try{Module["dynCall_viiiiii"](e,i,t,n,r,o,a)}catch(e){stackRestore(_);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_viiiiiii(e,i,t,n,r,o,a,_){var s=stackSave();try{Module["dynCall_viiiiiii"](e,i,t,n,r,o,a,_)}catch(e){stackRestore(s);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_viiiiiiii(e,i,t,n,r,o,a,_,s){var l=stackSave();try{Module["dynCall_viiiiiiii"](e,i,t,n,r,o,a,_,s)}catch(e){stackRestore(l);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_viiiiiiiii(e,i,t,n,r,o,a,_,s,l){var u=stackSave();try{Module["dynCall_viiiiiiiii"](e,i,t,n,r,o,a,_,s,l)}catch(e){stackRestore(u);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_viiiiiiiiii(e,i,t,n,r,o,a,_,s,l,u){var c=stackSave();try{Module["dynCall_viiiiiiiiii"](e,i,t,n,r,o,a,_,s,l,u)}catch(e){stackRestore(c);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_viiiiiiiiiii(e,i,t,n,r,o,a,_,s,l,u,c){var d=stackSave();try{Module["dynCall_viiiiiiiiiii"](e,i,t,n,r,o,a,_,s,l,u,c)}catch(e){stackRestore(d);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_viiiiiiiiiiii(e,i,t,n,r,o,a,_,s,l,u,c,d){var f=stackSave();try{Module["dynCall_viiiiiiiiiiii"](e,i,t,n,r,o,a,_,s,l,u,c,d)}catch(e){stackRestore(f);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_viiiiiiiiiiiiii(e,i,t,n,r,o,a,_,s,l,u,c,d,f,v){var m=stackSave();try{Module["dynCall_viiiiiiiiiiiiii"](e,i,t,n,r,o,a,_,s,l,u,c,d,f,v)}catch(e){stackRestore(m);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_viiiiiiiiiiiiiiiiiiiii(e,i,t,n,r,o,a,_,s,l,u,c,d,f,v,m,p,E,S,h,y,g){var M=stackSave();try{Module["dynCall_viiiiiiiiiiiiiiiiiiiii"](e,i,t,n,r,o,a,_,s,l,u,c,d,f,v,m,p,E,S,h,y,g)}catch(e){stackRestore(M);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_viijii(e,i,t,n,r,o,a){var _=stackSave();try{Module["dynCall_viijii"](e,i,t,n,r,o,a)}catch(e){stackRestore(_);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_viji(e,i,t,n,r){var o=stackSave();try{Module["dynCall_viji"](e,i,t,n,r)}catch(e){stackRestore(o);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}Module.asmGlobalArg={};Module.asmLibraryArg={abort:abort,assert:assert,enlargeMemory:enlargeMemory,getTotalMemory:getTotalMemory,abortOnCannotGrowMemory:abortOnCannotGrowMemory,invoke_dd:invoke_dd,invoke_i:invoke_i,invoke_ii:invoke_ii,invoke_iif:invoke_iif,invoke_iiffi:invoke_iiffi,invoke_iii:invoke_iii,invoke_iiif:invoke_iiif,invoke_iiiffi:invoke_iiiffi,invoke_iiifii:invoke_iiifii,invoke_iiii:invoke_iiii,invoke_iiiid:invoke_iiiid,invoke_iiiif:invoke_iiiif,invoke_iiiifi:invoke_iiiifi,invoke_iiiifii:invoke_iiiifii,invoke_iiiii:invoke_iiiii,invoke_iiiiid:invoke_iiiiid,invoke_iiiiiffff:invoke_iiiiiffff,invoke_iiiiifi:invoke_iiiiifi,invoke_iiiiifiii:invoke_iiiiifiii,invoke_iiiiii:invoke_iiiiii,invoke_iiiiiid:invoke_iiiiiid,invoke_iiiiiii:invoke_iiiiiii,invoke_iiiiiiiffff:invoke_iiiiiiiffff,invoke_iiiiiiii:invoke_iiiiiiii,invoke_iiiiiiiii:invoke_iiiiiiiii,invoke_iiiiiiiiii:invoke_iiiiiiiiii,invoke_iiiiiiiiiii:invoke_iiiiiiiiiii,invoke_iiiiiiiiiiii:invoke_iiiiiiiiiiii,invoke_iiiiiiiiiiiii:invoke_iiiiiiiiiiiii,invoke_iiiiiiiiiiiiii:invoke_iiiiiiiiiiiiii,invoke_iiiiiiiiiiiiiiii:invoke_iiiiiiiiiiiiiiii,invoke_iiiiiiiiiiiiiiiii:invoke_iiiiiiiiiiiiiiiii,invoke_iiiiiiiiiij:invoke_iiiiiiiiiij,invoke_iiiiiiiiij:invoke_iiiiiiiiij,invoke_iiiiiijiji:invoke_iiiiiijiji,invoke_iiiiij:invoke_iiiiij,invoke_iiiiijiji:invoke_iiiiijiji,invoke_iiij:invoke_iiij,invoke_iij:invoke_iij,invoke_iijiiiiiiiiiii:invoke_iijiiiiiiiiiii,invoke_ji:invoke_ji,invoke_v:invoke_v,invoke_vi:invoke_vi,invoke_vidi:invoke_vidi,invoke_vii:invoke_vii,invoke_viii:invoke_viii,invoke_viiii:invoke_viiii,invoke_viiiii:invoke_viiiii,invoke_viiiiii:invoke_viiiiii,invoke_viiiiiii:invoke_viiiiiii,invoke_viiiiiiii:invoke_viiiiiiii,invoke_viiiiiiiii:invoke_viiiiiiiii,invoke_viiiiiiiiii:invoke_viiiiiiiiii,invoke_viiiiiiiiiii:invoke_viiiiiiiiiii,invoke_viiiiiiiiiiii:invoke_viiiiiiiiiiii,invoke_viiiiiiiiiiiiii:invoke_viiiiiiiiiiiiii,invoke_viiiiiiiiiiiiiiiiiiiii:invoke_viiiiiiiiiiiiiiiiiiiii,invoke_viijii:invoke_viijii,invoke_viji:invoke_viji,__Z20destroy_capture_hostP8ICptHost:__Z20destroy_capture_hostP8ICptHost,___assert_fail:___assert_fail,___buildEnvironment:___buildEnvironment,___cxa_allocate_exception:___cxa_allocate_exception,___cxa_begin_catch:___cxa_begin_catch,___cxa_find_matching_catch:___cxa_find_matching_catch,___cxa_pure_virtual:___cxa_pure_virtual,___cxa_throw:___cxa_throw,___cxa_uncaught_exception:___cxa_uncaught_exception,___gxx_personality_v0:___gxx_personality_v0,___lock:___lock,___map_file:___map_file,___resumeException:___resumeException,___setErrNo:___setErrNo,___syscall140:___syscall140,___syscall145:___syscall145,___syscall146:___syscall146,___syscall183:___syscall183,___syscall20:___syscall20,___syscall221:___syscall221,___syscall5:___syscall5,___syscall54:___syscall54,___syscall6:___syscall6,___syscall91:___syscall91,___unlock:___unlock,__addDays:__addDays,__arraySum:__arraySum,__exit:__exit,__isLeapYear:__isLeapYear,_abort:_abort,_clock_gettime:_clock_gettime,_emscripten_asm_const_ii:_emscripten_asm_const_ii,_emscripten_asm_const_iii:_emscripten_asm_const_iii,_emscripten_asm_const_iiii:_emscripten_asm_const_iiii,_emscripten_asm_const_iiiii:_emscripten_asm_const_iiiii,_emscripten_asm_const_iiiiii:_emscripten_asm_const_iiiiii,_emscripten_asm_const_iiiiiiiiiiiii:_emscripten_asm_const_iiiiiiiiiiiii,_emscripten_get_now:_emscripten_get_now,_emscripten_get_now_is_monotonic:_emscripten_get_now_is_monotonic,_emscripten_memcpy_big:_emscripten_memcpy_big,_exit:_exit,_getenv:_getenv,_gettimeofday:_gettimeofday,_llvm_ceil_f64:_llvm_ceil_f64,_llvm_fabs_f32:_llvm_fabs_f32,_llvm_log10_f32:_llvm_log10_f32,_llvm_log10_f64:_llvm_log10_f64,_llvm_log_f64:_llvm_log_f64,_llvm_pow_f32:_llvm_pow_f32,_llvm_pow_f64:_llvm_pow_f64,_llvm_sqrt_f64:_llvm_sqrt_f64,_llvm_stackrestore:_llvm_stackrestore,_llvm_stacksave:_llvm_stacksave,_llvm_trap:_llvm_trap,_localtime:_localtime,_localtime_r:_localtime_r,_longjmp:_longjmp,_nanosleep:_nanosleep,_pthread_attr_destroy:_pthread_attr_destroy,_pthread_attr_init:_pthread_attr_init,_pthread_attr_setdetachstate:_pthread_attr_setdetachstate,_pthread_attr_setstacksize:_pthread_attr_setstacksize,_pthread_cond_destroy:_pthread_cond_destroy,_pthread_cond_init:_pthread_cond_init,_pthread_cond_signal:_pthread_cond_signal,_pthread_cond_wait:_pthread_cond_wait,_pthread_create:_pthread_create,_pthread_getspecific:_pthread_getspecific,_pthread_join:_pthread_join,_pthread_key_create:_pthread_key_create,_pthread_mutex_destroy:_pthread_mutex_destroy,_pthread_mutex_init:_pthread_mutex_init,_pthread_mutexattr_destroy:_pthread_mutexattr_destroy,_pthread_mutexattr_init:_pthread_mutexattr_init,_pthread_mutexattr_settype:_pthread_mutexattr_settype,_pthread_once:_pthread_once,_pthread_setspecific:_pthread_setspecific,_putenv:_putenv,_strftime:_strftime,_strftime_l:_strftime_l,_sysconf:_sysconf,_time:_time,_times:_times,_tzset:_tzset,_usleep:_usleep,_zlt_js_file_close:_zlt_js_file_close,_zlt_js_file_isopen:_zlt_js_file_isopen,_zlt_js_file_open:_zlt_js_file_open,_zlt_js_file_read:_zlt_js_file_read,_zlt_js_file_size:_zlt_js_file_size,_zlt_js_file_write:_zlt_js_file_write,DYNAMICTOP_PTR:DYNAMICTOP_PTR,tempDoublePtr:tempDoublePtr,ABORT:ABORT,STACKTOP:STACKTOP,STACK_MAX:STACK_MAX};var asm=Module["asm"](Module.asmGlobalArg,Module.asmLibraryArg,buffer);Module["asm"]=asm;var __GLOBAL__sub_I_CptShare_cpp=Module["__GLOBAL__sub_I_CptShare_cpp"]=function(){return Module["asm"]["__GLOBAL__sub_I_CptShare_cpp"].apply(null,arguments)};var __GLOBAL__sub_I_auxi_cpp=Module["__GLOBAL__sub_I_auxi_cpp"]=function(){return Module["asm"]["__GLOBAL__sub_I_auxi_cpp"].apply(null,arguments)};var __GLOBAL__sub_I_log_cpp=Module["__GLOBAL__sub_I_log_cpp"]=function(){return Module["asm"]["__GLOBAL__sub_I_log_cpp"].apply(null,arguments)};var __GLOBAL__sub_I_rsfec_cpp=Module["__GLOBAL__sub_I_rsfec_cpp"]=function(){return Module["asm"]["__GLOBAL__sub_I_rsfec_cpp"].apply(null,arguments)};var __GLOBAL__sub_I_singleton_cpp=Module["__GLOBAL__sub_I_singleton_cpp"]=function(){return Module["asm"]["__GLOBAL__sub_I_singleton_cpp"].apply(null,arguments)};var __GLOBAL__sub_I_ssb_media_security_officer_cpp=Module["__GLOBAL__sub_I_ssb_media_security_officer_cpp"]=function(){return Module["asm"]["__GLOBAL__sub_I_ssb_media_security_officer_cpp"].apply(null,arguments)};var __GLOBAL__sub_I_ssb_media_video_stream_config_cpp=Module["__GLOBAL__sub_I_ssb_media_video_stream_config_cpp"]=function(){return Module["asm"]["__GLOBAL__sub_I_ssb_media_video_stream_config_cpp"].apply(null,arguments)};var __GLOBAL__sub_I_ssb_media_wcl_as_controller_cpp=Module["__GLOBAL__sub_I_ssb_media_wcl_as_controller_cpp"]=function(){return Module["asm"]["__GLOBAL__sub_I_ssb_media_wcl_as_controller_cpp"].apply(null,arguments)};var __GLOBAL__sub_I_ssb_media_wcl_video_controller_cpp=Module["__GLOBAL__sub_I_ssb_media_wcl_video_controller_cpp"]=function(){return Module["asm"]["__GLOBAL__sub_I_ssb_media_wcl_video_controller_cpp"].apply(null,arguments)};var __GLOBAL__sub_I_text_stream_cpp=Module["__GLOBAL__sub_I_text_stream_cpp"]=function(){return Module["asm"]["__GLOBAL__sub_I_text_stream_cpp"].apply(null,arguments)};var __GLOBAL__sub_I_wcl_sharing_cpp=Module["__GLOBAL__sub_I_wcl_sharing_cpp"]=function(){return Module["asm"]["__GLOBAL__sub_I_wcl_sharing_cpp"].apply(null,arguments)};var __GLOBAL__sub_I_wcl_video_cpp=Module["__GLOBAL__sub_I_wcl_video_cpp"]=function(){return Module["asm"]["__GLOBAL__sub_I_wcl_video_cpp"].apply(null,arguments)};var __GLOBAL__sub_I_zltperfmonitor_cpp=Module["__GLOBAL__sub_I_zltperfmonitor_cpp"]=function(){return Module["asm"]["__GLOBAL__sub_I_zltperfmonitor_cpp"].apply(null,arguments)};var __Get_Codec_Info=Module["__Get_Codec_Info"]=function(){return Module["asm"]["__Get_Codec_Info"].apply(null,arguments)};var __Get_Sharing_Sending_Status=Module["__Get_Sharing_Sending_Status"]=function(){return Module["asm"]["__Get_Sharing_Sending_Status"].apply(null,arguments)};var __Sharing_Encode=Module["__Sharing_Encode"]=function(){return Module["asm"]["__Sharing_Encode"].apply(null,arguments)};var __Sharing_Encode_Init=Module["__Sharing_Encode_Init"]=function(){return Module["asm"]["__Sharing_Encode_Init"].apply(null,arguments)};var __Sharing_Encode_Try_Analysis=Module["__Sharing_Encode_Try_Analysis"]=function(){return Module["asm"]["__Sharing_Encode_Try_Analysis"].apply(null,arguments)};var __Sharing_Encode_Uninit=Module["__Sharing_Encode_Uninit"]=function(){return Module["asm"]["__Sharing_Encode_Uninit"].apply(null,arguments)};var __Sharing_Pause_Encode=Module["__Sharing_Pause_Encode"]=function(){return Module["asm"]["__Sharing_Pause_Encode"].apply(null,arguments)};var __Sharing_Resume_Encode=Module["__Sharing_Resume_Encode"]=function(){return Module["asm"]["__Sharing_Resume_Encode"].apply(null,arguments)};var __Sharing_Set_Data_Encryption=Module["__Sharing_Set_Data_Encryption"]=function(){return Module["asm"]["__Sharing_Set_Data_Encryption"].apply(null,arguments)};var __Sharing_Stop_Encode=Module["__Sharing_Stop_Encode"]=function(){return Module["asm"]["__Sharing_Stop_Encode"].apply(null,arguments)};var __Sharing_Websocket_Speed=Module["__Sharing_Websocket_Speed"]=function(){return Module["asm"]["__Sharing_Websocket_Speed"].apply(null,arguments)};var __Video_Decode=Module["__Video_Decode"]=function(){return Module["asm"]["__Video_Decode"].apply(null,arguments)};var __Video_Encode=Module["__Video_Encode"]=function(){return Module["asm"]["__Video_Encode"].apply(null,arguments)};var __Video_Get_Decode_Codec_Info=Module["__Video_Get_Decode_Codec_Info"]=function(){return Module["asm"]["__Video_Get_Decode_Codec_Info"].apply(null,arguments)};var __Video_Get_Encode_Codec_Info=Module["__Video_Get_Encode_Codec_Info"]=function(){return Module["asm"]["__Video_Get_Encode_Codec_Info"].apply(null,arguments)};var __Video_Get_Sending_Status=Module["__Video_Get_Sending_Status"]=function(){return Module["asm"]["__Video_Get_Sending_Status"].apply(null,arguments)};var __Video_Init=Module["__Video_Init"]=function(){return Module["asm"]["__Video_Init"].apply(null,arguments)};var __Video_Set_Data_Encryption=Module["__Video_Set_Data_Encryption"]=function(){return Module["asm"]["__Video_Set_Data_Encryption"].apply(null,arguments)};var __Video_Start_Encode=Module["__Video_Start_Encode"]=function(){return Module["asm"]["__Video_Start_Encode"].apply(null,arguments)};var __Video_Stop_Encode=Module["__Video_Stop_Encode"]=function(){return Module["asm"]["__Video_Stop_Encode"].apply(null,arguments)};var __Video_Try_Analysis=Module["__Video_Try_Analysis"]=function(){return Module["asm"]["__Video_Try_Analysis"].apply(null,arguments)};var __Video_UnInit=Module["__Video_UnInit"]=function(){return Module["asm"]["__Video_UnInit"].apply(null,arguments)};var __Video_Update_Format=Module["__Video_Update_Format"]=function(){return Module["asm"]["__Video_Update_Format"].apply(null,arguments)};var __Video_Websocket_Speed=Module["__Video_Websocket_Speed"]=function(){return Module["asm"]["__Video_Websocket_Speed"].apply(null,arguments)};var __ZSt18uncaught_exceptionv=Module["__ZSt18uncaught_exceptionv"]=function(){return Module["asm"]["__ZSt18uncaught_exceptionv"].apply(null,arguments)};var ___cxa_can_catch=Module["___cxa_can_catch"]=function(){return Module["asm"]["___cxa_can_catch"].apply(null,arguments)};var ___cxa_demangle=Module["___cxa_demangle"]=function(){return Module["asm"]["___cxa_demangle"].apply(null,arguments)};var ___cxa_is_pointer_type=Module["___cxa_is_pointer_type"]=function(){return Module["asm"]["___cxa_is_pointer_type"].apply(null,arguments)};var ___cxx_global_var_init_12=Module["___cxx_global_var_init_12"]=function(){return Module["asm"]["___cxx_global_var_init_12"].apply(null,arguments)};var ___cxx_global_var_init_1_3062=Module["___cxx_global_var_init_1_3062"]=function(){return Module["asm"]["___cxx_global_var_init_1_3062"].apply(null,arguments)};var ___cxx_global_var_init_2996=Module["___cxx_global_var_init_2996"]=function(){return Module["asm"]["___cxx_global_var_init_2996"].apply(null,arguments)};var ___cxx_global_var_init_2_3063=Module["___cxx_global_var_init_2_3063"]=function(){return Module["asm"]["___cxx_global_var_init_2_3063"].apply(null,arguments)};var ___cxx_global_var_init_3=Module["___cxx_global_var_init_3"]=function(){return Module["asm"]["___cxx_global_var_init_3"].apply(null,arguments)};var ___cxx_global_var_init_3019=Module["___cxx_global_var_init_3019"]=function(){return Module["asm"]["___cxx_global_var_init_3019"].apply(null,arguments)};var ___cxx_global_var_init_3027=Module["___cxx_global_var_init_3027"]=function(){return Module["asm"]["___cxx_global_var_init_3027"].apply(null,arguments)};var ___cxx_global_var_init_3032=Module["___cxx_global_var_init_3032"]=function(){return Module["asm"]["___cxx_global_var_init_3032"].apply(null,arguments)};var ___cxx_global_var_init_3061=Module["___cxx_global_var_init_3061"]=function(){return Module["asm"]["___cxx_global_var_init_3061"].apply(null,arguments)};var ___cxx_global_var_init_3_3075=Module["___cxx_global_var_init_3_3075"]=function(){return Module["asm"]["___cxx_global_var_init_3_3075"].apply(null,arguments)};var ___cxx_global_var_init_4=Module["___cxx_global_var_init_4"]=function(){return Module["asm"]["___cxx_global_var_init_4"].apply(null,arguments)};var ___cxx_global_var_init_47=Module["___cxx_global_var_init_47"]=function(){return Module["asm"]["___cxx_global_var_init_47"].apply(null,arguments)};var ___cxx_global_var_init_48=Module["___cxx_global_var_init_48"]=function(){return Module["asm"]["___cxx_global_var_init_48"].apply(null,arguments)};var ___emscripten_environ_constructor=Module["___emscripten_environ_constructor"]=function(){return Module["asm"]["___emscripten_environ_constructor"].apply(null,arguments)};var ___errno_location=Module["___errno_location"]=function(){return Module["asm"]["___errno_location"].apply(null,arguments)};var __get_daylight=Module["__get_daylight"]=function(){return Module["asm"]["__get_daylight"].apply(null,arguments)};var __get_environ=Module["__get_environ"]=function(){return Module["asm"]["__get_environ"].apply(null,arguments)};var __get_timezone=Module["__get_timezone"]=function(){return Module["asm"]["__get_timezone"].apply(null,arguments)};var __get_tzname=Module["__get_tzname"]=function(){return Module["asm"]["__get_tzname"].apply(null,arguments)};var __sharing_decompress=Module["__sharing_decompress"]=function(){return Module["asm"]["__sharing_decompress"].apply(null,arguments)};var __sharing_init=Module["__sharing_init"]=function(){return Module["asm"]["__sharing_init"].apply(null,arguments)};var __sharing_uninit=Module["__sharing_uninit"]=function(){return Module["asm"]["__sharing_uninit"].apply(null,arguments)};var _emscripten_replace_memory=Module["_emscripten_replace_memory"]=function(){return Module["asm"]["_emscripten_replace_memory"].apply(null,arguments)};var _free=Module["_free"]=function(){return Module["asm"]["_free"].apply(null,arguments)};var _htonl=Module["_htonl"]=function(){return Module["asm"]["_htonl"].apply(null,arguments)};var _htons=Module["_htons"]=function(){return Module["asm"]["_htons"].apply(null,arguments)};var _llvm_bswap_i16=Module["_llvm_bswap_i16"]=function(){return Module["asm"]["_llvm_bswap_i16"].apply(null,arguments)};var _llvm_bswap_i32=Module["_llvm_bswap_i32"]=function(){return Module["asm"]["_llvm_bswap_i32"].apply(null,arguments)};var _malloc=Module["_malloc"]=function(){return Module["asm"]["_malloc"].apply(null,arguments)};var _memcpy=Module["_memcpy"]=function(){return Module["asm"]["_memcpy"].apply(null,arguments)};var _memmove=Module["_memmove"]=function(){return Module["asm"]["_memmove"].apply(null,arguments)};var _memset=Module["_memset"]=function(){return Module["asm"]["_memset"].apply(null,arguments)};var _ntohs=Module["_ntohs"]=function(){return Module["asm"]["_ntohs"].apply(null,arguments)};var _pthread_cond_broadcast=Module["_pthread_cond_broadcast"]=function(){return Module["asm"]["_pthread_cond_broadcast"].apply(null,arguments)};var _pthread_mutex_lock=Module["_pthread_mutex_lock"]=function(){return Module["asm"]["_pthread_mutex_lock"].apply(null,arguments)};var _pthread_mutex_trylock=Module["_pthread_mutex_trylock"]=function(){return Module["asm"]["_pthread_mutex_trylock"].apply(null,arguments)};var _pthread_mutex_unlock=Module["_pthread_mutex_unlock"]=function(){return Module["asm"]["_pthread_mutex_unlock"].apply(null,arguments)};var _realloc=Module["_realloc"]=function(){return Module["asm"]["_realloc"].apply(null,arguments)};var _saveSetjmp=Module["_saveSetjmp"]=function(){return Module["asm"]["_saveSetjmp"].apply(null,arguments)};var _sbrk=Module["_sbrk"]=function(){return Module["asm"]["_sbrk"].apply(null,arguments)};var _testSetjmp=Module["_testSetjmp"]=function(){return Module["asm"]["_testSetjmp"].apply(null,arguments)};var establishStackSpace=Module["establishStackSpace"]=function(){return Module["asm"]["establishStackSpace"].apply(null,arguments)};var getTempRet0=Module["getTempRet0"]=function(){return Module["asm"]["getTempRet0"].apply(null,arguments)};var runPostSets=Module["runPostSets"]=function(){return Module["asm"]["runPostSets"].apply(null,arguments)};var setTempRet0=Module["setTempRet0"]=function(){return Module["asm"]["setTempRet0"].apply(null,arguments)};var setThrew=Module["setThrew"]=function(){return Module["asm"]["setThrew"].apply(null,arguments)};var stackAlloc=Module["stackAlloc"]=function(){return Module["asm"]["stackAlloc"].apply(null,arguments)};var stackRestore=Module["stackRestore"]=function(){return Module["asm"]["stackRestore"].apply(null,arguments)};var stackSave=Module["stackSave"]=function(){return Module["asm"]["stackSave"].apply(null,arguments)};var dynCall_dd=Module["dynCall_dd"]=function(){return Module["asm"]["dynCall_dd"].apply(null,arguments)};var dynCall_i=Module["dynCall_i"]=function(){return Module["asm"]["dynCall_i"].apply(null,arguments)};var dynCall_ii=Module["dynCall_ii"]=function(){return Module["asm"]["dynCall_ii"].apply(null,arguments)};var dynCall_iif=Module["dynCall_iif"]=function(){return Module["asm"]["dynCall_iif"].apply(null,arguments)};var dynCall_iiffi=Module["dynCall_iiffi"]=function(){return Module["asm"]["dynCall_iiffi"].apply(null,arguments)};var dynCall_iii=Module["dynCall_iii"]=function(){return Module["asm"]["dynCall_iii"].apply(null,arguments)};var dynCall_iiif=Module["dynCall_iiif"]=function(){return Module["asm"]["dynCall_iiif"].apply(null,arguments)};var dynCall_iiiffi=Module["dynCall_iiiffi"]=function(){return Module["asm"]["dynCall_iiiffi"].apply(null,arguments)};var dynCall_iiifii=Module["dynCall_iiifii"]=function(){return Module["asm"]["dynCall_iiifii"].apply(null,arguments)};var dynCall_iiii=Module["dynCall_iiii"]=function(){return Module["asm"]["dynCall_iiii"].apply(null,arguments)};var dynCall_iiiid=Module["dynCall_iiiid"]=function(){return Module["asm"]["dynCall_iiiid"].apply(null,arguments)};var dynCall_iiiif=Module["dynCall_iiiif"]=function(){return Module["asm"]["dynCall_iiiif"].apply(null,arguments)};var dynCall_iiiifi=Module["dynCall_iiiifi"]=function(){return Module["asm"]["dynCall_iiiifi"].apply(null,arguments)};var dynCall_iiiifii=Module["dynCall_iiiifii"]=function(){return Module["asm"]["dynCall_iiiifii"].apply(null,arguments)};var dynCall_iiiii=Module["dynCall_iiiii"]=function(){return Module["asm"]["dynCall_iiiii"].apply(null,arguments)};var dynCall_iiiiid=Module["dynCall_iiiiid"]=function(){return Module["asm"]["dynCall_iiiiid"].apply(null,arguments)};var dynCall_iiiiiffff=Module["dynCall_iiiiiffff"]=function(){return Module["asm"]["dynCall_iiiiiffff"].apply(null,arguments)};var dynCall_iiiiifi=Module["dynCall_iiiiifi"]=function(){return Module["asm"]["dynCall_iiiiifi"].apply(null,arguments)};var dynCall_iiiiifiii=Module["dynCall_iiiiifiii"]=function(){return Module["asm"]["dynCall_iiiiifiii"].apply(null,arguments)};var dynCall_iiiiii=Module["dynCall_iiiiii"]=function(){return Module["asm"]["dynCall_iiiiii"].apply(null,arguments)};var dynCall_iiiiiid=Module["dynCall_iiiiiid"]=function(){return Module["asm"]["dynCall_iiiiiid"].apply(null,arguments)};var dynCall_iiiiiii=Module["dynCall_iiiiiii"]=function(){return Module["asm"]["dynCall_iiiiiii"].apply(null,arguments)};var dynCall_iiiiiiiffff=Module["dynCall_iiiiiiiffff"]=function(){return Module["asm"]["dynCall_iiiiiiiffff"].apply(null,arguments)};var dynCall_iiiiiiii=Module["dynCall_iiiiiiii"]=function(){return Module["asm"]["dynCall_iiiiiiii"].apply(null,arguments)};var dynCall_iiiiiiiii=Module["dynCall_iiiiiiiii"]=function(){return Module["asm"]["dynCall_iiiiiiiii"].apply(null,arguments)};var dynCall_iiiiiiiiii=Module["dynCall_iiiiiiiiii"]=function(){return Module["asm"]["dynCall_iiiiiiiiii"].apply(null,arguments)};var dynCall_iiiiiiiiiii=Module["dynCall_iiiiiiiiiii"]=function(){return Module["asm"]["dynCall_iiiiiiiiiii"].apply(null,arguments)};var dynCall_iiiiiiiiiiii=Module["dynCall_iiiiiiiiiiii"]=function(){return Module["asm"]["dynCall_iiiiiiiiiiii"].apply(null,arguments)};var dynCall_iiiiiiiiiiiii=Module["dynCall_iiiiiiiiiiiii"]=function(){return Module["asm"]["dynCall_iiiiiiiiiiiii"].apply(null,arguments)};var dynCall_iiiiiiiiiiiiii=Module["dynCall_iiiiiiiiiiiiii"]=function(){return Module["asm"]["dynCall_iiiiiiiiiiiiii"].apply(null,arguments)};var dynCall_iiiiiiiiiiiiiiii=Module["dynCall_iiiiiiiiiiiiiiii"]=function(){return Module["asm"]["dynCall_iiiiiiiiiiiiiiii"].apply(null,arguments)};var dynCall_iiiiiiiiiiiiiiiii=Module["dynCall_iiiiiiiiiiiiiiiii"]=function(){return Module["asm"]["dynCall_iiiiiiiiiiiiiiiii"].apply(null,arguments)};var dynCall_iiiiiiiiiij=Module["dynCall_iiiiiiiiiij"]=function(){return Module["asm"]["dynCall_iiiiiiiiiij"].apply(null,arguments)};var dynCall_iiiiiiiiij=Module["dynCall_iiiiiiiiij"]=function(){return Module["asm"]["dynCall_iiiiiiiiij"].apply(null,arguments)};var dynCall_iiiiiijiji=Module["dynCall_iiiiiijiji"]=function(){return Module["asm"]["dynCall_iiiiiijiji"].apply(null,arguments)};var dynCall_iiiiij=Module["dynCall_iiiiij"]=function(){return Module["asm"]["dynCall_iiiiij"].apply(null,arguments)};var dynCall_iiiiijiji=Module["dynCall_iiiiijiji"]=function(){return Module["asm"]["dynCall_iiiiijiji"].apply(null,arguments)};var dynCall_iiij=Module["dynCall_iiij"]=function(){return Module["asm"]["dynCall_iiij"].apply(null,arguments)};var dynCall_iij=Module["dynCall_iij"]=function(){return Module["asm"]["dynCall_iij"].apply(null,arguments)};var dynCall_iijiiiiiiiiiii=Module["dynCall_iijiiiiiiiiiii"]=function(){return Module["asm"]["dynCall_iijiiiiiiiiiii"].apply(null,arguments)};var dynCall_ji=Module["dynCall_ji"]=function(){return Module["asm"]["dynCall_ji"].apply(null,arguments)};var dynCall_v=Module["dynCall_v"]=function(){return Module["asm"]["dynCall_v"].apply(null,arguments)};var dynCall_vi=Module["dynCall_vi"]=function(){return Module["asm"]["dynCall_vi"].apply(null,arguments)};var dynCall_vidi=Module["dynCall_vidi"]=function(){return Module["asm"]["dynCall_vidi"].apply(null,arguments)};var dynCall_vii=Module["dynCall_vii"]=function(){return Module["asm"]["dynCall_vii"].apply(null,arguments)};var dynCall_viii=Module["dynCall_viii"]=function(){return Module["asm"]["dynCall_viii"].apply(null,arguments)};var dynCall_viiii=Module["dynCall_viiii"]=function(){return Module["asm"]["dynCall_viiii"].apply(null,arguments)};var dynCall_viiiii=Module["dynCall_viiiii"]=function(){return Module["asm"]["dynCall_viiiii"].apply(null,arguments)};var dynCall_viiiiii=Module["dynCall_viiiiii"]=function(){return Module["asm"]["dynCall_viiiiii"].apply(null,arguments)};var dynCall_viiiiiii=Module["dynCall_viiiiiii"]=function(){return Module["asm"]["dynCall_viiiiiii"].apply(null,arguments)};var dynCall_viiiiiiii=Module["dynCall_viiiiiiii"]=function(){return Module["asm"]["dynCall_viiiiiiii"].apply(null,arguments)};var dynCall_viiiiiiiii=Module["dynCall_viiiiiiiii"]=function(){return Module["asm"]["dynCall_viiiiiiiii"].apply(null,arguments)};var dynCall_viiiiiiiiii=Module["dynCall_viiiiiiiiii"]=function(){return Module["asm"]["dynCall_viiiiiiiiii"].apply(null,arguments)};var dynCall_viiiiiiiiiii=Module["dynCall_viiiiiiiiiii"]=function(){return Module["asm"]["dynCall_viiiiiiiiiii"].apply(null,arguments)};var dynCall_viiiiiiiiiiii=Module["dynCall_viiiiiiiiiiii"]=function(){return Module["asm"]["dynCall_viiiiiiiiiiii"].apply(null,arguments)};var dynCall_viiiiiiiiiiiiii=Module["dynCall_viiiiiiiiiiiiii"]=function(){return Module["asm"]["dynCall_viiiiiiiiiiiiii"].apply(null,arguments)};var dynCall_viiiiiiiiiiiiiiiiiiiii=Module["dynCall_viiiiiiiiiiiiiiiiiiiii"]=function(){return Module["asm"]["dynCall_viiiiiiiiiiiiiiiiiiiii"].apply(null,arguments)};var dynCall_viijii=Module["dynCall_viijii"]=function(){return Module["asm"]["dynCall_viijii"].apply(null,arguments)};var dynCall_viji=Module["dynCall_viji"]=function(){return Module["asm"]["dynCall_viji"].apply(null,arguments)};Module["asm"]=asm;Module["cwrap"]=cwrap;function ExitStatus(e){this.name="ExitStatus";this.message="Program terminated with exit("+e+")";this.status=e}ExitStatus.prototype=new Error;ExitStatus.prototype.constructor=ExitStatus;var initialStackTop;dependenciesFulfilled=function e(){if(!Module["calledRun"])run();if(!Module["calledRun"])dependenciesFulfilled=e};function run(e){e=e||Module["arguments"];if(runDependencies>0){return}preRun();if(runDependencies>0)return;if(Module["calledRun"])return;function i(){if(Module["calledRun"])return;Module["calledRun"]=true;if(ABORT)return;ensureInitRuntime();preMain();if(Module["onRuntimeInitialized"])Module["onRuntimeInitialized"]();postRun()}if(Module["setStatus"]){Module["setStatus"]("Running...");setTimeout(function(){setTimeout(function(){Module["setStatus"]("")},1);i()},1)}else{i()}}Module["run"]=run;function exit(e,i){if(i&&Module["noExitRuntime"]&&e===0){return}if(Module["noExitRuntime"]){}else{ABORT=true;EXITSTATUS=e;STACKTOP=initialStackTop;exitRuntime();if(Module["onExit"])Module["onExit"](e)}Module["quit"](e,new ExitStatus(e))}function abort(e){if(Module["onAbort"]){Module["onAbort"](e)}if(e!==undefined){out(e);err(e);e=JSON.stringify(e)}else{e=""}ABORT=true;EXITSTATUS=1;throw"abort("+e+"). Build with -s ASSERTIONS=1 for more info."}Module["abort"]=abort;if(Module["preInit"]){if(typeof Module["preInit"]=="function")Module["preInit"]=[Module["preInit"]];while(Module["preInit"].length>0){Module["preInit"].pop()()}}Module["noExitRuntime"]=true;run();function JsMediaSDK_Log(e){console.log(e)}function JsSocket_Log(e){console.log(e)}function Queue(){this.a=[];this.b=0;this.residue=null}Queue.prototype.getLength=function(){return this.a.length-this.b};Queue.prototype.isEmpty=function(){return 0==this.a.length};Queue.prototype.enqueue=function(e){this.a.push(e)};Queue.prototype.dequeue=function(){if(0!=this.a.length){var e=this.a[this.b];2*++this.b>=this.a.length&&(this.a=this.a.slice(this.b),this.b=0);return e}return null};Queue.prototype.peek=function(){return 0<this.a.length?this.a[this.b]:void 0};var video_buffer=new Queue;var video_init=Module.cwrap("_Video_Init","number",["number"]);var video_uninit=Module.cwrap("_Video_UnInit","number",["number"]);var video_decode=Module.cwrap("_Video_Decode","number",["number","array","number"]);var video_encode=Module.cwrap("_Video_Encode","number",["number","array","number"]);var video_analysis=Module.cwrap("_Video_Try_Analysis","number",["number","array","number"]);var video_set_websocket_speed=Module.cwrap("_Video_Websocket_Speed","number",["number","number"]);var video_start_encode=Module.cwrap("_Video_Start_Encode","number",["number","number","number","number"]);var video_stop_encode=Module.cwrap("_Video_Stop_Encode","number",["number"]);var video_update_format=Module.cwrap("_Video_Update_Format","number",["number","number","number","number"]);var video_get_sending_status=Module.cwrap("_Video_Get_Sending_Status","number",["number"]);var video_get_encode_codec_info=Module.cwrap("_Video_Get_Encode_Codec_Info","number",["number"]);var video_get_decode_codec_info=Module.cwrap("_Video_Get_Decode_Codec_Info","number",["number"]);var video_set_data_encryption=Module.cwrap("_Video_Set_Data_Encryption","number",["number","number"]);var video_handle=null;var videoWebsocketList=[];var video_websocket=null;var video_websocket2=null;var video_websocket_index=1;var ip_address=null;var video_websocket_Debug=null;var logon=false;var peroid_start_time=null;var peroid_total_amount=0;var peroid_speed=0;var last_peroid_speed=0;var video_capture_interval=0;var video_encrypt=false;var isChromeOrEdge=false;var pdu=null;var monitor_video_last_time=0;var monitor_video_first=true;var monitor_video_elapsed_compute_time=0;var monitor_video_elapsed_write_time=0;var monitor_video_count=0;var monitor_video_fps=0;var monitor_video_avg_fps=0;var monitor_video_min_fps=0;var monitor_video_max_fps=0;var monitor_video_width=0;var monitor_video_height=0;var monitor_video_encoded_width=0;var monitor_video_encoded_height=0;var monitor_video_max_sub_for_me=0;var monitor_video_encoded_total_frames=0;var monitor_video_encoded_delta_frames=0;var monitor_video_encoded_min_fps=0;var monitor_video_encoded_max_fps=0;var monitor_video_encoded_avg_fps=0;var monitor_video_encoded_fps=0;var monitor_video_send_buffer=0;var monitor_video_max_size=2;var monitor_video_max_decoding_time=0;var monitor_video_min_decoding_time=0;var monitor_video_avg_decoding_time=0;var monitor_video_sdev_decoding_time=0;var monitor_video_max_encode_time=0;var monitor_video_min_encode_time=0;var monitor_video_avg_encode_time=0;var monitor_video_sdev_encode_time=0;function Channel_Agent(){this.socket=null;this.onopen=null;this.onmessage=null;this.onerror=null;this.onclose=null;this.websocketaddress=null;this.startwebsocketreconnecttime=null;this.reconnect=null;this.seconds=1;this.activeclosewebsocket=false;this.init=function(e,i,t,n,r){this.websocketaddress=e;this.onopen=i;this.onmessage=t;this.onerror=n;this.onclose=r};this.connect=function(e,i,t,n,r){var o=this;add_monitor("SB");o.init(e,i,t,n,r);o.socket=new WebSocket(o.websocketaddress);o.socket.binaryType="arraybuffer";o.reconnect=function(){o.startwebsocketreconnecttime=null;o.socket=new WebSocket(this.websocketaddress);o.socket.binaryType="arraybuffer";o.socket.onopen=function(e){o.startwebsocketreconnecttime=(new Date).getTime()/1e3;o.onopen(e)};o.socket.onmessage=function(e){o.onmessage(e)};o.socket.onerror=function(e){JsSocket_Log("in function onerror");if(false&&o.startwebsocketreconnecttime===null){JsSocket_Log("In Reconnect Context, Reconnect is unnecessary")}else if(o.seconds<1024){JsSocket_Log(">>>30s");o.seconds=2*o.seconds;setTimeout(function(){o.reconnect()},o.seconds*1e3)}else{postMessage({status:Video_Dec_WebSocket_FAILED});JsSocket_Log("NetWork is Bad, Don't to reconnect the serer!")}};o.socket.onclose=function(e){JsSocket_Log("in function onclose: "+o.startwebsocketreconnecttime);if(false&&o.startwebsocketreconnecttime===null){JsSocket_Log("In Reconnect Context, Reconnect is unnecessary")}else if(o.seconds<1024){JsSocket_Log(">>>30s");o.seconds=2*o.seconds;setTimeout(function(){o.reconnect()},o.seconds*1e3)}else{postMessage({status:Video_Dec_WebSocket_FAILED});JsSocket_Log("NetWork is Bad, Don't to reconnect the serer!")}}};o.socket.onopen=function(e){let i=(new Date).getTime();add_monitor("SE");o.startwebsocketreconnecttime=i/1e3;o.onopen(e)};o.socket.onmessage=function(e){o.onmessage(e)};o.socket.onerror=function(e){JsSocket_Log("in function onerror");if(o.activeclosewebsocket)return;if(false&&o.startwebsocketreconnecttime===null){JsSocket_Log("Not in Reconnect Context, Reconnect is unnecessary");postMessage({status:Video_Dec_WebSocket_FAILED})}else if(o.seconds<1024){JsSocket_Log(">>>30s");o.seconds=2*o.seconds;setTimeout(function(){o.reconnect()},o.seconds*1e3)}else{postMessage({status:Video_Dec_WebSocket_FAILED});JsSocket_Log("NetWork is Bad, Don't to reconnect the serer!")}};this.socket.onclose=function(e){JsSocket_Log("in function onclose:"+o.startwebsocketreconnecttime);if(o.activeclosewebsocket)return;if(false&&o.startwebsocketreconnecttime===null){JsSocket_Log("Not in Reconnect Context, Reconnect is unnecessary");postMessage({status:Video_Dec_WebSocket_FAILED})}else if(o.seconds<1024){JsSocket_Log(">>>30s");o.seconds=2*o.seconds;setTimeout(function(){o.reconnect()},o.seconds*1e3)}else{postMessage({status:Video_Dec_WebSocket_FAILED});JsSocket_Log("NetWork is Bad, Don't to reconnect the serer!")}}};this.send=function(e){var i;if(!peroid_start_time){peroid_total_amount=0;peroid_start_time=(new Date).getTime()/1e3;video_set_websocket_speed(video_handle,8e5)}else{var t=(new Date).getTime()/1e3;i=t-peroid_start_time;if(i>10){var n=peroid_total_amount-this.socket.bufferedAmount;if(this.socket.bufferedAmount==0){if(last_peroid_speed){last_peroid_speed=.8*last_peroid_speed+.2*8e5}else{last_peroid_speed=8e5}video_set_websocket_speed(video_handle,last_peroid_speed)}else{monitor_video_send_buffer=n;peroid_speed=n*8/(i*1);if(!last_peroid_speed){last_peroid_speed=8e5}else{last_peroid_speed=.8*last_peroid_speed+.2*peroid_speed}video_set_websocket_speed(video_handle,last_peroid_speed)}peroid_total_amount=peroid_total_amount-n;peroid_start_time=t}}peroid_total_amount+=e.length;this.socket.send(e)};this.close=function(){this.activeclosewebsocket=true;this.socket.close()}}function Channel_Agent_Debug(){this.socket=null;this.onopen=null;this.onmessage=null;this.onerror=null;this.onclose=null;this.websocketaddress=null;this.startwebsocketreconnecttime=null;this.reconnect=null;this.activeclosewebsocket=false;this.times=1;this.init=function(e,i,t,n,r){this.websocketaddress=e;this.onopen=i;this.onmessage=t;this.onerror=n;this.onclose=r};this.connect=function(e,i,t,n,r){var o=this;o.init(e,i,t,n,r);o.socket=new WebSocket(o.websocketaddress);o.socket.binaryType="arraybuffer";o.reconnect=function(){o.startwebsocketreconnecttime=null;o.socket=new WebSocket(this.websocketaddress);o.socket.binaryType="arraybuffer";o.socket.onopen=function(e){o.startwebsocketreconnecttime=(new Date).getTime()/1e3;o.onopen(e)};o.socket.onmessage=function(e){o.onmessage(e)};o.socket.onerror=function(e){JsSocket_Log("in function onerror");if(o.startwebsocketreconnecttime===null){JsSocket_Log("In Reconnect Context, Reconnect is unnecessary")}else if((new Date).getTime()/1e3-o.startwebsocketreconnecttime>30){JsSocket_Log(">>>30s");setTimeout(function(){o.reconnect()},1e4)}else{JsSocket_Log("NetWork is Bad, Don't to reconnect the serer!")}};o.socket.onclose=function(e){JsSocket_Log("in function onclose:"+o.startwebsocketreconnecttime);if(o.startwebsocketreconnecttime===null){JsSocket_Log("In Reconnect Context, Reconnect is unnecessary")}else if((new Date).getTime()/1e3-o.startwebsocketreconnecttime>30){JsSocket_Log(">>>30s");o.times=2*o.times;setTimeout(function(){o.reconnect()},o.times*1e3)}else{JsSocket_Log("NetWork is Bad, Don't to reconnect the serer!")}}};o.socket.onopen=function(e){o.startwebsocketreconnecttime=(new Date).getTime()/1e3;o.onopen(e)};o.socket.onmessage=function(e){o.onmessage(e)};o.socket.onerror=function(e){JsSocket_Log("in function onerror");if(o.activeclosewebsocket)return;if(o.startwebsocketreconnecttime===null){JsSocket_Log("Not in Reconnect Context, Reconnect is unnecessary")}else if((new Date).getTime()/1e3-o.startwebsocketreconnecttime>30){JsSocket_Log(">>>30s");setTimeout(function(){o.reconnect()},1e4)}else{JsSocket_Log("NetWork is Bad, Don't to reconnect the serer!")}};this.socket.onclose=function(e){JsSocket_Log("in function onclose:"+o.startwebsocketreconnecttime);if(o.activeclosewebsocket)return;if(o.startwebsocketreconnecttime===null){JsSocket_Log("Not in Reconnect Context, Reconnect is unnecessary")}else if((new Date).getTime()/1e3-o.startwebsocketreconnecttime>30){JsSocket_Log(">>>30s");o.times=2*o.times;setTimeout(function(){o.reconnect()},o.times*1e3)}else{JsSocket_Log("NetWork is Bad, Don't to reconnect the serer!")}}};this.send=function(e){if(this.socket.readyState===1)this.socket.send(e)};this.close=function(){this.activeclosewebsocket=true;this.socket.close()}}function Open_Video_WebSocket_Connect_Debug(e,i,t,n,r){JsSocket_Log("Open_Video_WebSocket_Connect");var o=new Channel_Agent_Debug;o.connect(e,i,t,n,r);return o}function video_websocket_on_open_Debug(){JsMediaSDK_Log("video_websocket_on_open")}function Open_Video_WebSocket_Connect(e,i,t,n,r){JsSocket_Log("Open_Video_WebSocket_Connect");var o=new Channel_Agent;o.connect(e,i,t,n,r);return o}function video_websocket_on_open(){if(video_websocket&&video_websocket.socket.readyState===1){videoWebsocketList.push(video_websocket)}if(video_websocket2&&video_websocket2.socket.readyState===1){videoWebsocketList.push(video_websocket2)}JsMediaSDK_Log("video_websocket_on_open");postMessage({status:Video_Dec_WebSocket_OK})}function video_websocket_on_message(e){if(video_handle){var i=new Uint8Array(e.data);video_analysis(video_handle,i,i.length)}}function video_websocket1_on_message(e){if(video_handle){var i=new Uint8Array(e.data);if(i.length>=1&&i[0]==0){video_websocket.send(i)}else{if(i[0]==16){pdu=i}video_analysis(video_handle,i,i.length)}}}function video_websocket2_on_message(e){if(video_handle){var i=new Uint8Array(e.data);if(i.length>=1&&i[0]==0){video_websocket2.send(i)}else{video_analysis(video_handle,i,i.length)}}}function video_websocket_on_close(e){JsMediaSDK_Log("video_websocket_on_close")}function video_websocket_on_error(e){}function js_info_from_wcl(e,i,t){var n=new Uint8Array(t);var r=Module.HEAP8.subarray(i+0,i+t);n.set(r,0,t);if(videoWebsocketList.length>0){var o=videoWebsocketList[video_websocket_index++%videoWebsocketList.length];if(o&&o.socket.readyState===1)videoWebsocketList[video_websocket_index++%videoWebsocketList.length].send(n);video_websocket_index++}}function frame_callback(e,i,t,n,r,o,a,_,s,l,u,c){var d=new Uint8Array(i);var f=Module.HEAP8.subarray(e+0,e+i);d.set(f,0,i);var v=Module.HEAP8.subarray(t,t+8);var m=new Uint8Array(8);m.set(v,0,8);var p=0;for(let e=0;e<8;e++){p+=m[e]*Math.pow(256,e)}var E=n;var S=r;var h=o;postMessage({status:0,data:d,video_timestamp:p,video_ssrc:E,video_width:S,video_height:h,rendering_x:a,rendering_y:_,rendering_w:s,rendering_h:l,rotation:u,yuv_limited:c},[d.buffer]);monitor_video_width=S;monitor_video_height=h;monitor_video()}function monitor_video(){if(monitor_video_first){monitor_video_first=false;monitor_video_count++;monitor_video_last_time=(new Date).getTime()}else{monitor_video_count++;let e=(new Date).getTime();monitor_video_elapsed_compute_time+=e-monitor_video_last_time;monitor_video_elapsed_write_time+=e-monitor_video_last_time;monitor_video_last_time=e;if(monitor_video_elapsed_compute_time>1*1e3){if(video_handle){video_get_sending_status(video_handle)}monitor_video_fps=monitor_video_count/(monitor_video_elapsed_compute_time/1e3);monitor_video_count=0;monitor_video_encoded_fps=monitor_video_encoded_delta_frames/(monitor_video_elapsed_compute_time/1e3);monitor_video_encoded_delta_frames=0;if(monitor_video_max_fps<monitor_video_fps){monitor_video_max_fps=monitor_video_fps}if(monitor_video_encoded_max_fps<monitor_video_encoded_fps){monitor_video_encoded_max_fps=monitor_video_encoded_fps}if(monitor_video_min_fps>monitor_video_fps||monitor_video_min_fps==0){monitor_video_min_fps=monitor_video_fps}if(monitor_video_encoded_min_fps>monitor_video_encoded_fps||monitor_video_encoded_min_fps==0){monitor_video_encoded_min_fps=monitor_video_encoded_fps}if(monitor_video_avg_fps==0){monitor_video_avg_fps=monitor_video_fps}else{monitor_video_avg_fps=(monitor_video_avg_fps+monitor_video_fps)/2}if(monitor_video_encoded_avg_fps==0){monitor_video_encoded_avg_fps=monitor_video_encoded_fps}else{monitor_video_encoded_avg_fps=(monitor_video_encoded_avg_fps+monitor_video_encoded_fps)/2}if(monitor_video_elapsed_write_time>9*1e3){if(video_handle){video_get_encode_codec_info(video_handle);video_get_decode_codec_info(video_handle)}postMessage({status:MONITOR_MESSAGE,max_fps:Math.ceil(monitor_video_max_fps),min_fps:Math.ceil(monitor_video_min_fps),avg_fps:Math.ceil(monitor_video_avg_fps),video_width:Math.ceil(monitor_video_width),video_height:Math.ceil(monitor_video_height),video_send_buffer:Math.ceil(monitor_video_send_buffer),video_encoded_width:Math.ceil(monitor_video_encoded_width),video_encoded_heigth:Math.ceil(monitor_video_encoded_height),video_encoded_avg_fps:Math.ceil(monitor_video_encoded_avg_fps),video_encoded_max_fps:Math.ceil(monitor_video_encoded_max_fps),video_encoded_min_fps:Math.ceil(monitor_video_encoded_min_fps),video_total_encoded_frames:Math.ceil(monitor_video_encoded_total_frames),monitor_video_max_size:Math.ceil(monitor_video_max_size),monitor_video_max_sub_for_me:monitor_video_max_sub_for_me,monitor_video_max_decoding_time:monitor_video_max_decoding_time,monitor_video_min_decoding_time:monitor_video_min_decoding_time,monitor_video_avg_decoding_time:monitor_video_avg_decoding_time,monitor_video_max_encode_time:monitor_video_max_encode_time,monitor_video_min_encode_time:monitor_video_min_encode_time,monitor_video_avg_encode_time:monitor_video_avg_encode_time,monitor_video_sdev_encode_time:monitor_video_sdev_encode_time,monitor_video_sdev_decoding_time:monitor_video_sdev_decoding_time});monitor_video_elapsed_write_time=0;monitor_video_max_fps=0;monitor_video_min_fps=0;monitor_video_avg_fps=0;monitor_video_encoded_avg_fps=0;monitor_video_encoded_min_fps=0;monitor_video_encoded_max_fps=0}monitor_video_send_buffer=0;monitor_video_elapsed_compute_time=0}}}function decode_callback(e,i){monitor_video_max_size=i;postMessage({status:DECODE_MESSAGE,ssrc:e,size:i})}function send_data(e,i){var t=new Uint8Array(i);var n=Module.HEAP8.subarray(e+0,e+i);t.set(n,0,i);if(videoWebsocketList.length>0){var r=videoWebsocketList[video_websocket_index++%videoWebsocketList.length];if(r&&r.socket.readyState===1)videoWebsocketList[video_websocket_index++%videoWebsocketList.length].send(n);video_websocket_index++}}function APP_Troubleshoting_Info(e,i){var t=new Uint8Array(i);var n=Module.HEAP8.subarray(e+0,e+i);t.set(n,0,i);postMessage({status:APP_TROUBLESHOOTING_INFO,data:Utf8ArrayToStr(t)})}function Monitor_Callback(e,i,t,n){monitor_video_encoded_width=e;monitor_video_encoded_height=i;monitor_video_max_sub_for_me=n;if(monitor_video_encoded_total_frames==0){monitor_video_encoded_total_frames=t;monitor_video_encoded_delta_frames=0}else{monitor_video_encoded_delta_frames+=t-monitor_video_encoded_total_frames;monitor_video_encoded_total_frames=t}}function Monitor_CallbackE(e,i,t,n){monitor_video_max_encode_time=e;monitor_video_min_encode_time=i;monitor_video_avg_encode_time=t;monitor_video_sdev_encode_time=n}function Monitor_CallbackD(e,i,t,n){monitor_video_max_decoding_time=e;monitor_video_min_decoding_time=i;monitor_video_avg_decoding_time=t;monitor_video_sdev_decoding_time=n}function LOG_OUT(e,i){var t=new Uint8Array(i);var n=Module.HEAP8.subarray(e+0,e+i);t.set(n,0,i);if(video_websocket_Debug){video_websocket_Debug.send(t)}}function Utf8ArrayToStr(e){var i,t,n,r;var o,a;i="";n=e.length;t=0;while(t<n){r=e[t++];switch(r>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:i+=String.fromCharCode(r);break;case 12:case 13:o=e[t++];i+=String.fromCharCode((r&31)<<6|o&63);break;case 14:o=e[t++];a=e[t++];i+=String.fromCharCode((r&15)<<12|(o&63)<<6|(a&63)<<0);break}}return i}var start_handle_init=false;(function(e){console.log("ready to dec video!");e.addEventListener("message",function(e){var i=e.data;switch(i.command){case"startMedia":try{if(video_handle===null){video_handle=video_init(i.confId);start_handle_init=true;if(video_handle){postMessage({status:Video_Dec_Handle_OK});logon=i.logon;video_websocket=Open_Video_WebSocket_Connect(i.websocket_ip_address,video_websocket_on_open,video_websocket1_on_message,video_websocket_on_error,video_websocket_on_close);if(i.isChromeOrEdge){isChromeOrEdge=i.isChromeOrEdge}ip_address=i.websocket_ip_address;if(logon){if(i.sendvideo){var t=(new Date).getTime();var n=ip_address.slice(0,ip_address.length-42-7-10+4)+"?type=d&cid="+ip_address.slice(ip_address.length-36-7,ip_address.length-7)+"&filename=_"+t+"_video_log";video_websocket_Debug=Open_Video_WebSocket_Connect_Debug(n,video_websocket_on_open_Debug,video_websocket_on_message,video_websocket_on_error,video_websocket_on_close)}else{try{var r=(new Date).getTime();var o=ip_address.split("?");var a={};o[1].split("&").map(e=>{var i=e.split("=");return{k:i[0],v:i[1]}}).forEach(e=>{a[e.k]=e.v});var n=`${o[0]}?type=d&cid=${a.cid}&filename=__${r}_video_log`;video_websocket_Debug=Open_Video_WebSocket_Connect_Debug(n,video_websocket_on_open_Debug,video_websocket_on_message,video_websocket_on_error,video_websocket_on_close)}catch(e){}}}}else{postMessage({status:Video_Dec_Handle_FAILED})}}}catch(e){console.log(e)}break;case"EncodedVideoFrame":audio_websocket.send(i.data);break;case"failover":if(video_websocket&&video_websocket.socket.readyState===1){video_websocket.close()}if(video_websocket2&&video_websocket2.socket.readyState===1){video_websocket2.close()}video_websocket=Open_Video_WebSocket_Connect(i.websocket_ip_address,video_websocket_on_open,video_websocket_on_message,video_websocket_on_error,video_websocket_on_close);video_websocket2=Open_Video_WebSocket_Connect(i.websocket_ip_address,video_websocket_on_open,video_websocket_on_message,video_websocket_on_error,video_websocket_on_close);break;case"closeMedia":if(video_websocket&&video_websocket.socket.readyState===1){video_websocket.close()}if(video_websocket2&&video_websocket2.socket.readyState===1){video_websocket2.close()}if(video_handle){video_stop_encode(video_handle);video_uninit(video_handle)}close();break;case"encodeVideoFrame":{video_buffer.enqueue(i.data)}break;case"startVideoEncode":{if(video_handle){if(video_handle&&start_handle_init){start_handle_init=false;video_uninit(video_handle);video_handle=video_init(i.ssid);if(!video_handle){postMessage({status:Video_Dec_Handle_FAILED})}if(pdu){video_analysis(video_handle,pdu,pdu.length)}if(video_encrypt){video_set_data_encryption(video_handle,1)}else{video_set_data_encryption(video_handle,0)}monitor_video_width=i.width;monitor_video_height=i.height;video_start_encode(video_handle,i.width,i.height,i.fps);video_set_websocket_speed(video_handle,2e6)}video_capture_interval=setInterval(function(){while(video_buffer.getLength()>2){let e=video_buffer.dequeue();if(!isChromeOrEdge){postMessage({data:e},[e.buffer])}}var e=video_buffer.dequeue();if(e){monitor_video();video_encode(video_handle,e,e.length)}if(!isChromeOrEdge&&e){postMessage({status:Video_Capture_Tick,data:e},[e.buffer])}else{postMessage({status:Video_Capture_Tick})}},1e3/i.fps)}}break;case"updateVideoPara":{if(video_handle){video_update_format(video_handle,i.width,i.height,i.fps)}}break;case"stopVideoEncode":{clearInterval(video_capture_interval);video_buffer=new Queue}break;case"ENCRYPT":{if(video_handle){video_encrypt=i.encrypt;if(video_encrypt){video_set_data_encryption(video_handle,1)}else{video_set_data_encryption(video_handle,0)}}}break}})})(self);