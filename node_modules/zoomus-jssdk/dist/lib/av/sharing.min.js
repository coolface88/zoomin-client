FVERSION=442;WebAssembly.instantiateStreaming=false;const Audio_Dec_WASM_OK=1;const Audio_Dec_Handle_OK=2;const Audio_Dec_WebSocket_OK=3;const Audio_Enc_WASM_OK=4;const Audio_Enc_Handle_OK=5;const Video_Dec_WASM_OK=7;const Video_Dec_Handle_OK=8;const Video_Dec_WebSocket_OK=9;const Video_Enc_WASM_OK=10;const Video_Enc_Handle_OK=11;const Sharing_Dec_WASM_OK=12;const Sharing_Dec_PICTURE=13;const AUDIO_DELAY=14;const Sharing_Dec_WebSocket_OK=15;const Sharing_Handle_OK=16;const Sharing_Data=17;const Video_Capture_Tick=20;const MONITOR_MESSAGE=21;const DOWNLOAD_WASM_FROM_MAIN_THREAD=30;const APP_TROUBLESHOOTING_INFO=31;const DELTA_D=32;const DELTA_C=33;const DELTA_S=34;const WCL_TROUBLESHOOTING_INFO=35;const Audio_Dec_WASM_FAILED=-1;const Audio_Dec_Handle_FAILED=-2;const Audio_Dec_WebSocket_FAILED=-3;const Audio_Enc_WASM_FAILED=-4;const Audio_Enc_Handle_FAILED=-5;const Video_Dec_WASM_FAILED=-7;const Video_Dec_Handle_FAILED=-8;const Video_Dec_WebSocket_FAILED=-9;const Video_Enc_WASM_FAILED=-10;const Video_Enc_Handle_FAILED=-11;const Sharing_Dec_WASM_FAILED=-12;const Audio_Mute=-13;const Sharing_Handle_FAILED=-14;const Sharing_Dec_WebSocket_FAILED=-15;function add_monitor(e){postMessage({status:WCL_TROUBLESHOOTING_INFO,data:e})}function instantiateCachedURL(e,n,i){const t="wasm-video-cache";const r="wasm-video-cache";const o="video_wasm";function a(){return new Promise((n,i)=>{var o=indexedDB.open(t,e);o.onerror=i.bind(null,"Error opening wasm cache database");o.onsuccess=(()=>{n(o.result)});o.onupgradeneeded=(e=>{var n=o.result;if(n.objectStoreNames.contains(r)){console.log(`Clearing out version ${e.oldVersion} wasm cache`);n.deleteObjectStore(r)}console.log("Creating version ${event.newVersion} wasm cache");n.createObjectStore(r)})})}function _(e){return new Promise((i,t)=>{var a=e.transaction([r]).objectStore(r);var _=a.get(o);_.onerror=t.bind(null,`Error getting wasm module ${n}`);_.onsuccess=(e=>{if(_.result)i(_.result);else t(`Module ${n} was not found in wasm cache`)})})}function s(e,i){var t=e.transaction([r],"readwrite").objectStore(r);var a=t.put(i,o);a.onerror=(e=>{console.log(`Failed to store in wasm cache: ${e}`)});a.onsuccess=(e=>{console.log(`Successfully stored ${n} in wasm cache`)})}function l(e,n){return u(e)}function u(e){let n=this;return new Promise((i,t)=>{n.addEventListener("message",e=>{let n=e.data;if(n.command==="DOWNLOAD_WASM_FROM_MAIN_THREAD_OK"){add_monitor("DE");i(n.data)}if(n.command==="DOWNLOAD_WASM_FROM_MAIN_THREAD_FAILED"){t()}});add_monitor("DS");postMessage({status:DOWNLOAD_WASM_FROM_MAIN_THREAD,url:e})})}function c(e){return new Promise(function(n,t){try{if(indexedDB){var r=FVERSION;var o=typeof IDBTransaction.READ_WRITE=="undefined"?"readwrite":IDBTransaction.READ_WRITE;var a=indexedDB.open("VIDEO_FILE",r),_,s=function(e){var n="file";if(e.objectStoreNames.contains(n)){e.deleteObjectStore(n)}e.createObjectStore(n)};a.onerror=function(t){var r=indexedDB.deleteDatabase("VIDEO_FILE");r.onerror=function(e){console.log("Error deleting database")};r.onsuccess=function(e){console.log("Database deleted successfully")};n(l(e,i).then(e=>{add_monitor("CS");var n=WebAssembly.instantiate(e,i);add_monitor("CE");return n}))};a.onsuccess=function(t){_=t.target.result;var r=_.transaction(["file"],o).objectStore("file");var a=r.get("video");a.onsuccess=function(t){if(a.result){var r=t.target.result;add_monitor("CS");var s=WebAssembly.instantiate(r,i);add_monitor("CE");return n(s)}else{n(l(e,i).then(e=>{_.transaction(["file"],o).objectStore("file").put(e,"video");add_monitor("CS");var n=WebAssembly.instantiate(e,i);add_monitor("CE");return n}))}};a.onerror=function(t){n(l(e,i).then(e=>{add_monitor("CS");var n=WebAssembly.instantiate(e,i);add_monitor("CE");return n}))}};a.onupgradeneeded=function(e){s(e.target.result)}}else{n(l(e,i).then(e=>{add_monitor("CS");var n=WebAssembly.instantiate(e,i);add_monitor("CE");return n}))}}catch(t){n(l(e,i).then(e=>{add_monitor("CS");var n=WebAssembly.instantiate(e,i);add_monitor("CE");return n}))}})}function d(e){exports=e.exports;if(exports.memory)mergeMemory(exports.memory);Module["asm"]=exports;Module["usingWasm"]=true;removeRunDependency("wasm-instantiate")}return c(n).then(e=>{d(e.instance);Fetch_WASM_OK=true;postMessage({status:Sharing_Dec_WASM_OK});return}).catch(function(e){console.log(e);postMessage({status:Sharing_Dec_WASM_FAILED});return})}var Module=typeof Module!=="undefined"?Module:{};var moduleOverrides={};var key;for(key in Module){if(Module.hasOwnProperty(key)){moduleOverrides[key]=Module[key]}}Module["arguments"]=[];Module["thisProgram"]="./this.program";Module["quit"]=function(e,n){throw n};Module["preRun"]=[];Module["postRun"]=[];var ENVIRONMENT_IS_WEB=false;var ENVIRONMENT_IS_WORKER=false;var ENVIRONMENT_IS_NODE=false;var ENVIRONMENT_IS_SHELL=false;ENVIRONMENT_IS_WEB=typeof window==="object";ENVIRONMENT_IS_WORKER=typeof importScripts==="function";ENVIRONMENT_IS_NODE=typeof process==="object"&&typeof require==="function"&&!ENVIRONMENT_IS_WEB&&!ENVIRONMENT_IS_WORKER;ENVIRONMENT_IS_SHELL=!ENVIRONMENT_IS_WEB&&!ENVIRONMENT_IS_NODE&&!ENVIRONMENT_IS_WORKER;var scriptDirectory="";function locateFile(e){if(Module["locateFile"]){return Module["locateFile"](e,scriptDirectory)}else{return scriptDirectory+e}}if(ENVIRONMENT_IS_NODE){scriptDirectory=__dirname+"/";var nodeFS;var nodePath;Module["read"]=function e(n,i){var t;if(!nodeFS)nodeFS=require("fs");if(!nodePath)nodePath=require("path");n=nodePath["normalize"](n);t=nodeFS["readFileSync"](n);return i?t:t.toString()};Module["readBinary"]=function e(n){var i=Module["read"](n,true);if(!i.buffer){i=new Uint8Array(i)}assert(i.buffer);return i};if(process["argv"].length>1){Module["thisProgram"]=process["argv"][1].replace(/\\/g,"/")}Module["arguments"]=process["argv"].slice(2);if(typeof module!=="undefined"){module["exports"]=Module}process["on"]("uncaughtException",function(e){if(!(e instanceof ExitStatus)){throw e}});process["on"]("unhandledRejection",function(e,n){process["exit"](1)});Module["quit"]=function(e){process["exit"](e)};Module["inspect"]=function(){return"[Emscripten Module object]"}}else if(ENVIRONMENT_IS_SHELL){if(typeof read!="undefined"){Module["read"]=function e(n){return read(n)}}Module["readBinary"]=function e(n){var i;if(typeof readbuffer==="function"){return new Uint8Array(readbuffer(n))}i=read(n,"binary");assert(typeof i==="object");return i};if(typeof scriptArgs!="undefined"){Module["arguments"]=scriptArgs}else if(typeof arguments!="undefined"){Module["arguments"]=arguments}if(typeof quit==="function"){Module["quit"]=function(e){quit(e)}}}else if(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER){if(ENVIRONMENT_IS_WEB){var currentScript=document.currentScript;if(currentScript.src.indexOf("blob:")!==0){scriptDirectory=currentScript.src.split("/").slice(0,-1).join("/")+"/"}}else if(ENVIRONMENT_IS_WORKER){scriptDirectory=self.location.href.split("/").slice(0,-1).join("/")+"/"}Module["read"]=function e(n){var i=new XMLHttpRequest;i.open("GET",n,false);i.send(null);return i.responseText};if(ENVIRONMENT_IS_WORKER){Module["readBinary"]=function e(n){var i=new XMLHttpRequest;i.open("GET",n,false);i.responseType="arraybuffer";i.send(null);return new Uint8Array(i.response)}}Module["readAsync"]=function e(n,i,t){var r=new XMLHttpRequest;r.open("GET",n,true);r.responseType="arraybuffer";r.onload=function e(){if(r.status==200||r.status==0&&r.response){i(r.response);return}t()};r.onerror=t;r.send(null)};Module["setWindowTitle"]=function(e){document.title=e}}else{}var out=Module["print"]||(typeof console!=="undefined"?console.log.bind(console):typeof print!=="undefined"?print:null);var err=Module["printErr"]||(typeof printErr!=="undefined"?printErr:typeof console!=="undefined"&&console.warn.bind(console)||out);for(key in moduleOverrides){if(moduleOverrides.hasOwnProperty(key)){Module[key]=moduleOverrides[key]}}moduleOverrides=undefined;var STACK_ALIGN=16;function staticAlloc(e){var n=STATICTOP;STATICTOP=STATICTOP+e+15&-16;return n}function dynamicAlloc(e){var n=HEAP32[DYNAMICTOP_PTR>>2];var i=n+e+15&-16;HEAP32[DYNAMICTOP_PTR>>2]=i;if(i>=TOTAL_MEMORY){var t=enlargeMemory();if(!t){HEAP32[DYNAMICTOP_PTR>>2]=n;return 0}}return n}function alignMemory(e,n){if(!n)n=STACK_ALIGN;var i=e=Math.ceil(e/n)*n;return i}function getNativeTypeSize(e){switch(e){case"i1":case"i8":return 1;case"i16":return 2;case"i32":return 4;case"i64":return 8;case"float":return 4;case"double":return 8;default:{if(e[e.length-1]==="*"){return 4}else if(e[0]==="i"){var n=parseInt(e.substr(1));assert(n%8===0);return n/8}else{return 0}}}}function warnOnce(e){if(!warnOnce.shown)warnOnce.shown={};if(!warnOnce.shown[e]){warnOnce.shown[e]=1;err(e)}}var asm2wasmImports={"f64-rem":function(e,n){return e%n},debugger:function(){debugger}};var jsCallStartIndex=1;var functionPointers=new Array(0);var funcWrappers={};function dynCall(e,n,i){if(i&&i.length){return Module["dynCall_"+e].apply(null,[n].concat(i))}else{return Module["dynCall_"+e].call(null,n)}}var GLOBAL_BASE=1024;var ABORT=0;var EXITSTATUS=0;function assert(e,n){if(!e){abort("Assertion failed: "+n)}}function getCFunc(e){var n=Module["_"+e];assert(n,"Cannot call unknown function "+e+", make sure it is exported");return n}var JSfuncs={stackSave:function(){stackSave()},stackRestore:function(){stackRestore()},arrayToC:function(e){var n=stackAlloc(e.length);writeArrayToMemory(e,n);return n},stringToC:function(e){var n=0;if(e!==null&&e!==undefined&&e!==0){var i=(e.length<<2)+1;n=stackAlloc(i);stringToUTF8(e,n,i)}return n}};var toC={string:JSfuncs["stringToC"],array:JSfuncs["arrayToC"]};function ccall(e,n,i,t,r){function o(e){if(n==="string")return Pointer_stringify(e);if(n==="boolean")return Boolean(e);return e}var a=getCFunc(e);var _=[];var s=0;if(t){for(var l=0;l<t.length;l++){var u=toC[i[l]];if(u){if(s===0)s=stackSave();_[l]=u(t[l])}else{_[l]=t[l]}}}var c=a.apply(null,_);c=o(c);if(s!==0)stackRestore(s);return c}function cwrap(e,n,i,t){i=i||[];var r=i.every(function(e){return e==="number"});var o=n!=="string";if(o&&r&&!t){return getCFunc(e)}return function(){return ccall(e,n,i,arguments,t)}}function setValue(e,n,i,t){i=i||"i8";if(i.charAt(i.length-1)==="*")i="i32";switch(i){case"i1":HEAP8[e>>0]=n;break;case"i8":HEAP8[e>>0]=n;break;case"i16":HEAP16[e>>1]=n;break;case"i32":HEAP32[e>>2]=n;break;case"i64":tempI64=[n>>>0,(tempDouble=n,+Math_abs(tempDouble)>=1?tempDouble>0?(Math_min(+Math_floor(tempDouble/4294967296),4294967295)|0)>>>0:~~+Math_ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[e>>2]=tempI64[0],HEAP32[e+4>>2]=tempI64[1];break;case"float":HEAPF32[e>>2]=n;break;case"double":HEAPF64[e>>3]=n;break;default:abort("invalid type for setValue: "+i)}}var ALLOC_NORMAL=0;var ALLOC_STATIC=2;var ALLOC_NONE=4;function allocate(e,n,i,t){var r,o;if(typeof e==="number"){r=true;o=e}else{r=false;o=e.length}var a=typeof n==="string"?n:null;var _;if(i==ALLOC_NONE){_=t}else{_=[typeof _malloc==="function"?_malloc:staticAlloc,stackAlloc,staticAlloc,dynamicAlloc][i===undefined?ALLOC_STATIC:i](Math.max(o,a?1:n.length))}if(r){var s;t=_;assert((_&3)==0);s=_+(o&~3);for(;t<s;t+=4){HEAP32[t>>2]=0}s=_+o;while(t<s){HEAP8[t++>>0]=0}return _}if(a==="i8"){if(e.subarray||e.slice){HEAPU8.set(e,_)}else{HEAPU8.set(new Uint8Array(e),_)}return _}var l=0,u,c,d;while(l<o){var f=e[l];u=a||n[l];if(u===0){l++;continue}if(u=="i64")u="i32";setValue(_+l,f,u);if(d!==u){c=getNativeTypeSize(u);d=u}l+=c}return _}function getMemory(e){if(!staticSealed)return staticAlloc(e);if(!runtimeInitialized)return dynamicAlloc(e);return _malloc(e)}function Pointer_stringify(e,n){if(n===0||!e)return"";var i=0;var t;var r=0;while(1){t=HEAPU8[e+r>>0];i|=t;if(t==0&&!n)break;r++;if(n&&r==n)break}if(!n)n=r;var o="";if(i<128){var a=1024;var _;while(n>0){_=String.fromCharCode.apply(String,HEAPU8.subarray(e,e+Math.min(n,a)));o=o?o+_:_;e+=a;n-=a}return o}return UTF8ToString(e)}var UTF8Decoder=typeof TextDecoder!=="undefined"?new TextDecoder("utf8"):undefined;function UTF8ArrayToString(e,n){var i=n;while(e[i])++i;if(i-n>16&&e.subarray&&UTF8Decoder){return UTF8Decoder.decode(e.subarray(n,i))}else{var t,r,o,a,_,s;var l="";while(1){t=e[n++];if(!t)return l;if(!(t&128)){l+=String.fromCharCode(t);continue}r=e[n++]&63;if((t&224)==192){l+=String.fromCharCode((t&31)<<6|r);continue}o=e[n++]&63;if((t&240)==224){t=(t&15)<<12|r<<6|o}else{a=e[n++]&63;if((t&248)==240){t=(t&7)<<18|r<<12|o<<6|a}else{_=e[n++]&63;if((t&252)==248){t=(t&3)<<24|r<<18|o<<12|a<<6|_}else{s=e[n++]&63;t=(t&1)<<30|r<<24|o<<18|a<<12|_<<6|s}}}if(t<65536){l+=String.fromCharCode(t)}else{var u=t-65536;l+=String.fromCharCode(55296|u>>10,56320|u&1023)}}}}function UTF8ToString(e){return UTF8ArrayToString(HEAPU8,e)}function stringToUTF8Array(e,n,i,t){if(!(t>0))return 0;var r=i;var o=i+t-1;for(var a=0;a<e.length;++a){var _=e.charCodeAt(a);if(_>=55296&&_<=57343)_=65536+((_&1023)<<10)|e.charCodeAt(++a)&1023;if(_<=127){if(i>=o)break;n[i++]=_}else if(_<=2047){if(i+1>=o)break;n[i++]=192|_>>6;n[i++]=128|_&63}else if(_<=65535){if(i+2>=o)break;n[i++]=224|_>>12;n[i++]=128|_>>6&63;n[i++]=128|_&63}else if(_<=2097151){if(i+3>=o)break;n[i++]=240|_>>18;n[i++]=128|_>>12&63;n[i++]=128|_>>6&63;n[i++]=128|_&63}else if(_<=67108863){if(i+4>=o)break;n[i++]=248|_>>24;n[i++]=128|_>>18&63;n[i++]=128|_>>12&63;n[i++]=128|_>>6&63;n[i++]=128|_&63}else{if(i+5>=o)break;n[i++]=252|_>>30;n[i++]=128|_>>24&63;n[i++]=128|_>>18&63;n[i++]=128|_>>12&63;n[i++]=128|_>>6&63;n[i++]=128|_&63}}n[i]=0;return i-r}function stringToUTF8(e,n,i){return stringToUTF8Array(e,HEAPU8,n,i)}function lengthBytesUTF8(e){var n=0;for(var i=0;i<e.length;++i){var t=e.charCodeAt(i);if(t>=55296&&t<=57343)t=65536+((t&1023)<<10)|e.charCodeAt(++i)&1023;if(t<=127){++n}else if(t<=2047){n+=2}else if(t<=65535){n+=3}else if(t<=2097151){n+=4}else if(t<=67108863){n+=5}else{n+=6}}return n}var UTF16Decoder=typeof TextDecoder!=="undefined"?new TextDecoder("utf-16le"):undefined;function allocateUTF8(e){var n=lengthBytesUTF8(e)+1;var i=_malloc(n);if(i)stringToUTF8Array(e,HEAP8,i,n);return i}function demangle(e){var n=Module["___cxa_demangle"]||Module["__cxa_demangle"];assert(n);try{var i=e.substr(1);var t=lengthBytesUTF8(i)+1;var r=_malloc(t);stringToUTF8(i,r,t);var o=_malloc(4);var a=n(r,0,0,o);if(HEAP32[o>>2]===0&&a){return Pointer_stringify(a)}}catch(e){}finally{if(r)_free(r);if(o)_free(o);if(a)_free(a)}return e}function demangleAll(e){var n=/__Z[\w\d_]+/g;return e.replace(n,function(e){var n=demangle(e);return e===n?e:e+" ["+n+"]"})}function jsStackTrace(){var e=new Error;if(!e.stack){try{throw new Error(0)}catch(n){e=n}if(!e.stack){return"(no stack trace available)"}}return e.stack.toString()}function stackTrace(){var e=jsStackTrace();if(Module["extraStackTrace"])e+="\n"+Module["extraStackTrace"]();return demangleAll(e)}var PAGE_SIZE=16384;var WASM_PAGE_SIZE=65536;var ASMJS_PAGE_SIZE=16777216;var MIN_TOTAL_MEMORY=16777216;function alignUp(e,n){if(e%n>0){e+=n-e%n}return e}var buffer,HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAPF64;function updateGlobalBuffer(e){Module["buffer"]=buffer=e}function updateGlobalBufferViews(){Module["HEAP8"]=HEAP8=new Int8Array(buffer);Module["HEAP16"]=HEAP16=new Int16Array(buffer);Module["HEAP32"]=HEAP32=new Int32Array(buffer);Module["HEAPU8"]=HEAPU8=new Uint8Array(buffer);Module["HEAPU16"]=HEAPU16=new Uint16Array(buffer);Module["HEAPU32"]=HEAPU32=new Uint32Array(buffer);Module["HEAPF32"]=HEAPF32=new Float32Array(buffer);Module["HEAPF64"]=HEAPF64=new Float64Array(buffer)}var STATIC_BASE,STATICTOP,staticSealed;var STACK_BASE,STACKTOP,STACK_MAX;var DYNAMIC_BASE,DYNAMICTOP_PTR;STATIC_BASE=STATICTOP=STACK_BASE=STACKTOP=STACK_MAX=DYNAMIC_BASE=DYNAMICTOP_PTR=0;staticSealed=false;function abortOnCannotGrowMemory(){abort("Cannot enlarge memory arrays. Either (1) compile with  -s TOTAL_MEMORY=X  with X higher than the current value "+TOTAL_MEMORY+", (2) compile with  -s ALLOW_MEMORY_GROWTH=1  which allows increasing the size at runtime, or (3) if you want malloc to return NULL (0) instead of this abort, compile with  -s ABORTING_MALLOC=0 ")}if(!Module["reallocBuffer"])Module["reallocBuffer"]=function(e){var n;try{if(ArrayBuffer.transfer){n=ArrayBuffer.transfer(buffer,e)}else{var i=HEAP8;n=new ArrayBuffer(e);var t=new Int8Array(n);t.set(i)}}catch(e){return false}var r=_emscripten_replace_memory(n);if(!r)return false;return n};function enlargeMemory(){var e=Module["usingWasm"]?WASM_PAGE_SIZE:ASMJS_PAGE_SIZE;var n=2147483648-e;if(HEAP32[DYNAMICTOP_PTR>>2]>n){return false}var i=TOTAL_MEMORY;TOTAL_MEMORY=Math.max(TOTAL_MEMORY,MIN_TOTAL_MEMORY);while(TOTAL_MEMORY<HEAP32[DYNAMICTOP_PTR>>2]){if(TOTAL_MEMORY<=536870912){TOTAL_MEMORY=alignUp(2*TOTAL_MEMORY,e)}else{TOTAL_MEMORY=Math.min(alignUp((3*TOTAL_MEMORY+2147483648)/4,e),n)}}var t=Module["reallocBuffer"](TOTAL_MEMORY);if(!t||t.byteLength!=TOTAL_MEMORY){TOTAL_MEMORY=i;return false}updateGlobalBuffer(t);updateGlobalBufferViews();return true}var byteLength;try{byteLength=Function.prototype.call.bind(Object.getOwnPropertyDescriptor(ArrayBuffer.prototype,"byteLength").get);byteLength(new ArrayBuffer(4))}catch(e){byteLength=function(e){return e.byteLength}}var TOTAL_STACK=Module["TOTAL_STACK"]||5242880;var TOTAL_MEMORY=Module["TOTAL_MEMORY"]||16777216;if(TOTAL_MEMORY<TOTAL_STACK)err("TOTAL_MEMORY should be larger than TOTAL_STACK, was "+TOTAL_MEMORY+"! (TOTAL_STACK="+TOTAL_STACK+")");if(Module["buffer"]){buffer=Module["buffer"]}else{if(typeof WebAssembly==="object"&&typeof WebAssembly.Memory==="function"){Module["wasmMemory"]=new WebAssembly.Memory({initial:TOTAL_MEMORY/WASM_PAGE_SIZE});buffer=Module["wasmMemory"].buffer}else{buffer=new ArrayBuffer(TOTAL_MEMORY)}Module["buffer"]=buffer}updateGlobalBufferViews();function getTotalMemory(){return TOTAL_MEMORY}function callRuntimeCallbacks(e){while(e.length>0){var n=e.shift();if(typeof n=="function"){n();continue}var i=n.func;if(typeof i==="number"){if(n.arg===undefined){Module["dynCall_v"](i)}else{Module["dynCall_vi"](i,n.arg)}}else{i(n.arg===undefined?null:n.arg)}}}var __ATPRERUN__=[];var __ATINIT__=[];var __ATMAIN__=[];var __ATEXIT__=[];var __ATPOSTRUN__=[];var runtimeInitialized=false;var runtimeExited=false;function preRun(){if(Module["preRun"]){if(typeof Module["preRun"]=="function")Module["preRun"]=[Module["preRun"]];while(Module["preRun"].length){addOnPreRun(Module["preRun"].shift())}}callRuntimeCallbacks(__ATPRERUN__)}function ensureInitRuntime(){if(runtimeInitialized)return;runtimeInitialized=true;callRuntimeCallbacks(__ATINIT__)}function preMain(){callRuntimeCallbacks(__ATMAIN__)}function exitRuntime(){callRuntimeCallbacks(__ATEXIT__);runtimeExited=true}function postRun(){if(Module["postRun"]){if(typeof Module["postRun"]=="function")Module["postRun"]=[Module["postRun"]];while(Module["postRun"].length){addOnPostRun(Module["postRun"].shift())}}callRuntimeCallbacks(__ATPOSTRUN__)}function addOnPreRun(e){__ATPRERUN__.unshift(e)}function addOnPostRun(e){__ATPOSTRUN__.unshift(e)}function writeArrayToMemory(e,n){HEAP8.set(e,n)}function writeAsciiToMemory(e,n,i){for(var t=0;t<e.length;++t){HEAP8[n++>>0]=e.charCodeAt(t)}if(!i)HEAP8[n>>0]=0}var Math_abs=Math.abs;var Math_log=Math.log;var Math_sqrt=Math.sqrt;var Math_ceil=Math.ceil;var Math_floor=Math.floor;var Math_pow=Math.pow;var Math_min=Math.min;var runDependencies=0;var runDependencyWatcher=null;var dependenciesFulfilled=null;function getUniqueRunDependency(e){return e}function addRunDependency(e){runDependencies++;if(Module["monitorRunDependencies"]){Module["monitorRunDependencies"](runDependencies)}}function removeRunDependency(e){runDependencies--;if(Module["monitorRunDependencies"]){Module["monitorRunDependencies"](runDependencies)}if(runDependencies==0){if(runDependencyWatcher!==null){clearInterval(runDependencyWatcher);runDependencyWatcher=null}if(dependenciesFulfilled){var n=dependenciesFulfilled;dependenciesFulfilled=null;n()}}}Module["preloadedImages"]={};Module["preloadedAudios"]={};var dataURIPrefix="data:application/octet-stream;base64,";function isDataURI(e){return String.prototype.startsWith?e.startsWith(dataURIPrefix):e.indexOf(dataURIPrefix)===0}function integrateWasmJS(){var e="video.decode.wast";var n="video.decode.wasm";var i="video.decode.temp.asm.js";if(!isDataURI(e)){e=locateFile(e)}if(!isDataURI(n)){n=locateFile(n)}if(!isDataURI(i)){i=locateFile(i)}var t=64*1024;var r={global:null,env:null,asm2wasm:asm2wasmImports,parent:Module};var o=null;function a(e){var n=Module["buffer"];if(e.byteLength<n.byteLength){err("the new buffer in mergeMemory is smaller than the previous one. in native wasm, we should grow memory here")}var i=new Int8Array(n);var t=new Int8Array(e);t.set(i);updateGlobalBuffer(e);updateGlobalBufferViews()}function _(e){return e}function s(){try{if(Module["wasmBinary"]){return new Uint8Array(Module["wasmBinary"])}if(Module["readBinary"]){return Module["readBinary"](n)}else{throw"both async and sync fetching of the wasm failed"}}catch(e){abort(e)}}function l(){if(!Module["wasmBinary"]&&(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)&&typeof fetch==="function"){return fetch(n,{credentials:"same-origin"}).then(function(e){if(!e["ok"]){throw"failed to load wasm binary file at '"+n+"'"}return e["arrayBuffer"]()}).catch(function(){return s()})}return new Promise(function(e,n){e(s())})}function u(e,i,t){if(typeof WebAssembly!=="object"){err("no native wasm support detected");return false}if(!(Module["wasmMemory"]instanceof WebAssembly.Memory)){err("no native wasm Memory in use");return false}i["memory"]=Module["wasmMemory"];r["global"]={NaN:NaN,Infinity:Infinity};r["global.Math"]=Math;r["env"]=i;function _(e,n){o=e.exports;if(o.memory)a(o.memory);Module["asm"]=o;Module["usingWasm"]=true;removeRunDependency("wasm-instantiate")}addRunDependency("wasm-instantiate");if(Module["instantiateWasm"]){try{return Module["instantiateWasm"](r,_)}catch(e){err("Module.instantiateWasm callback failed with error: "+e);return false}}function s(e){_(e["instance"],e["module"])}function u(e){instantiateCachedURL(442,wasmUrl+"video.decode.wasm",r);return{};l().then(function(e){return WebAssembly.instantiate(e,r)}).then(e).catch(function(e){err("failed to asynchronously prepare wasm: "+e);abort(e)})}if(!Module["wasmBinary"]&&typeof WebAssembly.instantiateStreaming==="function"&&!isDataURI(n)&&typeof fetch==="function"){WebAssembly.instantiateStreaming(fetch(n,{credentials:"same-origin"}),r).then(s).catch(function(e){err("wasm streaming compile failed: "+e);err("falling back to ArrayBuffer instantiation");u(s)})}else{u(s)}return{}}Module["asmPreload"]=Module["asm"];var c=Module["reallocBuffer"];var d=function(e){var n=Module["usingWasm"]?WASM_PAGE_SIZE:ASMJS_PAGE_SIZE;e=alignUp(e,n);var i=Module["buffer"];var r=i.byteLength;if(Module["usingWasm"]){try{var o=Module["wasmMemory"].grow((e-r)/t);if(o!==(-1|0)){return Module["buffer"]=Module["wasmMemory"].buffer}else{return null}}catch(e){return null}}};Module["reallocBuffer"]=function(e){if(f==="asmjs"){return c(e)}else{return d(e)}};var f="";Module["asm"]=function(e,n,i){n=_(n);if(!n["table"]){var t=Module["wasmTableSize"];if(t===undefined)t=1024;var r=Module["wasmMaxTableSize"];if(typeof WebAssembly==="object"&&typeof WebAssembly.Table==="function"){if(r!==undefined){n["table"]=new WebAssembly.Table({initial:t,maximum:r,element:"anyfunc"})}else{n["table"]=new WebAssembly.Table({initial:t,element:"anyfunc"})}}else{n["table"]=new Array(t)}Module["wasmTable"]=n["table"]}if(!n["memoryBase"]){n["memoryBase"]=Module["STATIC_BASE"]}if(!n["tableBase"]){n["tableBase"]=0}var o;o=u(e,n,i);assert(o,"no binaryen method succeeded.");return o}}integrateWasmJS();var ASM_CONSTS=[function(e,n,i){js_info_from_wcl(e,n,i)},function(e,n,i,t,r,o,a,_,s,l,u,c){frame_callback(e,n,i,t,r,o,a,_,s,l,u,c)},function(e,n){decode_callback(e,n)},function(e,n,i){js_info_from_wcl(e,n,i)},function(e,n){APP_Troubleshoting_Info(e,n)},function(e,n){send_data(e,n)},function(e,n,i,t){Monitor_Callback(e,n,i,t)},function(e,n,i,t){Monitor_CallbackE(e,n,i,t)},function(e,n,i,t){Monitor_CallbackD(e,n,i,t)},function(e,n){Send_Data(e,n)},function(e,n,i,t){frame_callback(e,n,i,t)},function(e,n){Send_Data(e,n)},function(e){Update_WebSokcet_Speed(e)},function(e,n,i,t,r){Sharing_Encode_Sending_Status(e,n,i,t,r)},function(e,n,i,t){Sharing_Encode_Codec_Info(e,n,i,t)}];function _emscripten_asm_const_iiiii(e,n,i,t,r){return ASM_CONSTS[e](n,i,t,r)}function _emscripten_asm_const_iii(e,n,i){return ASM_CONSTS[e](n,i)}function _emscripten_asm_const_iiiiiiiiiiiii(e,n,i,t,r,o,a,_,s,l,u,c,d){return ASM_CONSTS[e](n,i,t,r,o,a,_,s,l,u,c,d)}function _emscripten_asm_const_iiii(e,n,i,t){return ASM_CONSTS[e](n,i,t)}function _emscripten_asm_const_iiiiii(e,n,i,t,r,o){return ASM_CONSTS[e](n,i,t,r,o)}function _emscripten_asm_const_ii(e,n){return ASM_CONSTS[e](n)}STATIC_BASE=GLOBAL_BASE;STATICTOP=STATIC_BASE+234016;__ATINIT__.push({func:function(){___cxx_global_var_init_2996()}},{func:function(){___emscripten_environ_constructor()}},{func:function(){__GLOBAL__sub_I_CptShare_cpp()}},{func:function(){__GLOBAL__sub_I_singleton_cpp()}},{func:function(){__GLOBAL__sub_I_auxi_cpp()}},{func:function(){___cxx_global_var_init_4()}},{func:function(){___cxx_global_var_init_3_3075()}},{func:function(){___cxx_global_var_init_3()}},{func:function(){___cxx_global_var_init_2_3063()}},{func:function(){___cxx_global_var_init_1_3062()}},{func:function(){___cxx_global_var_init_3061()}},{func:function(){___cxx_global_var_init_3032()}},{func:function(){___cxx_global_var_init_3027()}},{func:function(){___cxx_global_var_init_3019()}},{func:function(){__GLOBAL__sub_I_wcl_video_cpp()}},{func:function(){__GLOBAL__sub_I_text_stream_cpp()}},{func:function(){___cxx_global_var_init_12()}},{func:function(){__GLOBAL__sub_I_log_cpp()}},{func:function(){___cxx_global_var_init_48()}},{func:function(){___cxx_global_var_init_47()}},{func:function(){__GLOBAL__sub_I_zltperfmonitor_cpp()}},{func:function(){__GLOBAL__sub_I_rsfec_cpp()}},{func:function(){__GLOBAL__sub_I_ssb_media_security_officer_cpp()}},{func:function(){__GLOBAL__sub_I_ssb_media_video_stream_config_cpp()}},{func:function(){__GLOBAL__sub_I_ssb_media_wcl_as_controller_cpp()}},{func:function(){__GLOBAL__sub_I_ssb_media_wcl_video_controller_cpp()}},{func:function(){__GLOBAL__sub_I_wcl_sharing_cpp()}});var STATIC_BUMP=234016;Module["STATIC_BASE"]=STATIC_BASE;Module["STATIC_BUMP"]=STATIC_BUMP;var tempDoublePtr=STATICTOP;STATICTOP+=16;function __Z20destroy_capture_hostP8ICptHost(){err("missing function: _Z20destroy_capture_hostP8ICptHost");abort(-1)}function ___assert_fail(e,n,i,t){abort("Assertion failed: "+Pointer_stringify(e)+", at: "+[n?Pointer_stringify(n):"unknown filename",i,t?Pointer_stringify(t):"unknown function"])}var ENV={};function ___buildEnvironment(e){var n=64;var i=1024;var t;var r;if(!___buildEnvironment.called){___buildEnvironment.called=true;ENV["USER"]=ENV["LOGNAME"]="web_user";ENV["PATH"]="/";ENV["PWD"]="/";ENV["HOME"]="/home/web_user";ENV["LANG"]="C.UTF-8";ENV["_"]=Module["thisProgram"];t=getMemory(i);r=getMemory(n*4);HEAP32[r>>2]=t;HEAP32[e>>2]=r}else{r=HEAP32[e>>2];t=HEAP32[r>>2]}var o=[];var a=0;for(var _ in ENV){if(typeof ENV[_]==="string"){var s=_+"="+ENV[_];o.push(s);a+=s.length}}if(a>i){throw new Error("Environment size exceeded TOTAL_ENV_SIZE!")}var l=4;for(var u=0;u<o.length;u++){var s=o[u];writeAsciiToMemory(s,t);HEAP32[r+u*l>>2]=t;t+=s.length+1}HEAP32[r+o.length*l>>2]=0}function ___cxa_allocate_exception(e){return _malloc(e)}var EXCEPTIONS={last:0,caught:[],infos:{},deAdjust:function(e){if(!e||EXCEPTIONS.infos[e])return e;for(var n in EXCEPTIONS.infos){var i=+n;var t=EXCEPTIONS.infos[i];if(t.adjusted===e){return i}}return e},addRef:function(e){if(!e)return;var n=EXCEPTIONS.infos[e];n.refcount++},decRef:function(e){if(!e)return;var n=EXCEPTIONS.infos[e];assert(n.refcount>0);n.refcount--;if(n.refcount===0&&!n.rethrown){if(n.destructor){Module["dynCall_vi"](n.destructor,e)}delete EXCEPTIONS.infos[e];___cxa_free_exception(e)}},clearRef:function(e){if(!e)return;var n=EXCEPTIONS.infos[e];n.refcount=0}};function ___cxa_begin_catch(e){var n=EXCEPTIONS.infos[e];if(n&&!n.caught){n.caught=true;__ZSt18uncaught_exceptionv.uncaught_exception--}if(n)n.rethrown=false;EXCEPTIONS.caught.push(e);EXCEPTIONS.addRef(EXCEPTIONS.deAdjust(e));return e}function ___cxa_pure_virtual(){ABORT=true;throw"Pure virtual function called!"}function ___resumeException(e){if(!EXCEPTIONS.last){EXCEPTIONS.last=e}throw e+" - Exception catching is disabled, this exception cannot be caught. Compile with -s DISABLE_EXCEPTION_CATCHING=0 or DISABLE_EXCEPTION_CATCHING=2 to catch."}function ___cxa_find_matching_catch(){var e=EXCEPTIONS.last;if(!e){return(setTempRet0(0),0)|0}var n=EXCEPTIONS.infos[e];var i=n.type;if(!i){return(setTempRet0(0),e)|0}var t=Array.prototype.slice.call(arguments);var r=Module["___cxa_is_pointer_type"](i);if(!___cxa_find_matching_catch.buffer)___cxa_find_matching_catch.buffer=_malloc(4);HEAP32[___cxa_find_matching_catch.buffer>>2]=e;e=___cxa_find_matching_catch.buffer;for(var o=0;o<t.length;o++){if(t[o]&&Module["___cxa_can_catch"](t[o],i,e)){e=HEAP32[e>>2];n.adjusted=e;return(setTempRet0(t[o]),e)|0}}e=HEAP32[e>>2];return(setTempRet0(i),e)|0}function ___cxa_throw(e,n,i){EXCEPTIONS.infos[e]={ptr:e,adjusted:e,type:n,destructor:i,refcount:0,caught:false,rethrown:false};EXCEPTIONS.last=e;if(!("uncaught_exception"in __ZSt18uncaught_exceptionv)){__ZSt18uncaught_exceptionv.uncaught_exception=1}else{__ZSt18uncaught_exceptionv.uncaught_exception++}throw e+" - Exception catching is disabled, this exception cannot be caught. Compile with -s DISABLE_EXCEPTION_CATCHING=0 or DISABLE_EXCEPTION_CATCHING=2 to catch."}function ___cxa_uncaught_exception(){return!!__ZSt18uncaught_exceptionv.uncaught_exception}function ___gxx_personality_v0(){}function ___lock(){}var ERRNO_CODES={EPERM:1,ENOENT:2,ESRCH:3,EINTR:4,EIO:5,ENXIO:6,E2BIG:7,ENOEXEC:8,EBADF:9,ECHILD:10,EAGAIN:11,EWOULDBLOCK:11,ENOMEM:12,EACCES:13,EFAULT:14,ENOTBLK:15,EBUSY:16,EEXIST:17,EXDEV:18,ENODEV:19,ENOTDIR:20,EISDIR:21,EINVAL:22,ENFILE:23,EMFILE:24,ENOTTY:25,ETXTBSY:26,EFBIG:27,ENOSPC:28,ESPIPE:29,EROFS:30,EMLINK:31,EPIPE:32,EDOM:33,ERANGE:34,ENOMSG:42,EIDRM:43,ECHRNG:44,EL2NSYNC:45,EL3HLT:46,EL3RST:47,ELNRNG:48,EUNATCH:49,ENOCSI:50,EL2HLT:51,EDEADLK:35,ENOLCK:37,EBADE:52,EBADR:53,EXFULL:54,ENOANO:55,EBADRQC:56,EBADSLT:57,EDEADLOCK:35,EBFONT:59,ENOSTR:60,ENODATA:61,ETIME:62,ENOSR:63,ENONET:64,ENOPKG:65,EREMOTE:66,ENOLINK:67,EADV:68,ESRMNT:69,ECOMM:70,EPROTO:71,EMULTIHOP:72,EDOTDOT:73,EBADMSG:74,ENOTUNIQ:76,EBADFD:77,EREMCHG:78,ELIBACC:79,ELIBBAD:80,ELIBSCN:81,ELIBMAX:82,ELIBEXEC:83,ENOSYS:38,ENOTEMPTY:39,ENAMETOOLONG:36,ELOOP:40,EOPNOTSUPP:95,EPFNOSUPPORT:96,ECONNRESET:104,ENOBUFS:105,EAFNOSUPPORT:97,EPROTOTYPE:91,ENOTSOCK:88,ENOPROTOOPT:92,ESHUTDOWN:108,ECONNREFUSED:111,EADDRINUSE:98,ECONNABORTED:103,ENETUNREACH:101,ENETDOWN:100,ETIMEDOUT:110,EHOSTDOWN:112,EHOSTUNREACH:113,EINPROGRESS:115,EALREADY:114,EDESTADDRREQ:89,EMSGSIZE:90,EPROTONOSUPPORT:93,ESOCKTNOSUPPORT:94,EADDRNOTAVAIL:99,ENETRESET:102,EISCONN:106,ENOTCONN:107,ETOOMANYREFS:109,EUSERS:87,EDQUOT:122,ESTALE:116,ENOTSUP:95,ENOMEDIUM:123,EILSEQ:84,EOVERFLOW:75,ECANCELED:125,ENOTRECOVERABLE:131,EOWNERDEAD:130,ESTRPIPE:86};function ___setErrNo(e){if(Module["___errno_location"])HEAP32[Module["___errno_location"]()>>2]=e;return e}function ___map_file(e,n){___setErrNo(ERRNO_CODES.EPERM);return-1}var ERRNO_MESSAGES={0:"Success",1:"Not super-user",2:"No such file or directory",3:"No such process",4:"Interrupted system call",5:"I/O error",6:"No such device or address",7:"Arg list too long",8:"Exec format error",9:"Bad file number",10:"No children",11:"No more processes",12:"Not enough core",13:"Permission denied",14:"Bad address",15:"Block device required",16:"Mount device busy",17:"File exists",18:"Cross-device link",19:"No such device",20:"Not a directory",21:"Is a directory",22:"Invalid argument",23:"Too many open files in system",24:"Too many open files",25:"Not a typewriter",26:"Text file busy",27:"File too large",28:"No space left on device",29:"Illegal seek",30:"Read only file system",31:"Too many links",32:"Broken pipe",33:"Math arg out of domain of func",34:"Math result not representable",35:"File locking deadlock error",36:"File or path name too long",37:"No record locks available",38:"Function not implemented",39:"Directory not empty",40:"Too many symbolic links",42:"No message of desired type",43:"Identifier removed",44:"Channel number out of range",45:"Level 2 not synchronized",46:"Level 3 halted",47:"Level 3 reset",48:"Link number out of range",49:"Protocol driver not attached",50:"No CSI structure available",51:"Level 2 halted",52:"Invalid exchange",53:"Invalid request descriptor",54:"Exchange full",55:"No anode",56:"Invalid request code",57:"Invalid slot",59:"Bad font file fmt",60:"Device not a stream",61:"No data (for no delay io)",62:"Timer expired",63:"Out of streams resources",64:"Machine is not on the network",65:"Package not installed",66:"The object is remote",67:"The link has been severed",68:"Advertise error",69:"Srmount error",70:"Communication error on send",71:"Protocol error",72:"Multihop attempted",73:"Cross mount point (not really error)",74:"Trying to read unreadable message",75:"Value too large for defined data type",76:"Given log. name not unique",77:"f.d. invalid for this operation",78:"Remote address changed",79:"Can   access a needed shared lib",80:"Accessing a corrupted shared lib",81:".lib section in a.out corrupted",82:"Attempting to link in too many libs",83:"Attempting to exec a shared library",84:"Illegal byte sequence",86:"Streams pipe error",87:"Too many users",88:"Socket operation on non-socket",89:"Destination address required",90:"Message too long",91:"Protocol wrong type for socket",92:"Protocol not available",93:"Unknown protocol",94:"Socket type not supported",95:"Not supported",96:"Protocol family not supported",97:"Address family not supported by protocol family",98:"Address already in use",99:"Address not available",100:"Network interface is not configured",101:"Network is unreachable",102:"Connection reset by network",103:"Connection aborted",104:"Connection reset by peer",105:"No buffer space available",106:"Socket is already connected",107:"Socket is not connected",108:"Can't send after socket shutdown",109:"Too many references",110:"Connection timed out",111:"Connection refused",112:"Host is down",113:"Host is unreachable",114:"Socket already connected",115:"Connection already in progress",116:"Stale file handle",122:"Quota exceeded",123:"No medium (in tape drive)",125:"Operation canceled",130:"Previous owner died",131:"State not recoverable"};var PATH={splitPath:function(e){var n=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return n.exec(e).slice(1)},normalizeArray:function(e,n){var i=0;for(var t=e.length-1;t>=0;t--){var r=e[t];if(r==="."){e.splice(t,1)}else if(r===".."){e.splice(t,1);i++}else if(i){e.splice(t,1);i--}}if(n){for(;i;i--){e.unshift("..")}}return e},normalize:function(e){var n=e.charAt(0)==="/",i=e.substr(-1)==="/";e=PATH.normalizeArray(e.split("/").filter(function(e){return!!e}),!n).join("/");if(!e&&!n){e="."}if(e&&i){e+="/"}return(n?"/":"")+e},dirname:function(e){var n=PATH.splitPath(e),i=n[0],t=n[1];if(!i&&!t){return"."}if(t){t=t.substr(0,t.length-1)}return i+t},basename:function(e){if(e==="/")return"/";var n=e.lastIndexOf("/");if(n===-1)return e;return e.substr(n+1)},extname:function(e){return PATH.splitPath(e)[3]},join:function(){var e=Array.prototype.slice.call(arguments,0);return PATH.normalize(e.join("/"))},join2:function(e,n){return PATH.normalize(e+"/"+n)},resolve:function(){var e="",n=false;for(var i=arguments.length-1;i>=-1&&!n;i--){var t=i>=0?arguments[i]:FS.cwd();if(typeof t!=="string"){throw new TypeError("Arguments to path.resolve must be strings")}else if(!t){return""}e=t+"/"+e;n=t.charAt(0)==="/"}e=PATH.normalizeArray(e.split("/").filter(function(e){return!!e}),!n).join("/");return(n?"/":"")+e||"."},relative:function(e,n){e=PATH.resolve(e).substr(1);n=PATH.resolve(n).substr(1);function i(e){var n=0;for(;n<e.length;n++){if(e[n]!=="")break}var i=e.length-1;for(;i>=0;i--){if(e[i]!=="")break}if(n>i)return[];return e.slice(n,i-n+1)}var t=i(e.split("/"));var r=i(n.split("/"));var o=Math.min(t.length,r.length);var a=o;for(var _=0;_<o;_++){if(t[_]!==r[_]){a=_;break}}var s=[];for(var _=a;_<t.length;_++){s.push("..")}s=s.concat(r.slice(a));return s.join("/")}};var TTY={ttys:[],init:function(){},shutdown:function(){},register:function(e,n){TTY.ttys[e]={input:[],output:[],ops:n};FS.registerDevice(e,TTY.stream_ops)},stream_ops:{open:function(e){var n=TTY.ttys[e.node.rdev];if(!n){throw new FS.ErrnoError(ERRNO_CODES.ENODEV)}e.tty=n;e.seekable=false},close:function(e){e.tty.ops.flush(e.tty)},flush:function(e){e.tty.ops.flush(e.tty)},read:function(e,n,i,t,r){if(!e.tty||!e.tty.ops.get_char){throw new FS.ErrnoError(ERRNO_CODES.ENXIO)}var o=0;for(var a=0;a<t;a++){var _;try{_=e.tty.ops.get_char(e.tty)}catch(e){throw new FS.ErrnoError(ERRNO_CODES.EIO)}if(_===undefined&&o===0){throw new FS.ErrnoError(ERRNO_CODES.EAGAIN)}if(_===null||_===undefined)break;o++;n[i+a]=_}if(o){e.node.timestamp=Date.now()}return o},write:function(e,n,i,t,r){if(!e.tty||!e.tty.ops.put_char){throw new FS.ErrnoError(ERRNO_CODES.ENXIO)}for(var o=0;o<t;o++){try{e.tty.ops.put_char(e.tty,n[i+o])}catch(e){throw new FS.ErrnoError(ERRNO_CODES.EIO)}}if(t){e.node.timestamp=Date.now()}return o}},default_tty_ops:{get_char:function(e){if(!e.input.length){var n=null;if(ENVIRONMENT_IS_NODE){var i=256;var t=new Buffer(i);var r=0;var o=process.platform!="win32";var a=process.stdin.fd;if(o){var _=false;try{a=fs.openSync("/dev/stdin","r");_=true}catch(e){}}try{r=fs.readSync(a,t,0,i,null)}catch(e){if(e.toString().indexOf("EOF")!=-1)r=0;else throw e}if(_){fs.closeSync(a)}if(r>0){n=t.slice(0,r).toString("utf-8")}else{n=null}}else if(typeof window!="undefined"&&typeof window.prompt=="function"){n=window.prompt("Input: ");if(n!==null){n+="\n"}}else if(typeof readline=="function"){n=readline();if(n!==null){n+="\n"}}if(!n){return null}e.input=intArrayFromString(n,true)}return e.input.shift()},put_char:function(e,n){if(n===null||n===10){out(UTF8ArrayToString(e.output,0));e.output=[]}else{if(n!=0)e.output.push(n)}},flush:function(e){if(e.output&&e.output.length>0){out(UTF8ArrayToString(e.output,0));e.output=[]}}},default_tty1_ops:{put_char:function(e,n){if(n===null||n===10){err(UTF8ArrayToString(e.output,0));e.output=[]}else{if(n!=0)e.output.push(n)}},flush:function(e){if(e.output&&e.output.length>0){err(UTF8ArrayToString(e.output,0));e.output=[]}}}};var MEMFS={ops_table:null,mount:function(e){return MEMFS.createNode(null,"/",16384|511,0)},createNode:function(e,n,i,t){if(FS.isBlkdev(i)||FS.isFIFO(i)){throw new FS.ErrnoError(ERRNO_CODES.EPERM)}if(!MEMFS.ops_table){MEMFS.ops_table={dir:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr,lookup:MEMFS.node_ops.lookup,mknod:MEMFS.node_ops.mknod,rename:MEMFS.node_ops.rename,unlink:MEMFS.node_ops.unlink,rmdir:MEMFS.node_ops.rmdir,readdir:MEMFS.node_ops.readdir,symlink:MEMFS.node_ops.symlink},stream:{llseek:MEMFS.stream_ops.llseek}},file:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr},stream:{llseek:MEMFS.stream_ops.llseek,read:MEMFS.stream_ops.read,write:MEMFS.stream_ops.write,allocate:MEMFS.stream_ops.allocate,mmap:MEMFS.stream_ops.mmap,msync:MEMFS.stream_ops.msync}},link:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr,readlink:MEMFS.node_ops.readlink},stream:{}},chrdev:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr},stream:FS.chrdev_stream_ops}}}var r=FS.createNode(e,n,i,t);if(FS.isDir(r.mode)){r.node_ops=MEMFS.ops_table.dir.node;r.stream_ops=MEMFS.ops_table.dir.stream;r.contents={}}else if(FS.isFile(r.mode)){r.node_ops=MEMFS.ops_table.file.node;r.stream_ops=MEMFS.ops_table.file.stream;r.usedBytes=0;r.contents=null}else if(FS.isLink(r.mode)){r.node_ops=MEMFS.ops_table.link.node;r.stream_ops=MEMFS.ops_table.link.stream}else if(FS.isChrdev(r.mode)){r.node_ops=MEMFS.ops_table.chrdev.node;r.stream_ops=MEMFS.ops_table.chrdev.stream}r.timestamp=Date.now();if(e){e.contents[n]=r}return r},getFileDataAsRegularArray:function(e){if(e.contents&&e.contents.subarray){var n=[];for(var i=0;i<e.usedBytes;++i)n.push(e.contents[i]);return n}return e.contents},getFileDataAsTypedArray:function(e){if(!e.contents)return new Uint8Array;if(e.contents.subarray)return e.contents.subarray(0,e.usedBytes);return new Uint8Array(e.contents)},expandFileStorage:function(e,n){if(e.contents&&e.contents.subarray&&n>e.contents.length){e.contents=MEMFS.getFileDataAsRegularArray(e);e.usedBytes=e.contents.length}if(!e.contents||e.contents.subarray){var i=e.contents?e.contents.length:0;if(i>=n)return;var t=1024*1024;n=Math.max(n,i*(i<t?2:1.125)|0);if(i!=0)n=Math.max(n,256);var r=e.contents;e.contents=new Uint8Array(n);if(e.usedBytes>0)e.contents.set(r.subarray(0,e.usedBytes),0);return}if(!e.contents&&n>0)e.contents=[];while(e.contents.length<n)e.contents.push(0)},resizeFileStorage:function(e,n){if(e.usedBytes==n)return;if(n==0){e.contents=null;e.usedBytes=0;return}if(!e.contents||e.contents.subarray){var i=e.contents;e.contents=new Uint8Array(new ArrayBuffer(n));if(i){e.contents.set(i.subarray(0,Math.min(n,e.usedBytes)))}e.usedBytes=n;return}if(!e.contents)e.contents=[];if(e.contents.length>n)e.contents.length=n;else while(e.contents.length<n)e.contents.push(0);e.usedBytes=n},node_ops:{getattr:function(e){var n={};n.dev=FS.isChrdev(e.mode)?e.id:1;n.ino=e.id;n.mode=e.mode;n.nlink=1;n.uid=0;n.gid=0;n.rdev=e.rdev;if(FS.isDir(e.mode)){n.size=4096}else if(FS.isFile(e.mode)){n.size=e.usedBytes}else if(FS.isLink(e.mode)){n.size=e.link.length}else{n.size=0}n.atime=new Date(e.timestamp);n.mtime=new Date(e.timestamp);n.ctime=new Date(e.timestamp);n.blksize=4096;n.blocks=Math.ceil(n.size/n.blksize);return n},setattr:function(e,n){if(n.mode!==undefined){e.mode=n.mode}if(n.timestamp!==undefined){e.timestamp=n.timestamp}if(n.size!==undefined){MEMFS.resizeFileStorage(e,n.size)}},lookup:function(e,n){throw FS.genericErrors[ERRNO_CODES.ENOENT]},mknod:function(e,n,i,t){return MEMFS.createNode(e,n,i,t)},rename:function(e,n,i){if(FS.isDir(e.mode)){var t;try{t=FS.lookupNode(n,i)}catch(e){}if(t){for(var r in t.contents){throw new FS.ErrnoError(ERRNO_CODES.ENOTEMPTY)}}}delete e.parent.contents[e.name];e.name=i;n.contents[i]=e;e.parent=n},unlink:function(e,n){delete e.contents[n]},rmdir:function(e,n){var i=FS.lookupNode(e,n);for(var t in i.contents){throw new FS.ErrnoError(ERRNO_CODES.ENOTEMPTY)}delete e.contents[n]},readdir:function(e){var n=[".",".."];for(var i in e.contents){if(!e.contents.hasOwnProperty(i)){continue}n.push(i)}return n},symlink:function(e,n,i){var t=MEMFS.createNode(e,n,511|40960,0);t.link=i;return t},readlink:function(e){if(!FS.isLink(e.mode)){throw new FS.ErrnoError(ERRNO_CODES.EINVAL)}return e.link}},stream_ops:{read:function(e,n,i,t,r){var o=e.node.contents;if(r>=e.node.usedBytes)return 0;var a=Math.min(e.node.usedBytes-r,t);assert(a>=0);if(a>8&&o.subarray){n.set(o.subarray(r,r+a),i)}else{for(var _=0;_<a;_++)n[i+_]=o[r+_]}return a},write:function(e,n,i,t,r,o){if(!t)return 0;var a=e.node;a.timestamp=Date.now();if(n.subarray&&(!a.contents||a.contents.subarray)){if(o){a.contents=n.subarray(i,i+t);a.usedBytes=t;return t}else if(a.usedBytes===0&&r===0){a.contents=new Uint8Array(n.subarray(i,i+t));a.usedBytes=t;return t}else if(r+t<=a.usedBytes){a.contents.set(n.subarray(i,i+t),r);return t}}MEMFS.expandFileStorage(a,r+t);if(a.contents.subarray&&n.subarray)a.contents.set(n.subarray(i,i+t),r);else{for(var _=0;_<t;_++){a.contents[r+_]=n[i+_]}}a.usedBytes=Math.max(a.usedBytes,r+t);return t},llseek:function(e,n,i){var t=n;if(i===1){t+=e.position}else if(i===2){if(FS.isFile(e.node.mode)){t+=e.node.usedBytes}}if(t<0){throw new FS.ErrnoError(ERRNO_CODES.EINVAL)}return t},allocate:function(e,n,i){MEMFS.expandFileStorage(e.node,n+i);e.node.usedBytes=Math.max(e.node.usedBytes,n+i)},mmap:function(e,n,i,t,r,o,a){if(!FS.isFile(e.node.mode)){throw new FS.ErrnoError(ERRNO_CODES.ENODEV)}var _;var s;var l=e.node.contents;if(!(a&2)&&(l.buffer===n||l.buffer===n.buffer)){s=false;_=l.byteOffset}else{if(r>0||r+t<e.node.usedBytes){if(l.subarray){l=l.subarray(r,r+t)}else{l=Array.prototype.slice.call(l,r,r+t)}}s=true;_=_malloc(t);if(!_){throw new FS.ErrnoError(ERRNO_CODES.ENOMEM)}n.set(l,_)}return{ptr:_,allocated:s}},msync:function(e,n,i,t,r){if(!FS.isFile(e.node.mode)){throw new FS.ErrnoError(ERRNO_CODES.ENODEV)}if(r&2){return 0}var o=MEMFS.stream_ops.write(e,n,0,t,i,false);return 0}}};var IDBFS={dbs:{},indexedDB:function(){if(typeof indexedDB!=="undefined")return indexedDB;var e=null;if(typeof window==="object")e=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB;assert(e,"IDBFS used, but indexedDB not supported");return e},DB_VERSION:21,DB_STORE_NAME:"FILE_DATA",mount:function(e){return MEMFS.mount.apply(null,arguments)},syncfs:function(e,n,i){IDBFS.getLocalSet(e,function(t,r){if(t)return i(t);IDBFS.getRemoteSet(e,function(e,t){if(e)return i(e);var o=n?t:r;var a=n?r:t;IDBFS.reconcile(o,a,i)})})},getDB:function(e,n){var i=IDBFS.dbs[e];if(i){return n(null,i)}var t;try{t=IDBFS.indexedDB().open(e,IDBFS.DB_VERSION)}catch(e){return n(e)}if(!t){return n("Unable to connect to IndexedDB")}t.onupgradeneeded=function(e){var n=e.target.result;var i=e.target.transaction;var t;if(n.objectStoreNames.contains(IDBFS.DB_STORE_NAME)){t=i.objectStore(IDBFS.DB_STORE_NAME)}else{t=n.createObjectStore(IDBFS.DB_STORE_NAME)}if(!t.indexNames.contains("timestamp")){t.createIndex("timestamp","timestamp",{unique:false})}};t.onsuccess=function(){i=t.result;IDBFS.dbs[e]=i;n(null,i)};t.onerror=function(e){n(this.error);e.preventDefault()}},getLocalSet:function(e,n){var i={};function t(e){return e!=="."&&e!==".."}function r(e){return function(n){return PATH.join2(e,n)}}var o=FS.readdir(e.mountpoint).filter(t).map(r(e.mountpoint));while(o.length){var a=o.pop();var _;try{_=FS.stat(a)}catch(e){return n(e)}if(FS.isDir(_.mode)){o.push.apply(o,FS.readdir(a).filter(t).map(r(a)))}i[a]={timestamp:_.mtime}}return n(null,{type:"local",entries:i})},getRemoteSet:function(e,n){var i={};IDBFS.getDB(e.mountpoint,function(e,t){if(e)return n(e);try{var r=t.transaction([IDBFS.DB_STORE_NAME],"readonly");r.onerror=function(e){n(this.error);e.preventDefault()};var o=r.objectStore(IDBFS.DB_STORE_NAME);var a=o.index("timestamp");a.openKeyCursor().onsuccess=function(e){var r=e.target.result;if(!r){return n(null,{type:"remote",db:t,entries:i})}i[r.primaryKey]={timestamp:r.key};r.continue()}}catch(e){return n(e)}})},loadLocalEntry:function(e,n){var i,t;try{var r=FS.lookupPath(e);t=r.node;i=FS.stat(e)}catch(e){return n(e)}if(FS.isDir(i.mode)){return n(null,{timestamp:i.mtime,mode:i.mode})}else if(FS.isFile(i.mode)){t.contents=MEMFS.getFileDataAsTypedArray(t);return n(null,{timestamp:i.mtime,mode:i.mode,contents:t.contents})}else{return n(new Error("node type not supported"))}},storeLocalEntry:function(e,n,i){try{if(FS.isDir(n.mode)){FS.mkdir(e,n.mode)}else if(FS.isFile(n.mode)){FS.writeFile(e,n.contents,{canOwn:true})}else{return i(new Error("node type not supported"))}FS.chmod(e,n.mode);FS.utime(e,n.timestamp,n.timestamp)}catch(e){return i(e)}i(null)},removeLocalEntry:function(e,n){try{var i=FS.lookupPath(e);var t=FS.stat(e);if(FS.isDir(t.mode)){FS.rmdir(e)}else if(FS.isFile(t.mode)){FS.unlink(e)}}catch(e){return n(e)}n(null)},loadRemoteEntry:function(e,n,i){var t=e.get(n);t.onsuccess=function(e){i(null,e.target.result)};t.onerror=function(e){i(this.error);e.preventDefault()}},storeRemoteEntry:function(e,n,i,t){var r=e.put(i,n);r.onsuccess=function(){t(null)};r.onerror=function(e){t(this.error);e.preventDefault()}},removeRemoteEntry:function(e,n,i){var t=e.delete(n);t.onsuccess=function(){i(null)};t.onerror=function(e){i(this.error);e.preventDefault()}},reconcile:function(e,n,i){var t=0;var r=[];Object.keys(e.entries).forEach(function(i){var o=e.entries[i];var a=n.entries[i];if(!a||o.timestamp>a.timestamp){r.push(i);t++}});var o=[];Object.keys(n.entries).forEach(function(i){var r=n.entries[i];var a=e.entries[i];if(!a){o.push(i);t++}});if(!t){return i(null)}var a=0;var _=e.type==="remote"?e.db:n.db;var s=_.transaction([IDBFS.DB_STORE_NAME],"readwrite");var l=s.objectStore(IDBFS.DB_STORE_NAME);function u(e){if(e){if(!u.errored){u.errored=true;return i(e)}return}if(++a>=t){return i(null)}}s.onerror=function(e){u(this.error);e.preventDefault()};r.sort().forEach(function(e){if(n.type==="local"){IDBFS.loadRemoteEntry(l,e,function(n,i){if(n)return u(n);IDBFS.storeLocalEntry(e,i,u)})}else{IDBFS.loadLocalEntry(e,function(n,i){if(n)return u(n);IDBFS.storeRemoteEntry(l,e,i,u)})}});o.sort().reverse().forEach(function(e){if(n.type==="local"){IDBFS.removeLocalEntry(e,u)}else{IDBFS.removeRemoteEntry(l,e,u)}})}};var NODEFS={isWindows:false,staticInit:function(){NODEFS.isWindows=!!process.platform.match(/^win/);var e=process["binding"]("constants");if(e["fs"]){e=e["fs"]}NODEFS.flagsForNodeMap={1024:e["O_APPEND"],64:e["O_CREAT"],128:e["O_EXCL"],0:e["O_RDONLY"],2:e["O_RDWR"],4096:e["O_SYNC"],512:e["O_TRUNC"],1:e["O_WRONLY"]}},bufferFrom:function(e){return Buffer.alloc?Buffer.from(e):new Buffer(e)},mount:function(e){assert(ENVIRONMENT_IS_NODE);return NODEFS.createNode(null,"/",NODEFS.getMode(e.opts.root),0)},createNode:function(e,n,i,t){if(!FS.isDir(i)&&!FS.isFile(i)&&!FS.isLink(i)){throw new FS.ErrnoError(ERRNO_CODES.EINVAL)}var r=FS.createNode(e,n,i);r.node_ops=NODEFS.node_ops;r.stream_ops=NODEFS.stream_ops;return r},getMode:function(e){var n;try{n=fs.lstatSync(e);if(NODEFS.isWindows){n.mode=n.mode|(n.mode&292)>>2}}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}return n.mode},realPath:function(e){var n=[];while(e.parent!==e){n.push(e.name);e=e.parent}n.push(e.mount.opts.root);n.reverse();return PATH.join.apply(null,n)},flagsForNode:function(e){e&=~2097152;e&=~2048;e&=~32768;e&=~524288;var n=0;for(var i in NODEFS.flagsForNodeMap){if(e&i){n|=NODEFS.flagsForNodeMap[i];e^=i}}if(!e){return n}else{throw new FS.ErrnoError(ERRNO_CODES.EINVAL)}},node_ops:{getattr:function(e){var n=NODEFS.realPath(e);var i;try{i=fs.lstatSync(n)}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}if(NODEFS.isWindows&&!i.blksize){i.blksize=4096}if(NODEFS.isWindows&&!i.blocks){i.blocks=(i.size+i.blksize-1)/i.blksize|0}return{dev:i.dev,ino:i.ino,mode:i.mode,nlink:i.nlink,uid:i.uid,gid:i.gid,rdev:i.rdev,size:i.size,atime:i.atime,mtime:i.mtime,ctime:i.ctime,blksize:i.blksize,blocks:i.blocks}},setattr:function(e,n){var i=NODEFS.realPath(e);try{if(n.mode!==undefined){fs.chmodSync(i,n.mode);e.mode=n.mode}if(n.timestamp!==undefined){var t=new Date(n.timestamp);fs.utimesSync(i,t,t)}if(n.size!==undefined){fs.truncateSync(i,n.size)}}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}},lookup:function(e,n){var i=PATH.join2(NODEFS.realPath(e),n);var t=NODEFS.getMode(i);return NODEFS.createNode(e,n,t)},mknod:function(e,n,i,t){var r=NODEFS.createNode(e,n,i,t);var o=NODEFS.realPath(r);try{if(FS.isDir(r.mode)){fs.mkdirSync(o,r.mode)}else{fs.writeFileSync(o,"",{mode:r.mode})}}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}return r},rename:function(e,n,i){var t=NODEFS.realPath(e);var r=PATH.join2(NODEFS.realPath(n),i);try{fs.renameSync(t,r)}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}},unlink:function(e,n){var i=PATH.join2(NODEFS.realPath(e),n);try{fs.unlinkSync(i)}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}},rmdir:function(e,n){var i=PATH.join2(NODEFS.realPath(e),n);try{fs.rmdirSync(i)}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}},readdir:function(e){var n=NODEFS.realPath(e);try{return fs.readdirSync(n)}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}},symlink:function(e,n,i){var t=PATH.join2(NODEFS.realPath(e),n);try{fs.symlinkSync(i,t)}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}},readlink:function(e){var n=NODEFS.realPath(e);try{n=fs.readlinkSync(n);n=NODEJS_PATH.relative(NODEJS_PATH.resolve(e.mount.opts.root),n);return n}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}}},stream_ops:{open:function(e){var n=NODEFS.realPath(e.node);try{if(FS.isFile(e.node.mode)){e.nfd=fs.openSync(n,NODEFS.flagsForNode(e.flags))}}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}},close:function(e){try{if(FS.isFile(e.node.mode)&&e.nfd){fs.closeSync(e.nfd)}}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}},read:function(e,n,i,t,r){if(t===0)return 0;try{return fs.readSync(e.nfd,NODEFS.bufferFrom(n.buffer),i,t,r)}catch(e){throw new FS.ErrnoError(ERRNO_CODES[e.code])}},write:function(e,n,i,t,r){try{return fs.writeSync(e.nfd,NODEFS.bufferFrom(n.buffer),i,t,r)}catch(e){throw new FS.ErrnoError(ERRNO_CODES[e.code])}},llseek:function(e,n,i){var t=n;if(i===1){t+=e.position}else if(i===2){if(FS.isFile(e.node.mode)){try{var r=fs.fstatSync(e.nfd);t+=r.size}catch(e){throw new FS.ErrnoError(ERRNO_CODES[e.code])}}}if(t<0){throw new FS.ErrnoError(ERRNO_CODES.EINVAL)}return t}}};var WORKERFS={DIR_MODE:16895,FILE_MODE:33279,reader:null,mount:function(e){assert(ENVIRONMENT_IS_WORKER);if(!WORKERFS.reader)WORKERFS.reader=new FileReaderSync;var n=WORKERFS.createNode(null,"/",WORKERFS.DIR_MODE,0);var i={};function t(e){var t=e.split("/");var r=n;for(var o=0;o<t.length-1;o++){var a=t.slice(0,o+1).join("/");if(!i[a]){i[a]=WORKERFS.createNode(r,t[o],WORKERFS.DIR_MODE,0)}r=i[a]}return r}function r(e){var n=e.split("/");return n[n.length-1]}Array.prototype.forEach.call(e.opts["files"]||[],function(e){WORKERFS.createNode(t(e.name),r(e.name),WORKERFS.FILE_MODE,0,e,e.lastModifiedDate)});(e.opts["blobs"]||[]).forEach(function(e){WORKERFS.createNode(t(e["name"]),r(e["name"]),WORKERFS.FILE_MODE,0,e["data"])});(e.opts["packages"]||[]).forEach(function(e){e["metadata"].files.forEach(function(n){var i=n.filename.substr(1);WORKERFS.createNode(t(i),r(i),WORKERFS.FILE_MODE,0,e["blob"].slice(n.start,n.end))})});return n},createNode:function(e,n,i,t,r,o){var a=FS.createNode(e,n,i);a.mode=i;a.node_ops=WORKERFS.node_ops;a.stream_ops=WORKERFS.stream_ops;a.timestamp=(o||new Date).getTime();assert(WORKERFS.FILE_MODE!==WORKERFS.DIR_MODE);if(i===WORKERFS.FILE_MODE){a.size=r.size;a.contents=r}else{a.size=4096;a.contents={}}if(e){e.contents[n]=a}return a},node_ops:{getattr:function(e){return{dev:1,ino:undefined,mode:e.mode,nlink:1,uid:0,gid:0,rdev:undefined,size:e.size,atime:new Date(e.timestamp),mtime:new Date(e.timestamp),ctime:new Date(e.timestamp),blksize:4096,blocks:Math.ceil(e.size/4096)}},setattr:function(e,n){if(n.mode!==undefined){e.mode=n.mode}if(n.timestamp!==undefined){e.timestamp=n.timestamp}},lookup:function(e,n){throw new FS.ErrnoError(ERRNO_CODES.ENOENT)},mknod:function(e,n,i,t){throw new FS.ErrnoError(ERRNO_CODES.EPERM)},rename:function(e,n,i){throw new FS.ErrnoError(ERRNO_CODES.EPERM)},unlink:function(e,n){throw new FS.ErrnoError(ERRNO_CODES.EPERM)},rmdir:function(e,n){throw new FS.ErrnoError(ERRNO_CODES.EPERM)},readdir:function(e){var n=[".",".."];for(var i in e.contents){if(!e.contents.hasOwnProperty(i)){continue}n.push(i)}return n},symlink:function(e,n,i){throw new FS.ErrnoError(ERRNO_CODES.EPERM)},readlink:function(e){throw new FS.ErrnoError(ERRNO_CODES.EPERM)}},stream_ops:{read:function(e,n,i,t,r){if(r>=e.node.size)return 0;var o=e.node.contents.slice(r,r+t);var a=WORKERFS.reader.readAsArrayBuffer(o);n.set(new Uint8Array(a),i);return o.size},write:function(e,n,i,t,r){throw new FS.ErrnoError(ERRNO_CODES.EIO)},llseek:function(e,n,i){var t=n;if(i===1){t+=e.position}else if(i===2){if(FS.isFile(e.node.mode)){t+=e.node.size}}if(t<0){throw new FS.ErrnoError(ERRNO_CODES.EINVAL)}return t}}};STATICTOP+=16;STATICTOP+=16;STATICTOP+=16;var FS={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:false,ignorePermissions:true,trackingDelegate:{},tracking:{openFlags:{READ:1,WRITE:2}},ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,handleFSError:function(e){if(!(e instanceof FS.ErrnoError))throw e+" : "+stackTrace();return ___setErrNo(e.errno)},lookupPath:function(e,n){e=PATH.resolve(FS.cwd(),e);n=n||{};if(!e)return{path:"",node:null};var i={follow_mount:true,recurse_count:0};for(var t in i){if(n[t]===undefined){n[t]=i[t]}}if(n.recurse_count>8){throw new FS.ErrnoError(ERRNO_CODES.ELOOP)}var r=PATH.normalizeArray(e.split("/").filter(function(e){return!!e}),false);var o=FS.root;var a="/";for(var _=0;_<r.length;_++){var s=_===r.length-1;if(s&&n.parent){break}o=FS.lookupNode(o,r[_]);a=PATH.join2(a,r[_]);if(FS.isMountpoint(o)){if(!s||s&&n.follow_mount){o=o.mounted.root}}if(!s||n.follow){var l=0;while(FS.isLink(o.mode)){var u=FS.readlink(a);a=PATH.resolve(PATH.dirname(a),u);var c=FS.lookupPath(a,{recurse_count:n.recurse_count});o=c.node;if(l++>40){throw new FS.ErrnoError(ERRNO_CODES.ELOOP)}}}}return{path:a,node:o}},getPath:function(e){var n;while(true){if(FS.isRoot(e)){var i=e.mount.mountpoint;if(!n)return i;return i[i.length-1]!=="/"?i+"/"+n:i+n}n=n?e.name+"/"+n:e.name;e=e.parent}},hashName:function(e,n){var i=0;for(var t=0;t<n.length;t++){i=(i<<5)-i+n.charCodeAt(t)|0}return(e+i>>>0)%FS.nameTable.length},hashAddNode:function(e){var n=FS.hashName(e.parent.id,e.name);e.name_next=FS.nameTable[n];FS.nameTable[n]=e},hashRemoveNode:function(e){var n=FS.hashName(e.parent.id,e.name);if(FS.nameTable[n]===e){FS.nameTable[n]=e.name_next}else{var i=FS.nameTable[n];while(i){if(i.name_next===e){i.name_next=e.name_next;break}i=i.name_next}}},lookupNode:function(e,n){var i=FS.mayLookup(e);if(i){throw new FS.ErrnoError(i,e)}var t=FS.hashName(e.id,n);for(var r=FS.nameTable[t];r;r=r.name_next){var o=r.name;if(r.parent.id===e.id&&o===n){return r}}return FS.lookup(e,n)},createNode:function(e,n,i,t){if(!FS.FSNode){FS.FSNode=function(e,n,i,t){if(!e){e=this}this.parent=e;this.mount=e.mount;this.mounted=null;this.id=FS.nextInode++;this.name=n;this.mode=i;this.node_ops={};this.stream_ops={};this.rdev=t};FS.FSNode.prototype={};var r=292|73;var o=146;Object.defineProperties(FS.FSNode.prototype,{read:{get:function(){return(this.mode&r)===r},set:function(e){e?this.mode|=r:this.mode&=~r}},write:{get:function(){return(this.mode&o)===o},set:function(e){e?this.mode|=o:this.mode&=~o}},isFolder:{get:function(){return FS.isDir(this.mode)}},isDevice:{get:function(){return FS.isChrdev(this.mode)}}})}var a=new FS.FSNode(e,n,i,t);FS.hashAddNode(a);return a},destroyNode:function(e){FS.hashRemoveNode(e)},isRoot:function(e){return e===e.parent},isMountpoint:function(e){return!!e.mounted},isFile:function(e){return(e&61440)===32768},isDir:function(e){return(e&61440)===16384},isLink:function(e){return(e&61440)===40960},isChrdev:function(e){return(e&61440)===8192},isBlkdev:function(e){return(e&61440)===24576},isFIFO:function(e){return(e&61440)===4096},isSocket:function(e){return(e&49152)===49152},flagModes:{r:0,rs:1052672,"r+":2,w:577,wx:705,xw:705,"w+":578,"wx+":706,"xw+":706,a:1089,ax:1217,xa:1217,"a+":1090,"ax+":1218,"xa+":1218},modeStringToFlags:function(e){var n=FS.flagModes[e];if(typeof n==="undefined"){throw new Error("Unknown file open mode: "+e)}return n},flagsToPermissionString:function(e){var n=["r","w","rw"][e&3];if(e&512){n+="w"}return n},nodePermissions:function(e,n){if(FS.ignorePermissions){return 0}if(n.indexOf("r")!==-1&&!(e.mode&292)){return ERRNO_CODES.EACCES}else if(n.indexOf("w")!==-1&&!(e.mode&146)){return ERRNO_CODES.EACCES}else if(n.indexOf("x")!==-1&&!(e.mode&73)){return ERRNO_CODES.EACCES}return 0},mayLookup:function(e){var n=FS.nodePermissions(e,"x");if(n)return n;if(!e.node_ops.lookup)return ERRNO_CODES.EACCES;return 0},mayCreate:function(e,n){try{var i=FS.lookupNode(e,n);return ERRNO_CODES.EEXIST}catch(e){}return FS.nodePermissions(e,"wx")},mayDelete:function(e,n,i){var t;try{t=FS.lookupNode(e,n)}catch(e){return e.errno}var r=FS.nodePermissions(e,"wx");if(r){return r}if(i){if(!FS.isDir(t.mode)){return ERRNO_CODES.ENOTDIR}if(FS.isRoot(t)||FS.getPath(t)===FS.cwd()){return ERRNO_CODES.EBUSY}}else{if(FS.isDir(t.mode)){return ERRNO_CODES.EISDIR}}return 0},mayOpen:function(e,n){if(!e){return ERRNO_CODES.ENOENT}if(FS.isLink(e.mode)){return ERRNO_CODES.ELOOP}else if(FS.isDir(e.mode)){if(FS.flagsToPermissionString(n)!=="r"||n&512){return ERRNO_CODES.EISDIR}}return FS.nodePermissions(e,FS.flagsToPermissionString(n))},MAX_OPEN_FDS:4096,nextfd:function(e,n){e=e||0;n=n||FS.MAX_OPEN_FDS;for(var i=e;i<=n;i++){if(!FS.streams[i]){return i}}throw new FS.ErrnoError(ERRNO_CODES.EMFILE)},getStream:function(e){return FS.streams[e]},createStream:function(e,n,i){if(!FS.FSStream){FS.FSStream=function(){};FS.FSStream.prototype={};Object.defineProperties(FS.FSStream.prototype,{object:{get:function(){return this.node},set:function(e){this.node=e}},isRead:{get:function(){return(this.flags&2097155)!==1}},isWrite:{get:function(){return(this.flags&2097155)!==0}},isAppend:{get:function(){return this.flags&1024}}})}var t=new FS.FSStream;for(var r in e){t[r]=e[r]}e=t;var o=FS.nextfd(n,i);e.fd=o;FS.streams[o]=e;return e},closeStream:function(e){FS.streams[e]=null},chrdev_stream_ops:{open:function(e){var n=FS.getDevice(e.node.rdev);e.stream_ops=n.stream_ops;if(e.stream_ops.open){e.stream_ops.open(e)}},llseek:function(){throw new FS.ErrnoError(ERRNO_CODES.ESPIPE)}},major:function(e){return e>>8},minor:function(e){return e&255},makedev:function(e,n){return e<<8|n},registerDevice:function(e,n){FS.devices[e]={stream_ops:n}},getDevice:function(e){return FS.devices[e]},getMounts:function(e){var n=[];var i=[e];while(i.length){var t=i.pop();n.push(t);i.push.apply(i,t.mounts)}return n},syncfs:function(e,n){if(typeof e==="function"){n=e;e=false}FS.syncFSRequests++;if(FS.syncFSRequests>1){console.log("warning: "+FS.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work")}var i=FS.getMounts(FS.root.mount);var t=0;function r(e){assert(FS.syncFSRequests>0);FS.syncFSRequests--;return n(e)}function o(e){if(e){if(!o.errored){o.errored=true;return r(e)}return}if(++t>=i.length){r(null)}}i.forEach(function(n){if(!n.type.syncfs){return o(null)}n.type.syncfs(n,e,o)})},mount:function(e,n,i){var t=i==="/";var r=!i;var o;if(t&&FS.root){throw new FS.ErrnoError(ERRNO_CODES.EBUSY)}else if(!t&&!r){var a=FS.lookupPath(i,{follow_mount:false});i=a.path;o=a.node;if(FS.isMountpoint(o)){throw new FS.ErrnoError(ERRNO_CODES.EBUSY)}if(!FS.isDir(o.mode)){throw new FS.ErrnoError(ERRNO_CODES.ENOTDIR)}}var _={type:e,opts:n,mountpoint:i,mounts:[]};var s=e.mount(_);s.mount=_;_.root=s;if(t){FS.root=s}else if(o){o.mounted=_;if(o.mount){o.mount.mounts.push(_)}}return s},unmount:function(e){var n=FS.lookupPath(e,{follow_mount:false});if(!FS.isMountpoint(n.node)){throw new FS.ErrnoError(ERRNO_CODES.EINVAL)}var i=n.node;var t=i.mounted;var r=FS.getMounts(t);Object.keys(FS.nameTable).forEach(function(e){var n=FS.nameTable[e];while(n){var i=n.name_next;if(r.indexOf(n.mount)!==-1){FS.destroyNode(n)}n=i}});i.mounted=null;var o=i.mount.mounts.indexOf(t);assert(o!==-1);i.mount.mounts.splice(o,1)},lookup:function(e,n){return e.node_ops.lookup(e,n)},mknod:function(e,n,i){var t=FS.lookupPath(e,{parent:true});var r=t.node;var o=PATH.basename(e);if(!o||o==="."||o===".."){throw new FS.ErrnoError(ERRNO_CODES.EINVAL)}var a=FS.mayCreate(r,o);if(a){throw new FS.ErrnoError(a)}if(!r.node_ops.mknod){throw new FS.ErrnoError(ERRNO_CODES.EPERM)}return r.node_ops.mknod(r,o,n,i)},create:function(e,n){n=n!==undefined?n:438;n&=4095;n|=32768;return FS.mknod(e,n,0)},mkdir:function(e,n){n=n!==undefined?n:511;n&=511|512;n|=16384;return FS.mknod(e,n,0)},mkdirTree:function(e,n){var i=e.split("/");var t="";for(var r=0;r<i.length;++r){if(!i[r])continue;t+="/"+i[r];try{FS.mkdir(t,n)}catch(e){if(e.errno!=ERRNO_CODES.EEXIST)throw e}}},mkdev:function(e,n,i){if(typeof i==="undefined"){i=n;n=438}n|=8192;return FS.mknod(e,n,i)},symlink:function(e,n){if(!PATH.resolve(e)){throw new FS.ErrnoError(ERRNO_CODES.ENOENT)}var i=FS.lookupPath(n,{parent:true});var t=i.node;if(!t){throw new FS.ErrnoError(ERRNO_CODES.ENOENT)}var r=PATH.basename(n);var o=FS.mayCreate(t,r);if(o){throw new FS.ErrnoError(o)}if(!t.node_ops.symlink){throw new FS.ErrnoError(ERRNO_CODES.EPERM)}return t.node_ops.symlink(t,r,e)},rename:function(e,n){var i=PATH.dirname(e);var t=PATH.dirname(n);var r=PATH.basename(e);var o=PATH.basename(n);var a,_,s;try{a=FS.lookupPath(e,{parent:true});_=a.node;a=FS.lookupPath(n,{parent:true});s=a.node}catch(e){throw new FS.ErrnoError(ERRNO_CODES.EBUSY)}if(!_||!s)throw new FS.ErrnoError(ERRNO_CODES.ENOENT);if(_.mount!==s.mount){throw new FS.ErrnoError(ERRNO_CODES.EXDEV)}var l=FS.lookupNode(_,r);var u=PATH.relative(e,t);if(u.charAt(0)!=="."){throw new FS.ErrnoError(ERRNO_CODES.EINVAL)}u=PATH.relative(n,i);if(u.charAt(0)!=="."){throw new FS.ErrnoError(ERRNO_CODES.ENOTEMPTY)}var c;try{c=FS.lookupNode(s,o)}catch(e){}if(l===c){return}var d=FS.isDir(l.mode);var f=FS.mayDelete(_,r,d);if(f){throw new FS.ErrnoError(f)}f=c?FS.mayDelete(s,o,d):FS.mayCreate(s,o);if(f){throw new FS.ErrnoError(f)}if(!_.node_ops.rename){throw new FS.ErrnoError(ERRNO_CODES.EPERM)}if(FS.isMountpoint(l)||c&&FS.isMountpoint(c)){throw new FS.ErrnoError(ERRNO_CODES.EBUSY)}if(s!==_){f=FS.nodePermissions(_,"w");if(f){throw new FS.ErrnoError(f)}}try{if(FS.trackingDelegate["willMovePath"]){FS.trackingDelegate["willMovePath"](e,n)}}catch(i){console.log("FS.trackingDelegate['willMovePath']('"+e+"', '"+n+"') threw an exception: "+i.message)}FS.hashRemoveNode(l);try{_.node_ops.rename(l,s,o)}catch(e){throw e}finally{FS.hashAddNode(l)}try{if(FS.trackingDelegate["onMovePath"])FS.trackingDelegate["onMovePath"](e,n)}catch(i){console.log("FS.trackingDelegate['onMovePath']('"+e+"', '"+n+"') threw an exception: "+i.message)}},rmdir:function(e){var n=FS.lookupPath(e,{parent:true});var i=n.node;var t=PATH.basename(e);var r=FS.lookupNode(i,t);var o=FS.mayDelete(i,t,true);if(o){throw new FS.ErrnoError(o)}if(!i.node_ops.rmdir){throw new FS.ErrnoError(ERRNO_CODES.EPERM)}if(FS.isMountpoint(r)){throw new FS.ErrnoError(ERRNO_CODES.EBUSY)}try{if(FS.trackingDelegate["willDeletePath"]){FS.trackingDelegate["willDeletePath"](e)}}catch(n){console.log("FS.trackingDelegate['willDeletePath']('"+e+"') threw an exception: "+n.message)}i.node_ops.rmdir(i,t);FS.destroyNode(r);try{if(FS.trackingDelegate["onDeletePath"])FS.trackingDelegate["onDeletePath"](e)}catch(n){console.log("FS.trackingDelegate['onDeletePath']('"+e+"') threw an exception: "+n.message)}},readdir:function(e){var n=FS.lookupPath(e,{follow:true});var i=n.node;if(!i.node_ops.readdir){throw new FS.ErrnoError(ERRNO_CODES.ENOTDIR)}return i.node_ops.readdir(i)},unlink:function(e){var n=FS.lookupPath(e,{parent:true});var i=n.node;var t=PATH.basename(e);var r=FS.lookupNode(i,t);var o=FS.mayDelete(i,t,false);if(o){throw new FS.ErrnoError(o)}if(!i.node_ops.unlink){throw new FS.ErrnoError(ERRNO_CODES.EPERM)}if(FS.isMountpoint(r)){throw new FS.ErrnoError(ERRNO_CODES.EBUSY)}try{if(FS.trackingDelegate["willDeletePath"]){FS.trackingDelegate["willDeletePath"](e)}}catch(n){console.log("FS.trackingDelegate['willDeletePath']('"+e+"') threw an exception: "+n.message)}i.node_ops.unlink(i,t);FS.destroyNode(r);try{if(FS.trackingDelegate["onDeletePath"])FS.trackingDelegate["onDeletePath"](e)}catch(n){console.log("FS.trackingDelegate['onDeletePath']('"+e+"') threw an exception: "+n.message)}},readlink:function(e){var n=FS.lookupPath(e);var i=n.node;if(!i){throw new FS.ErrnoError(ERRNO_CODES.ENOENT)}if(!i.node_ops.readlink){throw new FS.ErrnoError(ERRNO_CODES.EINVAL)}return PATH.resolve(FS.getPath(i.parent),i.node_ops.readlink(i))},stat:function(e,n){var i=FS.lookupPath(e,{follow:!n});var t=i.node;if(!t){throw new FS.ErrnoError(ERRNO_CODES.ENOENT)}if(!t.node_ops.getattr){throw new FS.ErrnoError(ERRNO_CODES.EPERM)}return t.node_ops.getattr(t)},lstat:function(e){return FS.stat(e,true)},chmod:function(e,n,i){var t;if(typeof e==="string"){var r=FS.lookupPath(e,{follow:!i});t=r.node}else{t=e}if(!t.node_ops.setattr){throw new FS.ErrnoError(ERRNO_CODES.EPERM)}t.node_ops.setattr(t,{mode:n&4095|t.mode&~4095,timestamp:Date.now()})},lchmod:function(e,n){FS.chmod(e,n,true)},fchmod:function(e,n){var i=FS.getStream(e);if(!i){throw new FS.ErrnoError(ERRNO_CODES.EBADF)}FS.chmod(i.node,n)},chown:function(e,n,i,t){var r;if(typeof e==="string"){var o=FS.lookupPath(e,{follow:!t});r=o.node}else{r=e}if(!r.node_ops.setattr){throw new FS.ErrnoError(ERRNO_CODES.EPERM)}r.node_ops.setattr(r,{timestamp:Date.now()})},lchown:function(e,n,i){FS.chown(e,n,i,true)},fchown:function(e,n,i){var t=FS.getStream(e);if(!t){throw new FS.ErrnoError(ERRNO_CODES.EBADF)}FS.chown(t.node,n,i)},truncate:function(e,n){if(n<0){throw new FS.ErrnoError(ERRNO_CODES.EINVAL)}var i;if(typeof e==="string"){var t=FS.lookupPath(e,{follow:true});i=t.node}else{i=e}if(!i.node_ops.setattr){throw new FS.ErrnoError(ERRNO_CODES.EPERM)}if(FS.isDir(i.mode)){throw new FS.ErrnoError(ERRNO_CODES.EISDIR)}if(!FS.isFile(i.mode)){throw new FS.ErrnoError(ERRNO_CODES.EINVAL)}var r=FS.nodePermissions(i,"w");if(r){throw new FS.ErrnoError(r)}i.node_ops.setattr(i,{size:n,timestamp:Date.now()})},ftruncate:function(e,n){var i=FS.getStream(e);if(!i){throw new FS.ErrnoError(ERRNO_CODES.EBADF)}if((i.flags&2097155)===0){throw new FS.ErrnoError(ERRNO_CODES.EINVAL)}FS.truncate(i.node,n)},utime:function(e,n,i){var t=FS.lookupPath(e,{follow:true});var r=t.node;r.node_ops.setattr(r,{timestamp:Math.max(n,i)})},open:function(e,n,i,t,r){if(e===""){throw new FS.ErrnoError(ERRNO_CODES.ENOENT)}n=typeof n==="string"?FS.modeStringToFlags(n):n;i=typeof i==="undefined"?438:i;if(n&64){i=i&4095|32768}else{i=0}var o;if(typeof e==="object"){o=e}else{e=PATH.normalize(e);try{var a=FS.lookupPath(e,{follow:!(n&131072)});o=a.node}catch(e){}}var _=false;if(n&64){if(o){if(n&128){throw new FS.ErrnoError(ERRNO_CODES.EEXIST)}}else{o=FS.mknod(e,i,0);_=true}}if(!o){throw new FS.ErrnoError(ERRNO_CODES.ENOENT)}if(FS.isChrdev(o.mode)){n&=~512}if(n&65536&&!FS.isDir(o.mode)){throw new FS.ErrnoError(ERRNO_CODES.ENOTDIR)}if(!_){var s=FS.mayOpen(o,n);if(s){throw new FS.ErrnoError(s)}}if(n&512){FS.truncate(o,0)}n&=~(128|512);var l=FS.createStream({node:o,path:FS.getPath(o),flags:n,seekable:true,position:0,stream_ops:o.stream_ops,ungotten:[],error:false},t,r);if(l.stream_ops.open){l.stream_ops.open(l)}if(Module["logReadFiles"]&&!(n&1)){if(!FS.readFiles)FS.readFiles={};if(!(e in FS.readFiles)){FS.readFiles[e]=1;s("read file: "+e)}}try{if(FS.trackingDelegate["onOpenFile"]){var u=0;if((n&2097155)!==1){u|=FS.tracking.openFlags.READ}if((n&2097155)!==0){u|=FS.tracking.openFlags.WRITE}FS.trackingDelegate["onOpenFile"](e,u)}}catch(n){console.log("FS.trackingDelegate['onOpenFile']('"+e+"', flags) threw an exception: "+n.message)}return l},close:function(e){if(FS.isClosed(e)){throw new FS.ErrnoError(ERRNO_CODES.EBADF)}if(e.getdents)e.getdents=null;try{if(e.stream_ops.close){e.stream_ops.close(e)}}catch(e){throw e}finally{FS.closeStream(e.fd)}e.fd=null},isClosed:function(e){return e.fd===null},llseek:function(e,n,i){if(FS.isClosed(e)){throw new FS.ErrnoError(ERRNO_CODES.EBADF)}if(!e.seekable||!e.stream_ops.llseek){throw new FS.ErrnoError(ERRNO_CODES.ESPIPE)}e.position=e.stream_ops.llseek(e,n,i);e.ungotten=[];return e.position},read:function(e,n,i,t,r){if(t<0||r<0){throw new FS.ErrnoError(ERRNO_CODES.EINVAL)}if(FS.isClosed(e)){throw new FS.ErrnoError(ERRNO_CODES.EBADF)}if((e.flags&2097155)===1){throw new FS.ErrnoError(ERRNO_CODES.EBADF)}if(FS.isDir(e.node.mode)){throw new FS.ErrnoError(ERRNO_CODES.EISDIR)}if(!e.stream_ops.read){throw new FS.ErrnoError(ERRNO_CODES.EINVAL)}var o=typeof r!=="undefined";if(!o){r=e.position}else if(!e.seekable){throw new FS.ErrnoError(ERRNO_CODES.ESPIPE)}var a=e.stream_ops.read(e,n,i,t,r);if(!o)e.position+=a;return a},write:function(e,n,i,t,r,o){if(t<0||r<0){throw new FS.ErrnoError(ERRNO_CODES.EINVAL)}if(FS.isClosed(e)){throw new FS.ErrnoError(ERRNO_CODES.EBADF)}if((e.flags&2097155)===0){throw new FS.ErrnoError(ERRNO_CODES.EBADF)}if(FS.isDir(e.node.mode)){throw new FS.ErrnoError(ERRNO_CODES.EISDIR)}if(!e.stream_ops.write){throw new FS.ErrnoError(ERRNO_CODES.EINVAL)}if(e.flags&1024){FS.llseek(e,0,2)}var a=typeof r!=="undefined";if(!a){r=e.position}else if(!e.seekable){throw new FS.ErrnoError(ERRNO_CODES.ESPIPE)}var _=e.stream_ops.write(e,n,i,t,r,o);if(!a)e.position+=_;try{if(e.path&&FS.trackingDelegate["onWriteToFile"])FS.trackingDelegate["onWriteToFile"](e.path)}catch(e){console.log("FS.trackingDelegate['onWriteToFile']('"+path+"') threw an exception: "+e.message)}return _},allocate:function(e,n,i){if(FS.isClosed(e)){throw new FS.ErrnoError(ERRNO_CODES.EBADF)}if(n<0||i<=0){throw new FS.ErrnoError(ERRNO_CODES.EINVAL)}if((e.flags&2097155)===0){throw new FS.ErrnoError(ERRNO_CODES.EBADF)}if(!FS.isFile(e.node.mode)&&!FS.isDir(e.node.mode)){throw new FS.ErrnoError(ERRNO_CODES.ENODEV)}if(!e.stream_ops.allocate){throw new FS.ErrnoError(ERRNO_CODES.EOPNOTSUPP)}e.stream_ops.allocate(e,n,i)},mmap:function(e,n,i,t,r,o,a){if((e.flags&2097155)===1){throw new FS.ErrnoError(ERRNO_CODES.EACCES)}if(!e.stream_ops.mmap){throw new FS.ErrnoError(ERRNO_CODES.ENODEV)}return e.stream_ops.mmap(e,n,i,t,r,o,a)},msync:function(e,n,i,t,r){if(!e||!e.stream_ops.msync){return 0}return e.stream_ops.msync(e,n,i,t,r)},munmap:function(e){return 0},ioctl:function(e,n,i){if(!e.stream_ops.ioctl){throw new FS.ErrnoError(ERRNO_CODES.ENOTTY)}return e.stream_ops.ioctl(e,n,i)},readFile:function(e,n){n=n||{};n.flags=n.flags||"r";n.encoding=n.encoding||"binary";if(n.encoding!=="utf8"&&n.encoding!=="binary"){throw new Error('Invalid encoding type "'+n.encoding+'"')}var i;var t=FS.open(e,n.flags);var r=FS.stat(e);var o=r.size;var a=new Uint8Array(o);FS.read(t,a,0,o,0);if(n.encoding==="utf8"){i=UTF8ArrayToString(a,0)}else if(n.encoding==="binary"){i=a}FS.close(t);return i},writeFile:function(e,n,i){i=i||{};i.flags=i.flags||"w";var t=FS.open(e,i.flags,i.mode);if(typeof n==="string"){var r=new Uint8Array(lengthBytesUTF8(n)+1);var o=stringToUTF8Array(n,r,0,r.length);FS.write(t,r,0,o,undefined,i.canOwn)}else if(ArrayBuffer.isView(n)){FS.write(t,n,0,n.byteLength,undefined,i.canOwn)}else{throw new Error("Unsupported data type")}FS.close(t)},cwd:function(){return FS.currentPath},chdir:function(e){var n=FS.lookupPath(e,{follow:true});if(n.node===null){throw new FS.ErrnoError(ERRNO_CODES.ENOENT)}if(!FS.isDir(n.node.mode)){throw new FS.ErrnoError(ERRNO_CODES.ENOTDIR)}var i=FS.nodePermissions(n.node,"x");if(i){throw new FS.ErrnoError(i)}FS.currentPath=n.path},createDefaultDirectories:function(){FS.mkdir("/tmp");FS.mkdir("/home");FS.mkdir("/home/web_user")},createDefaultDevices:function(){FS.mkdir("/dev");FS.registerDevice(FS.makedev(1,3),{read:function(){return 0},write:function(e,n,i,t,r){return t}});FS.mkdev("/dev/null",FS.makedev(1,3));TTY.register(FS.makedev(5,0),TTY.default_tty_ops);TTY.register(FS.makedev(6,0),TTY.default_tty1_ops);FS.mkdev("/dev/tty",FS.makedev(5,0));FS.mkdev("/dev/tty1",FS.makedev(6,0));var e;if(typeof crypto!=="undefined"){var n=new Uint8Array(1);e=function(){crypto.getRandomValues(n);return n[0]}}else if(ENVIRONMENT_IS_NODE){e=function(){return require("crypto")["randomBytes"](1)[0]}}else{e=function(){return Math.random()*256|0}}FS.createDevice("/dev","random",e);FS.createDevice("/dev","urandom",e);FS.mkdir("/dev/shm");FS.mkdir("/dev/shm/tmp")},createSpecialDirectories:function(){FS.mkdir("/proc");FS.mkdir("/proc/self");FS.mkdir("/proc/self/fd");FS.mount({mount:function(){var e=FS.createNode("/proc/self","fd",16384|511,73);e.node_ops={lookup:function(e,n){var i=+n;var t=FS.getStream(i);if(!t)throw new FS.ErrnoError(ERRNO_CODES.EBADF);var r={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:function(){return t.path}}};r.parent=r;return r}};return e}},{},"/proc/self/fd")},createStandardStreams:function(){if(Module["stdin"]){FS.createDevice("/dev","stdin",Module["stdin"])}else{FS.symlink("/dev/tty","/dev/stdin")}if(Module["stdout"]){FS.createDevice("/dev","stdout",null,Module["stdout"])}else{FS.symlink("/dev/tty","/dev/stdout")}if(Module["stderr"]){FS.createDevice("/dev","stderr",null,Module["stderr"])}else{FS.symlink("/dev/tty1","/dev/stderr")}var e=FS.open("/dev/stdin","r");assert(e.fd===0,"invalid handle for stdin ("+e.fd+")");var n=FS.open("/dev/stdout","w");assert(n.fd===1,"invalid handle for stdout ("+n.fd+")");var i=FS.open("/dev/stderr","w");assert(i.fd===2,"invalid handle for stderr ("+i.fd+")")},ensureErrnoError:function(){if(FS.ErrnoError)return;FS.ErrnoError=function e(n,i){this.node=i;this.setErrno=function(e){this.errno=e;for(var n in ERRNO_CODES){if(ERRNO_CODES[n]===e){this.code=n;break}}};this.setErrno(n);this.message=ERRNO_MESSAGES[n];if(this.stack)Object.defineProperty(this,"stack",{value:(new Error).stack,writable:true})};FS.ErrnoError.prototype=new Error;FS.ErrnoError.prototype.constructor=FS.ErrnoError;[ERRNO_CODES.ENOENT].forEach(function(e){FS.genericErrors[e]=new FS.ErrnoError(e);FS.genericErrors[e].stack="<generic error, no stack>"})},staticInit:function(){FS.ensureErrnoError();FS.nameTable=new Array(4096);FS.mount(MEMFS,{},"/");FS.createDefaultDirectories();FS.createDefaultDevices();FS.createSpecialDirectories();FS.filesystems={MEMFS:MEMFS,IDBFS:IDBFS,NODEFS:NODEFS,WORKERFS:WORKERFS}},init:function(e,n,i){assert(!FS.init.initialized,"FS.init was previously called. If you want to initialize later with custom parameters, remove any earlier calls (note that one is automatically added to the generated code)");FS.init.initialized=true;FS.ensureErrnoError();Module["stdin"]=e||Module["stdin"];Module["stdout"]=n||Module["stdout"];Module["stderr"]=i||Module["stderr"];FS.createStandardStreams()},quit:function(){FS.init.initialized=false;var e=Module["_fflush"];if(e)e(0);for(var n=0;n<FS.streams.length;n++){var i=FS.streams[n];if(!i){continue}FS.close(i)}},getMode:function(e,n){var i=0;if(e)i|=292|73;if(n)i|=146;return i},joinPath:function(e,n){var i=PATH.join.apply(null,e);if(n&&i[0]=="/")i=i.substr(1);return i},absolutePath:function(e,n){return PATH.resolve(n,e)},standardizePath:function(e){return PATH.normalize(e)},findObject:function(e,n){var i=FS.analyzePath(e,n);if(i.exists){return i.object}else{___setErrNo(i.error);return null}},analyzePath:function(e,n){try{var i=FS.lookupPath(e,{follow:!n});e=i.path}catch(e){}var t={isRoot:false,exists:false,error:0,name:null,path:null,object:null,parentExists:false,parentPath:null,parentObject:null};try{var i=FS.lookupPath(e,{parent:true});t.parentExists=true;t.parentPath=i.path;t.parentObject=i.node;t.name=PATH.basename(e);i=FS.lookupPath(e,{follow:!n});t.exists=true;t.path=i.path;t.object=i.node;t.name=i.node.name;t.isRoot=i.path==="/"}catch(e){t.error=e.errno}return t},createFolder:function(e,n,i,t){var r=PATH.join2(typeof e==="string"?e:FS.getPath(e),n);var o=FS.getMode(i,t);return FS.mkdir(r,o)},createPath:function(e,n,i,t){e=typeof e==="string"?e:FS.getPath(e);var r=n.split("/").reverse();while(r.length){var o=r.pop();if(!o)continue;var a=PATH.join2(e,o);try{FS.mkdir(a)}catch(e){}e=a}return a},createFile:function(e,n,i,t,r){var o=PATH.join2(typeof e==="string"?e:FS.getPath(e),n);var a=FS.getMode(t,r);return FS.create(o,a)},createDataFile:function(e,n,i,t,r,o){var a=n?PATH.join2(typeof e==="string"?e:FS.getPath(e),n):e;var _=FS.getMode(t,r);var s=FS.create(a,_);if(i){if(typeof i==="string"){var l=new Array(i.length);for(var u=0,c=i.length;u<c;++u)l[u]=i.charCodeAt(u);i=l}FS.chmod(s,_|146);var d=FS.open(s,"w");FS.write(d,i,0,i.length,0,o);FS.close(d);FS.chmod(s,_)}return s},createDevice:function(e,n,i,t){var r=PATH.join2(typeof e==="string"?e:FS.getPath(e),n);var o=FS.getMode(!!i,!!t);if(!FS.createDevice.major)FS.createDevice.major=64;var a=FS.makedev(FS.createDevice.major++,0);FS.registerDevice(a,{open:function(e){e.seekable=false},close:function(e){if(t&&t.buffer&&t.buffer.length){t(10)}},read:function(e,n,t,r,o){var a=0;for(var _=0;_<r;_++){var s;try{s=i()}catch(e){throw new FS.ErrnoError(ERRNO_CODES.EIO)}if(s===undefined&&a===0){throw new FS.ErrnoError(ERRNO_CODES.EAGAIN)}if(s===null||s===undefined)break;a++;n[t+_]=s}if(a){e.node.timestamp=Date.now()}return a},write:function(e,n,i,r,o){for(var a=0;a<r;a++){try{t(n[i+a])}catch(e){throw new FS.ErrnoError(ERRNO_CODES.EIO)}}if(r){e.node.timestamp=Date.now()}return a}});return FS.mkdev(r,o,a)},createLink:function(e,n,i,t,r){var o=PATH.join2(typeof e==="string"?e:FS.getPath(e),n);return FS.symlink(i,o)},forceLoadFile:function(e){if(e.isDevice||e.isFolder||e.link||e.contents)return true;var n=true;if(typeof XMLHttpRequest!=="undefined"){throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.")}else if(Module["read"]){try{e.contents=intArrayFromString(Module["read"](e.url),true);e.usedBytes=e.contents.length}catch(e){n=false}}else{throw new Error("Cannot load without read() or XMLHttpRequest.")}if(!n)___setErrNo(ERRNO_CODES.EIO);return n},createLazyFile:function(e,n,i,t,r){function o(){this.lengthKnown=false;this.chunks=[]}o.prototype.get=function e(n){if(n>this.length-1||n<0){return undefined}var i=n%this.chunkSize;var t=n/this.chunkSize|0;return this.getter(t)[i]};o.prototype.setDataGetter=function e(n){this.getter=n};o.prototype.cacheLength=function e(){var n=new XMLHttpRequest;n.open("HEAD",i,false);n.send(null);if(!(n.status>=200&&n.status<300||n.status===304))throw new Error("Couldn't load "+i+". Status: "+n.status);var t=Number(n.getResponseHeader("Content-length"));var r;var o=(r=n.getResponseHeader("Accept-Ranges"))&&r==="bytes";var a=(r=n.getResponseHeader("Content-Encoding"))&&r==="gzip";var _=1024*1024;if(!o)_=t;var s=function(e,n){if(e>n)throw new Error("invalid range ("+e+", "+n+") or no bytes requested!");if(n>t-1)throw new Error("only "+t+" bytes available! programmer error!");var r=new XMLHttpRequest;r.open("GET",i,false);if(t!==_)r.setRequestHeader("Range","bytes="+e+"-"+n);if(typeof Uint8Array!="undefined")r.responseType="arraybuffer";if(r.overrideMimeType){r.overrideMimeType("text/plain; charset=x-user-defined")}r.send(null);if(!(r.status>=200&&r.status<300||r.status===304))throw new Error("Couldn't load "+i+". Status: "+r.status);if(r.response!==undefined){return new Uint8Array(r.response||[])}else{return intArrayFromString(r.responseText||"",true)}};var l=this;l.setDataGetter(function(e){var n=e*_;var i=(e+1)*_-1;i=Math.min(i,t-1);if(typeof l.chunks[e]==="undefined"){l.chunks[e]=s(n,i)}if(typeof l.chunks[e]==="undefined")throw new Error("doXHR failed!");return l.chunks[e]});if(a||!t){_=t=1;t=this.getter(0).length;_=t;console.log("LazyFiles on gzip forces download of the whole file when length is accessed")}this._length=t;this._chunkSize=_;this.lengthKnown=true};if(typeof XMLHttpRequest!=="undefined"){if(!ENVIRONMENT_IS_WORKER)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var a=new o;Object.defineProperties(a,{length:{get:function(){if(!this.lengthKnown){this.cacheLength()}return this._length}},chunkSize:{get:function(){if(!this.lengthKnown){this.cacheLength()}return this._chunkSize}}});var _={isDevice:false,contents:a}}else{var _={isDevice:false,url:i}}var s=FS.createFile(e,n,_,t,r);if(_.contents){s.contents=_.contents}else if(_.url){s.contents=null;s.url=_.url}Object.defineProperties(s,{usedBytes:{get:function(){return this.contents.length}}});var l={};var u=Object.keys(s.stream_ops);u.forEach(function(e){var n=s.stream_ops[e];l[e]=function e(){if(!FS.forceLoadFile(s)){throw new FS.ErrnoError(ERRNO_CODES.EIO)}return n.apply(null,arguments)}});l.read=function e(n,i,t,r,o){if(!FS.forceLoadFile(s)){throw new FS.ErrnoError(ERRNO_CODES.EIO)}var a=n.node.contents;if(o>=a.length)return 0;var _=Math.min(a.length-o,r);assert(_>=0);if(a.slice){for(var l=0;l<_;l++){i[t+l]=a[o+l]}}else{for(var l=0;l<_;l++){i[t+l]=a.get(o+l)}}return _};s.stream_ops=l;return s},createPreloadedFile:function(e,n,i,t,r,o,a,_,s,l){Browser.init();var u=n?PATH.resolve(PATH.join2(e,n)):e;var c=getUniqueRunDependency("cp "+u);function d(i){function d(i){if(l)l();if(!_){FS.createDataFile(e,n,i,t,r,s)}if(o)o();removeRunDependency(c)}var f=false;Module["preloadPlugins"].forEach(function(e){if(f)return;if(e["canHandle"](u)){e["handle"](i,u,d,function(){if(a)a();removeRunDependency(c)});f=true}});if(!f)d(i)}addRunDependency(c);if(typeof i=="string"){Browser.asyncLoad(i,function(e){d(e)},a)}else{d(i)}},indexedDB:function(){return window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB},DB_NAME:function(){return"EM_FS_"+window.location.pathname},DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:function(e,n,i){n=n||function(){};i=i||function(){};var t=FS.indexedDB();try{var r=t.open(FS.DB_NAME(),FS.DB_VERSION)}catch(e){return i(e)}r.onupgradeneeded=function e(){console.log("creating db");var n=r.result;n.createObjectStore(FS.DB_STORE_NAME)};r.onsuccess=function t(){var o=r.result;var a=o.transaction([FS.DB_STORE_NAME],"readwrite");var _=a.objectStore(FS.DB_STORE_NAME);var s=0,l=0,u=e.length;function c(){if(l==0)n();else i()}e.forEach(function(e){var n=_.put(FS.analyzePath(e).object.contents,e);n.onsuccess=function e(){s++;if(s+l==u)c()};n.onerror=function e(){l++;if(s+l==u)c()}});a.onerror=i};r.onerror=i},loadFilesFromDB:function(e,n,i){n=n||function(){};i=i||function(){};var t=FS.indexedDB();try{var r=t.open(FS.DB_NAME(),FS.DB_VERSION)}catch(e){return i(e)}r.onupgradeneeded=i;r.onsuccess=function t(){var o=r.result;try{var a=o.transaction([FS.DB_STORE_NAME],"readonly")}catch(e){i(e);return}var _=a.objectStore(FS.DB_STORE_NAME);var s=0,l=0,u=e.length;function c(){if(l==0)n();else i()}e.forEach(function(e){var n=_.get(e);n.onsuccess=function i(){if(FS.analyzePath(e).exists){FS.unlink(e)}FS.createDataFile(PATH.dirname(e),PATH.basename(e),n.result,true,true,true);s++;if(s+l==u)c()};n.onerror=function e(){l++;if(s+l==u)c()}});a.onerror=i};r.onerror=i}};var SYSCALLS={DEFAULT_POLLMASK:5,mappings:{},umask:511,calculateAt:function(e,n){if(n[0]!=="/"){var i;if(e===-100){i=FS.cwd()}else{var t=FS.getStream(e);if(!t)throw new FS.ErrnoError(ERRNO_CODES.EBADF);i=t.path}n=PATH.join2(i,n)}return n},doStat:function(e,n,i){try{var t=e(n)}catch(e){if(e&&e.node&&PATH.normalize(n)!==PATH.normalize(FS.getPath(e.node))){return-ERRNO_CODES.ENOTDIR}throw e}HEAP32[i>>2]=t.dev;HEAP32[i+4>>2]=0;HEAP32[i+8>>2]=t.ino;HEAP32[i+12>>2]=t.mode;HEAP32[i+16>>2]=t.nlink;HEAP32[i+20>>2]=t.uid;HEAP32[i+24>>2]=t.gid;HEAP32[i+28>>2]=t.rdev;HEAP32[i+32>>2]=0;HEAP32[i+36>>2]=t.size;HEAP32[i+40>>2]=4096;HEAP32[i+44>>2]=t.blocks;HEAP32[i+48>>2]=t.atime.getTime()/1e3|0;HEAP32[i+52>>2]=0;HEAP32[i+56>>2]=t.mtime.getTime()/1e3|0;HEAP32[i+60>>2]=0;HEAP32[i+64>>2]=t.ctime.getTime()/1e3|0;HEAP32[i+68>>2]=0;HEAP32[i+72>>2]=t.ino;return 0},doMsync:function(e,n,i,t){var r=new Uint8Array(HEAPU8.subarray(e,e+i));FS.msync(n,r,0,i,t)},doMkdir:function(e,n){e=PATH.normalize(e);if(e[e.length-1]==="/")e=e.substr(0,e.length-1);FS.mkdir(e,n,0);return 0},doMknod:function(e,n,i){switch(n&61440){case 32768:case 8192:case 24576:case 4096:case 49152:break;default:return-ERRNO_CODES.EINVAL}FS.mknod(e,n,i);return 0},doReadlink:function(e,n,i){if(i<=0)return-ERRNO_CODES.EINVAL;var t=FS.readlink(e);var r=Math.min(i,lengthBytesUTF8(t));var o=HEAP8[n+r];stringToUTF8(t,n,i+1);HEAP8[n+r]=o;return r},doAccess:function(e,n){if(n&~7){return-ERRNO_CODES.EINVAL}var i;var t=FS.lookupPath(e,{follow:true});i=t.node;var r="";if(n&4)r+="r";if(n&2)r+="w";if(n&1)r+="x";if(r&&FS.nodePermissions(i,r)){return-ERRNO_CODES.EACCES}return 0},doDup:function(e,n,i){var t=FS.getStream(i);if(t)FS.close(t);return FS.open(e,n,0,i,i).fd},doReadv:function(e,n,i,t){var r=0;for(var o=0;o<i;o++){var a=HEAP32[n+o*8>>2];var _=HEAP32[n+(o*8+4)>>2];var s=FS.read(e,HEAP8,a,_,t);if(s<0)return-1;r+=s;if(s<_)break}return r},doWritev:function(e,n,i,t){var r=0;for(var o=0;o<i;o++){var a=HEAP32[n+o*8>>2];var _=HEAP32[n+(o*8+4)>>2];var s=FS.write(e,HEAP8,a,_,t);if(s<0)return-1;r+=s}return r},varargs:0,get:function(e){SYSCALLS.varargs+=4;var n=HEAP32[SYSCALLS.varargs-4>>2];return n},getStr:function(){var e=Pointer_stringify(SYSCALLS.get());return e},getStreamFromFD:function(){var e=FS.getStream(SYSCALLS.get());if(!e)throw new FS.ErrnoError(ERRNO_CODES.EBADF);return e},getSocketFromFD:function(){var e=SOCKFS.getSocket(SYSCALLS.get());if(!e)throw new FS.ErrnoError(ERRNO_CODES.EBADF);return e},getSocketAddress:function(e){var n=SYSCALLS.get(),i=SYSCALLS.get();if(e&&n===0)return null;var t=__read_sockaddr(n,i);if(t.errno)throw new FS.ErrnoError(t.errno);t.addr=DNS.lookup_addr(t.addr)||t.addr;return t},get64:function(){var e=SYSCALLS.get(),n=SYSCALLS.get();if(e>=0)assert(n===0);else assert(n===-1);return e},getZero:function(){assert(SYSCALLS.get()===0)}};function ___syscall140(e,n){SYSCALLS.varargs=n;try{var i=SYSCALLS.getStreamFromFD(),t=SYSCALLS.get(),r=SYSCALLS.get(),o=SYSCALLS.get(),a=SYSCALLS.get();var _=r;FS.llseek(i,_,a);HEAP32[o>>2]=i.position;if(i.getdents&&_===0&&a===0)i.getdents=null;return 0}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return-e.errno}}function ___syscall145(e,n){SYSCALLS.varargs=n;try{var i=SYSCALLS.getStreamFromFD(),t=SYSCALLS.get(),r=SYSCALLS.get();return SYSCALLS.doReadv(i,t,r)}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return-e.errno}}function ___syscall146(e,n){SYSCALLS.varargs=n;try{var i=SYSCALLS.getStreamFromFD(),t=SYSCALLS.get(),r=SYSCALLS.get();return SYSCALLS.doWritev(i,t,r)}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return-e.errno}}function ___syscall183(e,n){SYSCALLS.varargs=n;try{var i=SYSCALLS.get(),t=SYSCALLS.get();if(t===0)return-ERRNO_CODES.EINVAL;var r=FS.cwd();var o=lengthBytesUTF8(r);if(t<o+1)return-ERRNO_CODES.ERANGE;stringToUTF8(r,i,t);return i}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return-e.errno}}var PROCINFO={ppid:1,pid:42,sid:42,pgid:42};function ___syscall20(e,n){SYSCALLS.varargs=n;try{return PROCINFO.pid}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return-e.errno}}function ___syscall221(e,n){SYSCALLS.varargs=n;try{var i=SYSCALLS.getStreamFromFD(),t=SYSCALLS.get();switch(t){case 0:{var r=SYSCALLS.get();if(r<0){return-ERRNO_CODES.EINVAL}var o;o=FS.open(i.path,i.flags,0,r);return o.fd};case 1:case 2:return 0;case 3:return i.flags;case 4:{var r=SYSCALLS.get();i.flags|=r;return 0};case 12:case 12:{var r=SYSCALLS.get();var a=0;HEAP16[r+a>>1]=2;return 0};case 13:case 14:case 13:case 14:return 0;case 16:case 8:return-ERRNO_CODES.EINVAL;case 9:___setErrNo(ERRNO_CODES.EINVAL);return-1;default:{return-ERRNO_CODES.EINVAL}}}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return-e.errno}}function ___syscall5(e,n){SYSCALLS.varargs=n;try{var i=SYSCALLS.getStr(),t=SYSCALLS.get(),r=SYSCALLS.get();var o=FS.open(i,t,r);return o.fd}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return-e.errno}}function ___syscall54(e,n){SYSCALLS.varargs=n;try{var i=SYSCALLS.getStreamFromFD(),t=SYSCALLS.get();switch(t){case 21509:case 21505:{if(!i.tty)return-ERRNO_CODES.ENOTTY;return 0};case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:{if(!i.tty)return-ERRNO_CODES.ENOTTY;return 0};case 21519:{if(!i.tty)return-ERRNO_CODES.ENOTTY;var r=SYSCALLS.get();HEAP32[r>>2]=0;return 0};case 21520:{if(!i.tty)return-ERRNO_CODES.ENOTTY;return-ERRNO_CODES.EINVAL};case 21531:{var r=SYSCALLS.get();return FS.ioctl(i,t,r)};case 21523:{if(!i.tty)return-ERRNO_CODES.ENOTTY;return 0};case 21524:{if(!i.tty)return-ERRNO_CODES.ENOTTY;return 0};default:abort("bad ioctl syscall "+t)}}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return-e.errno}}function ___syscall6(e,n){SYSCALLS.varargs=n;try{var i=SYSCALLS.getStreamFromFD();FS.close(i);return 0}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return-e.errno}}function ___syscall91(e,n){SYSCALLS.varargs=n;try{var i=SYSCALLS.get(),t=SYSCALLS.get();var r=SYSCALLS.mappings[i];if(!r)return 0;if(t===r.len){var o=FS.getStream(r.fd);SYSCALLS.doMsync(i,o,t,r.flags);FS.munmap(o);SYSCALLS.mappings[i]=null;if(r.allocated){_free(r.malloc)}}return 0}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return-e.errno}}function ___unlock(){}function _abort(){Module["abort"]()}function _emscripten_get_now(){abort()}function _emscripten_get_now_is_monotonic(){return ENVIRONMENT_IS_NODE||typeof dateNow!=="undefined"||(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)&&self["performance"]&&self["performance"]["now"]}function _clock_gettime(e,n){var i;if(e===0){i=Date.now()}else if(e===1&&_emscripten_get_now_is_monotonic()){i=_emscripten_get_now()}else{___setErrNo(ERRNO_CODES.EINVAL);return-1}HEAP32[n>>2]=i/1e3|0;HEAP32[n+4>>2]=i%1e3*1e3*1e3|0;return 0}function __exit(e){exit(e)}function _exit(e){__exit(e)}function _getenv(e){if(e===0)return 0;e=Pointer_stringify(e);if(!ENV.hasOwnProperty(e))return 0;if(_getenv.ret)_free(_getenv.ret);_getenv.ret=allocateUTF8(ENV[e]);return _getenv.ret}function _gettimeofday(e){var n=Date.now();HEAP32[e>>2]=n/1e3|0;HEAP32[e+4>>2]=n%1e3*1e3|0;return 0}var _llvm_ceil_f64=Math_ceil;var _llvm_fabs_f32=Math_abs;function _llvm_log10_f32(e){return Math.log(e)/Math.LN10}function _llvm_log10_f64(){return _llvm_log10_f32.apply(null,arguments)}var _llvm_log_f64=Math_log;var _llvm_pow_f32=Math_pow;var _llvm_pow_f64=Math_pow;var _llvm_sqrt_f64=Math_sqrt;function _llvm_stackrestore(e){var n=_llvm_stacksave;var i=n.LLVM_SAVEDSTACKS[e];n.LLVM_SAVEDSTACKS.splice(e,1);stackRestore(i)}function _llvm_stacksave(){var e=_llvm_stacksave;if(!e.LLVM_SAVEDSTACKS){e.LLVM_SAVEDSTACKS=[]}e.LLVM_SAVEDSTACKS.push(stackSave());return e.LLVM_SAVEDSTACKS.length-1}function _llvm_trap(){abort("trap!")}var ___tm_current=STATICTOP;STATICTOP+=48;var ___tm_timezone=allocate(intArrayFromString("GMT"),"i8",ALLOC_STATIC);function _tzset(){if(_tzset.called)return;_tzset.called=true;HEAP32[__get_timezone()>>2]=(new Date).getTimezoneOffset()*60;var e=new Date(2e3,0,1);var n=new Date(2e3,6,1);HEAP32[__get_daylight()>>2]=Number(e.getTimezoneOffset()!=n.getTimezoneOffset());function i(e){var n=e.toTimeString().match(/\(([A-Za-z ]+)\)$/);return n?n[1]:"GMT"}var t=i(e);var r=i(n);var o=allocate(intArrayFromString(t),"i8",ALLOC_NORMAL);var a=allocate(intArrayFromString(r),"i8",ALLOC_NORMAL);if(n.getTimezoneOffset()<e.getTimezoneOffset()){HEAP32[__get_tzname()>>2]=o;HEAP32[__get_tzname()+4>>2]=a}else{HEAP32[__get_tzname()>>2]=a;HEAP32[__get_tzname()+4>>2]=o}}function _localtime_r(e,n){_tzset();var i=new Date(HEAP32[e>>2]*1e3);HEAP32[n>>2]=i.getSeconds();HEAP32[n+4>>2]=i.getMinutes();HEAP32[n+8>>2]=i.getHours();HEAP32[n+12>>2]=i.getDate();HEAP32[n+16>>2]=i.getMonth();HEAP32[n+20>>2]=i.getFullYear()-1900;HEAP32[n+24>>2]=i.getDay();var t=new Date(i.getFullYear(),0,1);var r=(i.getTime()-t.getTime())/(1e3*60*60*24)|0;HEAP32[n+28>>2]=r;HEAP32[n+36>>2]=-(i.getTimezoneOffset()*60);var o=new Date(2e3,6,1).getTimezoneOffset();var a=t.getTimezoneOffset();var _=(o!=a&&i.getTimezoneOffset()==Math.min(a,o))|0;HEAP32[n+32>>2]=_;var s=HEAP32[__get_tzname()+(_?4:0)>>2];HEAP32[n+40>>2]=s;return n}function _localtime(e){return _localtime_r(e,___tm_current)}function _longjmp(e,n){Module["setThrew"](e,n||1);throw"longjmp"}function _emscripten_memcpy_big(e,n,i){HEAPU8.set(HEAPU8.subarray(n,n+i),e);return e}function _usleep(e){var n=e/1e3;if((ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)&&self["performance"]&&self["performance"]["now"]){var i=self["performance"]["now"]();while(self["performance"]["now"]()-i<n){}}else{var i=Date.now();while(Date.now()-i<n){}}return 0}function _nanosleep(e,n){var i=HEAP32[e>>2];var t=HEAP32[e+4>>2];if(n!==0){HEAP32[n>>2]=0;HEAP32[n+4>>2]=0}return _usleep(i*1e6+t/1e3)}function _pthread_attr_destroy(e){return 0}function _pthread_attr_init(e){return 0}function _pthread_attr_setdetachstate(){}function _pthread_attr_setstacksize(){}function _pthread_cond_destroy(){return 0}function _pthread_cond_init(){return 0}function _pthread_cond_signal(){return 0}function _pthread_cond_wait(){return 0}function _pthread_create(){return 11}var PTHREAD_SPECIFIC={};function _pthread_getspecific(e){return PTHREAD_SPECIFIC[e]||0}function _pthread_join(){}var PTHREAD_SPECIFIC_NEXT_KEY=1;function _pthread_key_create(e,n){if(e==0){return ERRNO_CODES.EINVAL}HEAP32[e>>2]=PTHREAD_SPECIFIC_NEXT_KEY;PTHREAD_SPECIFIC[PTHREAD_SPECIFIC_NEXT_KEY]=0;PTHREAD_SPECIFIC_NEXT_KEY++;return 0}function _pthread_mutex_destroy(){}function _pthread_mutex_init(){}function _pthread_mutexattr_destroy(){}function _pthread_mutexattr_init(){}function _pthread_mutexattr_settype(){}function _pthread_once(e,n){if(!_pthread_once.seen)_pthread_once.seen={};if(e in _pthread_once.seen)return;Module["dynCall_v"](n);_pthread_once.seen[e]=1}function _pthread_setspecific(e,n){if(!(e in PTHREAD_SPECIFIC)){return ERRNO_CODES.EINVAL}PTHREAD_SPECIFIC[e]=n;return 0}function _putenv(e){if(e===0){___setErrNo(ERRNO_CODES.EINVAL);return-1}e=Pointer_stringify(e);var n=e.indexOf("=");if(e===""||e.indexOf("=")===-1){___setErrNo(ERRNO_CODES.EINVAL);return-1}var i=e.slice(0,n);var t=e.slice(n+1);if(!(i in ENV)||ENV[i]!==t){ENV[i]=t;___buildEnvironment(__get_environ())}return 0}function __isLeapYear(e){return e%4===0&&(e%100!==0||e%400===0)}function __arraySum(e,n){var i=0;for(var t=0;t<=n;i+=e[t++]);return i}var __MONTH_DAYS_LEAP=[31,29,31,30,31,30,31,31,30,31,30,31];var __MONTH_DAYS_REGULAR=[31,28,31,30,31,30,31,31,30,31,30,31];function __addDays(e,n){var i=new Date(e.getTime());while(n>0){var t=__isLeapYear(i.getFullYear());var r=i.getMonth();var o=(t?__MONTH_DAYS_LEAP:__MONTH_DAYS_REGULAR)[r];if(n>o-i.getDate()){n-=o-i.getDate()+1;i.setDate(1);if(r<11){i.setMonth(r+1)}else{i.setMonth(0);i.setFullYear(i.getFullYear()+1)}}else{i.setDate(i.getDate()+n);return i}}return i}function _strftime(e,n,i,t){var r=HEAP32[t+40>>2];var o={tm_sec:HEAP32[t>>2],tm_min:HEAP32[t+4>>2],tm_hour:HEAP32[t+8>>2],tm_mday:HEAP32[t+12>>2],tm_mon:HEAP32[t+16>>2],tm_year:HEAP32[t+20>>2],tm_wday:HEAP32[t+24>>2],tm_yday:HEAP32[t+28>>2],tm_isdst:HEAP32[t+32>>2],tm_gmtoff:HEAP32[t+36>>2],tm_zone:r?Pointer_stringify(r):""};var a=Pointer_stringify(i);var _={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S"};for(var s in _){a=a.replace(new RegExp(s,"g"),_[s])}var l=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];var u=["January","February","March","April","May","June","July","August","September","October","November","December"];function c(e,n,i){var t=typeof e==="number"?e.toString():e||"";while(t.length<n){t=i[0]+t}return t}function d(e,n){return c(e,n,"0")}function f(e,n){function i(e){return e<0?-1:e>0?1:0}var t;if((t=i(e.getFullYear()-n.getFullYear()))===0){if((t=i(e.getMonth()-n.getMonth()))===0){t=i(e.getDate()-n.getDate())}}return t}function m(e){switch(e.getDay()){case 0:return new Date(e.getFullYear()-1,11,29);case 1:return e;case 2:return new Date(e.getFullYear(),0,3);case 3:return new Date(e.getFullYear(),0,2);case 4:return new Date(e.getFullYear(),0,1);case 5:return new Date(e.getFullYear()-1,11,31);case 6:return new Date(e.getFullYear()-1,11,30)}}function p(e){var n=__addDays(new Date(e.tm_year+1900,0,1),e.tm_yday);var i=new Date(n.getFullYear(),0,4);var t=new Date(n.getFullYear()+1,0,4);var r=m(i);var o=m(t);if(f(r,n)<=0){if(f(o,n)<=0){return n.getFullYear()+1}else{return n.getFullYear()}}else{return n.getFullYear()-1}}var S={"%a":function(e){return l[e.tm_wday].substring(0,3)},"%A":function(e){return l[e.tm_wday]},"%b":function(e){return u[e.tm_mon].substring(0,3)},"%B":function(e){return u[e.tm_mon]},"%C":function(e){var n=e.tm_year+1900;return d(n/100|0,2)},"%d":function(e){return d(e.tm_mday,2)},"%e":function(e){return c(e.tm_mday,2," ")},"%g":function(e){return p(e).toString().substring(2)},"%G":function(e){return p(e)},"%H":function(e){return d(e.tm_hour,2)},"%I":function(e){var n=e.tm_hour;if(n==0)n=12;else if(n>12)n-=12;return d(n,2)},"%j":function(e){return d(e.tm_mday+__arraySum(__isLeapYear(e.tm_year+1900)?__MONTH_DAYS_LEAP:__MONTH_DAYS_REGULAR,e.tm_mon-1),3)},"%m":function(e){return d(e.tm_mon+1,2)},"%M":function(e){return d(e.tm_min,2)},"%n":function(){return"\n"},"%p":function(e){if(e.tm_hour>=0&&e.tm_hour<12){return"AM"}else{return"PM"}},"%S":function(e){return d(e.tm_sec,2)},"%t":function(){return"\t"},"%u":function(e){var n=new Date(e.tm_year+1900,e.tm_mon+1,e.tm_mday,0,0,0,0);return n.getDay()||7},"%U":function(e){var n=new Date(e.tm_year+1900,0,1);var i=n.getDay()===0?n:__addDays(n,7-n.getDay());var t=new Date(e.tm_year+1900,e.tm_mon,e.tm_mday);if(f(i,t)<0){var r=__arraySum(__isLeapYear(t.getFullYear())?__MONTH_DAYS_LEAP:__MONTH_DAYS_REGULAR,t.getMonth()-1)-31;var o=31-i.getDate();var a=o+r+t.getDate();return d(Math.ceil(a/7),2)}return f(i,n)===0?"01":"00"},"%V":function(e){var n=new Date(e.tm_year+1900,0,4);var i=new Date(e.tm_year+1901,0,4);var t=m(n);var r=m(i);var o=__addDays(new Date(e.tm_year+1900,0,1),e.tm_yday);if(f(o,t)<0){return"53"}if(f(r,o)<=0){return"01"}var a;if(t.getFullYear()<e.tm_year+1900){a=e.tm_yday+32-t.getDate()}else{a=e.tm_yday+1-t.getDate()}return d(Math.ceil(a/7),2)},"%w":function(e){var n=new Date(e.tm_year+1900,e.tm_mon+1,e.tm_mday,0,0,0,0);return n.getDay()},"%W":function(e){var n=new Date(e.tm_year,0,1);var i=n.getDay()===1?n:__addDays(n,n.getDay()===0?1:7-n.getDay()+1);var t=new Date(e.tm_year+1900,e.tm_mon,e.tm_mday);if(f(i,t)<0){var r=__arraySum(__isLeapYear(t.getFullYear())?__MONTH_DAYS_LEAP:__MONTH_DAYS_REGULAR,t.getMonth()-1)-31;var o=31-i.getDate();var a=o+r+t.getDate();return d(Math.ceil(a/7),2)}return f(i,n)===0?"01":"00"},"%y":function(e){return(e.tm_year+1900).toString().substring(2)},"%Y":function(e){return e.tm_year+1900},"%z":function(e){var n=e.tm_gmtoff;var i=n>=0;n=Math.abs(n)/60;n=n/60*100+n%60;return(i?"+":"-")+String("0000"+n).slice(-4)},"%Z":function(e){return e.tm_zone},"%%":function(){return"%"}};for(var s in S){if(a.indexOf(s)>=0){a=a.replace(new RegExp(s,"g"),S[s](o))}}var E=intArrayFromString(a,false);if(E.length>n){return 0}writeArrayToMemory(E,e);return E.length-1}function _strftime_l(e,n,i,t){return _strftime(e,n,i,t)}function _sysconf(e){switch(e){case 30:return PAGE_SIZE;case 85:var n=2*1024*1024*1024-65536;return n/PAGE_SIZE;case 132:case 133:case 12:case 137:case 138:case 15:case 235:case 16:case 17:case 18:case 19:case 20:case 149:case 13:case 10:case 236:case 153:case 9:case 21:case 22:case 159:case 154:case 14:case 77:case 78:case 139:case 80:case 81:case 82:case 68:case 67:case 164:case 11:case 29:case 47:case 48:case 95:case 52:case 51:case 46:return 200809;case 79:return 0;case 27:case 246:case 127:case 128:case 23:case 24:case 160:case 161:case 181:case 182:case 242:case 183:case 184:case 243:case 244:case 245:case 165:case 178:case 179:case 49:case 50:case 168:case 169:case 175:case 170:case 171:case 172:case 97:case 76:case 32:case 173:case 35:return-1;case 176:case 177:case 7:case 155:case 8:case 157:case 125:case 126:case 92:case 93:case 129:case 130:case 131:case 94:case 91:return 1;case 74:case 60:case 69:case 70:case 4:return 1024;case 31:case 42:case 72:return 32;case 87:case 26:case 33:return 2147483647;case 34:case 1:return 47839;case 38:case 36:return 99;case 43:case 37:return 2048;case 0:return 2097152;case 3:return 65536;case 28:return 32768;case 44:return 32767;case 75:return 16384;case 39:return 1e3;case 89:return 700;case 71:return 256;case 40:return 255;case 2:return 100;case 180:return 64;case 25:return 20;case 5:return 16;case 6:return 6;case 73:return 4;case 84:{if(typeof navigator==="object")return navigator["hardwareConcurrency"]||1;return 1}}___setErrNo(ERRNO_CODES.EINVAL);return-1}function _time(e){var n=Date.now()/1e3|0;if(e){HEAP32[e>>2]=n}return n}function _times(e){if(e!==0){_memset(e,0,16)}return 0}function _zlt_js_file_close(){err("missing function: zlt_js_file_close");abort(-1)}function _zlt_js_file_isopen(){err("missing function: zlt_js_file_isopen");abort(-1)}function _zlt_js_file_open(){err("missing function: zlt_js_file_open");abort(-1)}function _zlt_js_file_read(){err("missing function: zlt_js_file_read");abort(-1)}function _zlt_js_file_size(){err("missing function: zlt_js_file_size");abort(-1)}function _zlt_js_file_write(){err("missing function: zlt_js_file_write");abort(-1)}FS.staticInit();__ATINIT__.unshift(function(){if(!Module["noFSInit"]&&!FS.init.initialized)FS.init()});__ATMAIN__.push(function(){FS.ignorePermissions=false});__ATEXIT__.push(function(){FS.quit()});__ATINIT__.unshift(function(){TTY.init()});__ATEXIT__.push(function(){TTY.shutdown()});if(ENVIRONMENT_IS_NODE){var fs=require("fs");var NODEJS_PATH=require("path");NODEFS.staticInit()}if(ENVIRONMENT_IS_NODE){_emscripten_get_now=function e(){var n=process["hrtime"]();return n[0]*1e3+n[1]/1e6}}else if(typeof dateNow!=="undefined"){_emscripten_get_now=dateNow}else if(typeof self==="object"&&self["performance"]&&typeof self["performance"]["now"]==="function"){_emscripten_get_now=function(){return self["performance"]["now"]()}}else if(typeof performance==="object"&&typeof performance["now"]==="function"){_emscripten_get_now=function(){return performance["now"]()}}else{_emscripten_get_now=Date.now}DYNAMICTOP_PTR=staticAlloc(4);STACK_BASE=STACKTOP=alignMemory(STATICTOP);STACK_MAX=STACK_BASE+TOTAL_STACK;DYNAMIC_BASE=alignMemory(STACK_MAX);HEAP32[DYNAMICTOP_PTR>>2]=DYNAMIC_BASE;staticSealed=true;var ASSERTIONS=false;function intArrayFromString(e,n,i){var t=i>0?i:lengthBytesUTF8(e)+1;var r=new Array(t);var o=stringToUTF8Array(e,r,0,r.length);if(n)r.length=o;return r}Module["wasmTableSize"]=10928;Module["wasmMaxTableSize"]=10928;function invoke_dd(e,n){var i=stackSave();try{return Module["dynCall_dd"](e,n)}catch(e){stackRestore(i);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_i(e){var n=stackSave();try{return Module["dynCall_i"](e)}catch(e){stackRestore(n);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_ii(e,n){var i=stackSave();try{return Module["dynCall_ii"](e,n)}catch(e){stackRestore(i);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_iif(e,n,i){var t=stackSave();try{return Module["dynCall_iif"](e,n,i)}catch(e){stackRestore(t);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_iiffi(e,n,i,t,r){var o=stackSave();try{return Module["dynCall_iiffi"](e,n,i,t,r)}catch(e){stackRestore(o);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_iii(e,n,i){var t=stackSave();try{return Module["dynCall_iii"](e,n,i)}catch(e){stackRestore(t);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_iiif(e,n,i,t){var r=stackSave();try{return Module["dynCall_iiif"](e,n,i,t)}catch(e){stackRestore(r);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_iiiffi(e,n,i,t,r,o){var a=stackSave();try{return Module["dynCall_iiiffi"](e,n,i,t,r,o)}catch(e){stackRestore(a);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_iiifii(e,n,i,t,r,o){var a=stackSave();try{return Module["dynCall_iiifii"](e,n,i,t,r,o)}catch(e){stackRestore(a);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_iiii(e,n,i,t){var r=stackSave();try{return Module["dynCall_iiii"](e,n,i,t)}catch(e){stackRestore(r);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_iiiid(e,n,i,t,r){var o=stackSave();try{return Module["dynCall_iiiid"](e,n,i,t,r)}catch(e){stackRestore(o);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_iiiif(e,n,i,t,r){var o=stackSave();try{return Module["dynCall_iiiif"](e,n,i,t,r)}catch(e){stackRestore(o);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_iiiifi(e,n,i,t,r,o){var a=stackSave();try{return Module["dynCall_iiiifi"](e,n,i,t,r,o)}catch(e){stackRestore(a);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_iiiifii(e,n,i,t,r,o,a){var _=stackSave();try{return Module["dynCall_iiiifii"](e,n,i,t,r,o,a)}catch(e){stackRestore(_);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_iiiii(e,n,i,t,r){var o=stackSave();try{return Module["dynCall_iiiii"](e,n,i,t,r)}catch(e){stackRestore(o);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_iiiiid(e,n,i,t,r,o){var a=stackSave();try{return Module["dynCall_iiiiid"](e,n,i,t,r,o)}catch(e){stackRestore(a);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_iiiiiffff(e,n,i,t,r,o,a,_,s){var l=stackSave();try{return Module["dynCall_iiiiiffff"](e,n,i,t,r,o,a,_,s)}catch(e){stackRestore(l);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_iiiiifi(e,n,i,t,r,o,a){var _=stackSave();try{return Module["dynCall_iiiiifi"](e,n,i,t,r,o,a)}catch(e){stackRestore(_);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_iiiiifiii(e,n,i,t,r,o,a,_,s){var l=stackSave();try{return Module["dynCall_iiiiifiii"](e,n,i,t,r,o,a,_,s)}catch(e){stackRestore(l);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_iiiiii(e,n,i,t,r,o){var a=stackSave();try{return Module["dynCall_iiiiii"](e,n,i,t,r,o)}catch(e){stackRestore(a);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_iiiiiid(e,n,i,t,r,o,a){var _=stackSave();try{return Module["dynCall_iiiiiid"](e,n,i,t,r,o,a)}catch(e){stackRestore(_);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_iiiiiii(e,n,i,t,r,o,a){var _=stackSave();try{return Module["dynCall_iiiiiii"](e,n,i,t,r,o,a)}catch(e){stackRestore(_);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_iiiiiiiffff(e,n,i,t,r,o,a,_,s,l,u){var c=stackSave();try{return Module["dynCall_iiiiiiiffff"](e,n,i,t,r,o,a,_,s,l,u)}catch(e){stackRestore(c);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_iiiiiiii(e,n,i,t,r,o,a,_){var s=stackSave();try{return Module["dynCall_iiiiiiii"](e,n,i,t,r,o,a,_)}catch(e){stackRestore(s);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_iiiiiiiii(e,n,i,t,r,o,a,_,s){var l=stackSave();try{return Module["dynCall_iiiiiiiii"](e,n,i,t,r,o,a,_,s)}catch(e){stackRestore(l);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_iiiiiiiiii(e,n,i,t,r,o,a,_,s,l){var u=stackSave();try{return Module["dynCall_iiiiiiiiii"](e,n,i,t,r,o,a,_,s,l)}catch(e){stackRestore(u);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_iiiiiiiiiii(e,n,i,t,r,o,a,_,s,l,u){var c=stackSave();try{return Module["dynCall_iiiiiiiiiii"](e,n,i,t,r,o,a,_,s,l,u)}catch(e){stackRestore(c);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_iiiiiiiiiiii(e,n,i,t,r,o,a,_,s,l,u,c){var d=stackSave();try{return Module["dynCall_iiiiiiiiiiii"](e,n,i,t,r,o,a,_,s,l,u,c)}catch(e){stackRestore(d);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_iiiiiiiiiiiii(e,n,i,t,r,o,a,_,s,l,u,c,d){var f=stackSave();try{return Module["dynCall_iiiiiiiiiiiii"](e,n,i,t,r,o,a,_,s,l,u,c,d)}catch(e){stackRestore(f);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_iiiiiiiiiiiiii(e,n,i,t,r,o,a,_,s,l,u,c,d,f){var m=stackSave();try{return Module["dynCall_iiiiiiiiiiiiii"](e,n,i,t,r,o,a,_,s,l,u,c,d,f)}catch(e){stackRestore(m);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_iiiiiiiiiiiiiiii(e,n,i,t,r,o,a,_,s,l,u,c,d,f,m,p){var S=stackSave();try{return Module["dynCall_iiiiiiiiiiiiiiii"](e,n,i,t,r,o,a,_,s,l,u,c,d,f,m,p)}catch(e){stackRestore(S);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_iiiiiiiiiiiiiiiii(e,n,i,t,r,o,a,_,s,l,u,c,d,f,m,p,S){var E=stackSave();try{return Module["dynCall_iiiiiiiiiiiiiiiii"](e,n,i,t,r,o,a,_,s,l,u,c,d,f,m,p,S)}catch(e){stackRestore(E);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_iiiiiiiiiij(e,n,i,t,r,o,a,_,s,l,u,c){var d=stackSave();try{return Module["dynCall_iiiiiiiiiij"](e,n,i,t,r,o,a,_,s,l,u,c)}catch(e){stackRestore(d);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_iiiiiiiiij(e,n,i,t,r,o,a,_,s,l,u){var c=stackSave();try{return Module["dynCall_iiiiiiiiij"](e,n,i,t,r,o,a,_,s,l,u)}catch(e){stackRestore(c);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_iiiiiijiji(e,n,i,t,r,o,a,_,s,l,u,c){var d=stackSave();try{return Module["dynCall_iiiiiijiji"](e,n,i,t,r,o,a,_,s,l,u,c)}catch(e){stackRestore(d);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_iiiiij(e,n,i,t,r,o,a){var _=stackSave();try{return Module["dynCall_iiiiij"](e,n,i,t,r,o,a)}catch(e){stackRestore(_);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_iiiiijiji(e,n,i,t,r,o,a,_,s,l,u){var c=stackSave();try{return Module["dynCall_iiiiijiji"](e,n,i,t,r,o,a,_,s,l,u)}catch(e){stackRestore(c);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_iiij(e,n,i,t,r){var o=stackSave();try{return Module["dynCall_iiij"](e,n,i,t,r)}catch(e){stackRestore(o);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_iij(e,n,i,t){var r=stackSave();try{return Module["dynCall_iij"](e,n,i,t)}catch(e){stackRestore(r);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_iijiiiiiiiiiii(e,n,i,t,r,o,a,_,s,l,u,c,d,f,m){var p=stackSave();try{return Module["dynCall_iijiiiiiiiiiii"](e,n,i,t,r,o,a,_,s,l,u,c,d,f,m)}catch(e){stackRestore(p);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_ji(e,n){var i=stackSave();try{return Module["dynCall_ji"](e,n)}catch(e){stackRestore(i);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_v(e){var n=stackSave();try{Module["dynCall_v"](e)}catch(e){stackRestore(n);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_vi(e,n){var i=stackSave();try{Module["dynCall_vi"](e,n)}catch(e){stackRestore(i);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_vidi(e,n,i,t){var r=stackSave();try{Module["dynCall_vidi"](e,n,i,t)}catch(e){stackRestore(r);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_vii(e,n,i){var t=stackSave();try{Module["dynCall_vii"](e,n,i)}catch(e){stackRestore(t);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_viii(e,n,i,t){var r=stackSave();try{Module["dynCall_viii"](e,n,i,t)}catch(e){stackRestore(r);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_viiii(e,n,i,t,r){var o=stackSave();try{Module["dynCall_viiii"](e,n,i,t,r)}catch(e){stackRestore(o);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_viiiii(e,n,i,t,r,o){var a=stackSave();try{Module["dynCall_viiiii"](e,n,i,t,r,o)}catch(e){stackRestore(a);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_viiiiii(e,n,i,t,r,o,a){var _=stackSave();try{Module["dynCall_viiiiii"](e,n,i,t,r,o,a)}catch(e){stackRestore(_);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_viiiiiii(e,n,i,t,r,o,a,_){var s=stackSave();try{Module["dynCall_viiiiiii"](e,n,i,t,r,o,a,_)}catch(e){stackRestore(s);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_viiiiiiii(e,n,i,t,r,o,a,_,s){var l=stackSave();try{Module["dynCall_viiiiiiii"](e,n,i,t,r,o,a,_,s)}catch(e){stackRestore(l);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_viiiiiiiii(e,n,i,t,r,o,a,_,s,l){var u=stackSave();try{Module["dynCall_viiiiiiiii"](e,n,i,t,r,o,a,_,s,l)}catch(e){stackRestore(u);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_viiiiiiiiii(e,n,i,t,r,o,a,_,s,l,u){var c=stackSave();try{Module["dynCall_viiiiiiiiii"](e,n,i,t,r,o,a,_,s,l,u)}catch(e){stackRestore(c);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_viiiiiiiiiii(e,n,i,t,r,o,a,_,s,l,u,c){var d=stackSave();try{Module["dynCall_viiiiiiiiiii"](e,n,i,t,r,o,a,_,s,l,u,c)}catch(e){stackRestore(d);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_viiiiiiiiiiii(e,n,i,t,r,o,a,_,s,l,u,c,d){var f=stackSave();try{Module["dynCall_viiiiiiiiiiii"](e,n,i,t,r,o,a,_,s,l,u,c,d)}catch(e){stackRestore(f);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_viiiiiiiiiiiiii(e,n,i,t,r,o,a,_,s,l,u,c,d,f,m){var p=stackSave();try{Module["dynCall_viiiiiiiiiiiiii"](e,n,i,t,r,o,a,_,s,l,u,c,d,f,m)}catch(e){stackRestore(p);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_viiiiiiiiiiiiiiiiiiiii(e,n,i,t,r,o,a,_,s,l,u,c,d,f,m,p,S,E,h,v,g,y){var M=stackSave();try{Module["dynCall_viiiiiiiiiiiiiiiiiiiii"](e,n,i,t,r,o,a,_,s,l,u,c,d,f,m,p,S,E,h,v,g,y)}catch(e){stackRestore(M);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_viijii(e,n,i,t,r,o,a){var _=stackSave();try{Module["dynCall_viijii"](e,n,i,t,r,o,a)}catch(e){stackRestore(_);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_viji(e,n,i,t,r){var o=stackSave();try{Module["dynCall_viji"](e,n,i,t,r)}catch(e){stackRestore(o);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}Module.asmGlobalArg={};Module.asmLibraryArg={abort:abort,assert:assert,enlargeMemory:enlargeMemory,getTotalMemory:getTotalMemory,abortOnCannotGrowMemory:abortOnCannotGrowMemory,invoke_dd:invoke_dd,invoke_i:invoke_i,invoke_ii:invoke_ii,invoke_iif:invoke_iif,invoke_iiffi:invoke_iiffi,invoke_iii:invoke_iii,invoke_iiif:invoke_iiif,invoke_iiiffi:invoke_iiiffi,invoke_iiifii:invoke_iiifii,invoke_iiii:invoke_iiii,invoke_iiiid:invoke_iiiid,invoke_iiiif:invoke_iiiif,invoke_iiiifi:invoke_iiiifi,invoke_iiiifii:invoke_iiiifii,invoke_iiiii:invoke_iiiii,invoke_iiiiid:invoke_iiiiid,invoke_iiiiiffff:invoke_iiiiiffff,invoke_iiiiifi:invoke_iiiiifi,invoke_iiiiifiii:invoke_iiiiifiii,invoke_iiiiii:invoke_iiiiii,invoke_iiiiiid:invoke_iiiiiid,invoke_iiiiiii:invoke_iiiiiii,invoke_iiiiiiiffff:invoke_iiiiiiiffff,invoke_iiiiiiii:invoke_iiiiiiii,invoke_iiiiiiiii:invoke_iiiiiiiii,invoke_iiiiiiiiii:invoke_iiiiiiiiii,invoke_iiiiiiiiiii:invoke_iiiiiiiiiii,invoke_iiiiiiiiiiii:invoke_iiiiiiiiiiii,invoke_iiiiiiiiiiiii:invoke_iiiiiiiiiiiii,invoke_iiiiiiiiiiiiii:invoke_iiiiiiiiiiiiii,invoke_iiiiiiiiiiiiiiii:invoke_iiiiiiiiiiiiiiii,invoke_iiiiiiiiiiiiiiiii:invoke_iiiiiiiiiiiiiiiii,invoke_iiiiiiiiiij:invoke_iiiiiiiiiij,invoke_iiiiiiiiij:invoke_iiiiiiiiij,invoke_iiiiiijiji:invoke_iiiiiijiji,invoke_iiiiij:invoke_iiiiij,invoke_iiiiijiji:invoke_iiiiijiji,invoke_iiij:invoke_iiij,invoke_iij:invoke_iij,invoke_iijiiiiiiiiiii:invoke_iijiiiiiiiiiii,invoke_ji:invoke_ji,invoke_v:invoke_v,invoke_vi:invoke_vi,invoke_vidi:invoke_vidi,invoke_vii:invoke_vii,invoke_viii:invoke_viii,invoke_viiii:invoke_viiii,invoke_viiiii:invoke_viiiii,invoke_viiiiii:invoke_viiiiii,invoke_viiiiiii:invoke_viiiiiii,invoke_viiiiiiii:invoke_viiiiiiii,invoke_viiiiiiiii:invoke_viiiiiiiii,invoke_viiiiiiiiii:invoke_viiiiiiiiii,invoke_viiiiiiiiiii:invoke_viiiiiiiiiii,invoke_viiiiiiiiiiii:invoke_viiiiiiiiiiii,invoke_viiiiiiiiiiiiii:invoke_viiiiiiiiiiiiii,invoke_viiiiiiiiiiiiiiiiiiiii:invoke_viiiiiiiiiiiiiiiiiiiii,invoke_viijii:invoke_viijii,invoke_viji:invoke_viji,__Z20destroy_capture_hostP8ICptHost:__Z20destroy_capture_hostP8ICptHost,___assert_fail:___assert_fail,___buildEnvironment:___buildEnvironment,___cxa_allocate_exception:___cxa_allocate_exception,___cxa_begin_catch:___cxa_begin_catch,___cxa_find_matching_catch:___cxa_find_matching_catch,___cxa_pure_virtual:___cxa_pure_virtual,___cxa_throw:___cxa_throw,___cxa_uncaught_exception:___cxa_uncaught_exception,___gxx_personality_v0:___gxx_personality_v0,___lock:___lock,___map_file:___map_file,___resumeException:___resumeException,___setErrNo:___setErrNo,___syscall140:___syscall140,___syscall145:___syscall145,___syscall146:___syscall146,___syscall183:___syscall183,___syscall20:___syscall20,___syscall221:___syscall221,___syscall5:___syscall5,___syscall54:___syscall54,___syscall6:___syscall6,___syscall91:___syscall91,___unlock:___unlock,__addDays:__addDays,__arraySum:__arraySum,__exit:__exit,__isLeapYear:__isLeapYear,_abort:_abort,_clock_gettime:_clock_gettime,_emscripten_asm_const_ii:_emscripten_asm_const_ii,_emscripten_asm_const_iii:_emscripten_asm_const_iii,_emscripten_asm_const_iiii:_emscripten_asm_const_iiii,_emscripten_asm_const_iiiii:_emscripten_asm_const_iiiii,_emscripten_asm_const_iiiiii:_emscripten_asm_const_iiiiii,_emscripten_asm_const_iiiiiiiiiiiii:_emscripten_asm_const_iiiiiiiiiiiii,_emscripten_get_now:_emscripten_get_now,_emscripten_get_now_is_monotonic:_emscripten_get_now_is_monotonic,_emscripten_memcpy_big:_emscripten_memcpy_big,_exit:_exit,_getenv:_getenv,_gettimeofday:_gettimeofday,_llvm_ceil_f64:_llvm_ceil_f64,_llvm_fabs_f32:_llvm_fabs_f32,_llvm_log10_f32:_llvm_log10_f32,_llvm_log10_f64:_llvm_log10_f64,_llvm_log_f64:_llvm_log_f64,_llvm_pow_f32:_llvm_pow_f32,_llvm_pow_f64:_llvm_pow_f64,_llvm_sqrt_f64:_llvm_sqrt_f64,_llvm_stackrestore:_llvm_stackrestore,_llvm_stacksave:_llvm_stacksave,_llvm_trap:_llvm_trap,_localtime:_localtime,_localtime_r:_localtime_r,_longjmp:_longjmp,_nanosleep:_nanosleep,_pthread_attr_destroy:_pthread_attr_destroy,_pthread_attr_init:_pthread_attr_init,_pthread_attr_setdetachstate:_pthread_attr_setdetachstate,_pthread_attr_setstacksize:_pthread_attr_setstacksize,_pthread_cond_destroy:_pthread_cond_destroy,_pthread_cond_init:_pthread_cond_init,_pthread_cond_signal:_pthread_cond_signal,_pthread_cond_wait:_pthread_cond_wait,_pthread_create:_pthread_create,_pthread_getspecific:_pthread_getspecific,_pthread_join:_pthread_join,_pthread_key_create:_pthread_key_create,_pthread_mutex_destroy:_pthread_mutex_destroy,_pthread_mutex_init:_pthread_mutex_init,_pthread_mutexattr_destroy:_pthread_mutexattr_destroy,_pthread_mutexattr_init:_pthread_mutexattr_init,_pthread_mutexattr_settype:_pthread_mutexattr_settype,_pthread_once:_pthread_once,_pthread_setspecific:_pthread_setspecific,_putenv:_putenv,_strftime:_strftime,_strftime_l:_strftime_l,_sysconf:_sysconf,_time:_time,_times:_times,_tzset:_tzset,_usleep:_usleep,_zlt_js_file_close:_zlt_js_file_close,_zlt_js_file_isopen:_zlt_js_file_isopen,_zlt_js_file_open:_zlt_js_file_open,_zlt_js_file_read:_zlt_js_file_read,_zlt_js_file_size:_zlt_js_file_size,_zlt_js_file_write:_zlt_js_file_write,DYNAMICTOP_PTR:DYNAMICTOP_PTR,tempDoublePtr:tempDoublePtr,ABORT:ABORT,STACKTOP:STACKTOP,STACK_MAX:STACK_MAX};var asm=Module["asm"](Module.asmGlobalArg,Module.asmLibraryArg,buffer);Module["asm"]=asm;var __GLOBAL__sub_I_CptShare_cpp=Module["__GLOBAL__sub_I_CptShare_cpp"]=function(){return Module["asm"]["__GLOBAL__sub_I_CptShare_cpp"].apply(null,arguments)};var __GLOBAL__sub_I_auxi_cpp=Module["__GLOBAL__sub_I_auxi_cpp"]=function(){return Module["asm"]["__GLOBAL__sub_I_auxi_cpp"].apply(null,arguments)};var __GLOBAL__sub_I_log_cpp=Module["__GLOBAL__sub_I_log_cpp"]=function(){return Module["asm"]["__GLOBAL__sub_I_log_cpp"].apply(null,arguments)};var __GLOBAL__sub_I_rsfec_cpp=Module["__GLOBAL__sub_I_rsfec_cpp"]=function(){return Module["asm"]["__GLOBAL__sub_I_rsfec_cpp"].apply(null,arguments)};var __GLOBAL__sub_I_singleton_cpp=Module["__GLOBAL__sub_I_singleton_cpp"]=function(){return Module["asm"]["__GLOBAL__sub_I_singleton_cpp"].apply(null,arguments)};var __GLOBAL__sub_I_ssb_media_security_officer_cpp=Module["__GLOBAL__sub_I_ssb_media_security_officer_cpp"]=function(){return Module["asm"]["__GLOBAL__sub_I_ssb_media_security_officer_cpp"].apply(null,arguments)};var __GLOBAL__sub_I_ssb_media_video_stream_config_cpp=Module["__GLOBAL__sub_I_ssb_media_video_stream_config_cpp"]=function(){return Module["asm"]["__GLOBAL__sub_I_ssb_media_video_stream_config_cpp"].apply(null,arguments)};var __GLOBAL__sub_I_ssb_media_wcl_as_controller_cpp=Module["__GLOBAL__sub_I_ssb_media_wcl_as_controller_cpp"]=function(){return Module["asm"]["__GLOBAL__sub_I_ssb_media_wcl_as_controller_cpp"].apply(null,arguments)};var __GLOBAL__sub_I_ssb_media_wcl_video_controller_cpp=Module["__GLOBAL__sub_I_ssb_media_wcl_video_controller_cpp"]=function(){return Module["asm"]["__GLOBAL__sub_I_ssb_media_wcl_video_controller_cpp"].apply(null,arguments)};var __GLOBAL__sub_I_text_stream_cpp=Module["__GLOBAL__sub_I_text_stream_cpp"]=function(){return Module["asm"]["__GLOBAL__sub_I_text_stream_cpp"].apply(null,arguments)};var __GLOBAL__sub_I_wcl_sharing_cpp=Module["__GLOBAL__sub_I_wcl_sharing_cpp"]=function(){return Module["asm"]["__GLOBAL__sub_I_wcl_sharing_cpp"].apply(null,arguments)};var __GLOBAL__sub_I_wcl_video_cpp=Module["__GLOBAL__sub_I_wcl_video_cpp"]=function(){return Module["asm"]["__GLOBAL__sub_I_wcl_video_cpp"].apply(null,arguments)};var __GLOBAL__sub_I_zltperfmonitor_cpp=Module["__GLOBAL__sub_I_zltperfmonitor_cpp"]=function(){return Module["asm"]["__GLOBAL__sub_I_zltperfmonitor_cpp"].apply(null,arguments)};var __Get_Codec_Info=Module["__Get_Codec_Info"]=function(){return Module["asm"]["__Get_Codec_Info"].apply(null,arguments)};var __Get_Sharing_Sending_Status=Module["__Get_Sharing_Sending_Status"]=function(){return Module["asm"]["__Get_Sharing_Sending_Status"].apply(null,arguments)};var __Sharing_Encode=Module["__Sharing_Encode"]=function(){return Module["asm"]["__Sharing_Encode"].apply(null,arguments)};var __Sharing_Encode_Init=Module["__Sharing_Encode_Init"]=function(){return Module["asm"]["__Sharing_Encode_Init"].apply(null,arguments)};var __Sharing_Encode_Try_Analysis=Module["__Sharing_Encode_Try_Analysis"]=function(){return Module["asm"]["__Sharing_Encode_Try_Analysis"].apply(null,arguments)};var __Sharing_Encode_Uninit=Module["__Sharing_Encode_Uninit"]=function(){return Module["asm"]["__Sharing_Encode_Uninit"].apply(null,arguments)};var __Sharing_Pause_Encode=Module["__Sharing_Pause_Encode"]=function(){return Module["asm"]["__Sharing_Pause_Encode"].apply(null,arguments)};var __Sharing_Resume_Encode=Module["__Sharing_Resume_Encode"]=function(){return Module["asm"]["__Sharing_Resume_Encode"].apply(null,arguments)};var __Sharing_Set_Data_Encryption=Module["__Sharing_Set_Data_Encryption"]=function(){return Module["asm"]["__Sharing_Set_Data_Encryption"].apply(null,arguments)};var __Sharing_Stop_Encode=Module["__Sharing_Stop_Encode"]=function(){return Module["asm"]["__Sharing_Stop_Encode"].apply(null,arguments)};var __Sharing_Websocket_Speed=Module["__Sharing_Websocket_Speed"]=function(){return Module["asm"]["__Sharing_Websocket_Speed"].apply(null,arguments)};var __Video_Decode=Module["__Video_Decode"]=function(){return Module["asm"]["__Video_Decode"].apply(null,arguments)};var __Video_Encode=Module["__Video_Encode"]=function(){return Module["asm"]["__Video_Encode"].apply(null,arguments)};var __Video_Get_Decode_Codec_Info=Module["__Video_Get_Decode_Codec_Info"]=function(){return Module["asm"]["__Video_Get_Decode_Codec_Info"].apply(null,arguments)};var __Video_Get_Encode_Codec_Info=Module["__Video_Get_Encode_Codec_Info"]=function(){return Module["asm"]["__Video_Get_Encode_Codec_Info"].apply(null,arguments)};var __Video_Get_Sending_Status=Module["__Video_Get_Sending_Status"]=function(){return Module["asm"]["__Video_Get_Sending_Status"].apply(null,arguments)};var __Video_Init=Module["__Video_Init"]=function(){return Module["asm"]["__Video_Init"].apply(null,arguments)};var __Video_Set_Data_Encryption=Module["__Video_Set_Data_Encryption"]=function(){return Module["asm"]["__Video_Set_Data_Encryption"].apply(null,arguments)};var __Video_Start_Encode=Module["__Video_Start_Encode"]=function(){return Module["asm"]["__Video_Start_Encode"].apply(null,arguments)};var __Video_Stop_Encode=Module["__Video_Stop_Encode"]=function(){return Module["asm"]["__Video_Stop_Encode"].apply(null,arguments)};var __Video_Try_Analysis=Module["__Video_Try_Analysis"]=function(){return Module["asm"]["__Video_Try_Analysis"].apply(null,arguments)};var __Video_UnInit=Module["__Video_UnInit"]=function(){return Module["asm"]["__Video_UnInit"].apply(null,arguments)};var __Video_Update_Format=Module["__Video_Update_Format"]=function(){return Module["asm"]["__Video_Update_Format"].apply(null,arguments)};var __Video_Websocket_Speed=Module["__Video_Websocket_Speed"]=function(){return Module["asm"]["__Video_Websocket_Speed"].apply(null,arguments)};var __ZSt18uncaught_exceptionv=Module["__ZSt18uncaught_exceptionv"]=function(){return Module["asm"]["__ZSt18uncaught_exceptionv"].apply(null,arguments)};var ___cxa_can_catch=Module["___cxa_can_catch"]=function(){return Module["asm"]["___cxa_can_catch"].apply(null,arguments)};var ___cxa_demangle=Module["___cxa_demangle"]=function(){return Module["asm"]["___cxa_demangle"].apply(null,arguments)};var ___cxa_is_pointer_type=Module["___cxa_is_pointer_type"]=function(){return Module["asm"]["___cxa_is_pointer_type"].apply(null,arguments)};var ___cxx_global_var_init_12=Module["___cxx_global_var_init_12"]=function(){return Module["asm"]["___cxx_global_var_init_12"].apply(null,arguments)};var ___cxx_global_var_init_1_3062=Module["___cxx_global_var_init_1_3062"]=function(){return Module["asm"]["___cxx_global_var_init_1_3062"].apply(null,arguments)};var ___cxx_global_var_init_2996=Module["___cxx_global_var_init_2996"]=function(){return Module["asm"]["___cxx_global_var_init_2996"].apply(null,arguments)};var ___cxx_global_var_init_2_3063=Module["___cxx_global_var_init_2_3063"]=function(){return Module["asm"]["___cxx_global_var_init_2_3063"].apply(null,arguments)};var ___cxx_global_var_init_3=Module["___cxx_global_var_init_3"]=function(){return Module["asm"]["___cxx_global_var_init_3"].apply(null,arguments)};var ___cxx_global_var_init_3019=Module["___cxx_global_var_init_3019"]=function(){return Module["asm"]["___cxx_global_var_init_3019"].apply(null,arguments)};var ___cxx_global_var_init_3027=Module["___cxx_global_var_init_3027"]=function(){return Module["asm"]["___cxx_global_var_init_3027"].apply(null,arguments)};var ___cxx_global_var_init_3032=Module["___cxx_global_var_init_3032"]=function(){return Module["asm"]["___cxx_global_var_init_3032"].apply(null,arguments)};var ___cxx_global_var_init_3061=Module["___cxx_global_var_init_3061"]=function(){return Module["asm"]["___cxx_global_var_init_3061"].apply(null,arguments)};var ___cxx_global_var_init_3_3075=Module["___cxx_global_var_init_3_3075"]=function(){return Module["asm"]["___cxx_global_var_init_3_3075"].apply(null,arguments)};var ___cxx_global_var_init_4=Module["___cxx_global_var_init_4"]=function(){return Module["asm"]["___cxx_global_var_init_4"].apply(null,arguments)};var ___cxx_global_var_init_47=Module["___cxx_global_var_init_47"]=function(){return Module["asm"]["___cxx_global_var_init_47"].apply(null,arguments)};var ___cxx_global_var_init_48=Module["___cxx_global_var_init_48"]=function(){return Module["asm"]["___cxx_global_var_init_48"].apply(null,arguments)};var ___emscripten_environ_constructor=Module["___emscripten_environ_constructor"]=function(){return Module["asm"]["___emscripten_environ_constructor"].apply(null,arguments)};var ___errno_location=Module["___errno_location"]=function(){return Module["asm"]["___errno_location"].apply(null,arguments)};var __get_daylight=Module["__get_daylight"]=function(){return Module["asm"]["__get_daylight"].apply(null,arguments)};var __get_environ=Module["__get_environ"]=function(){return Module["asm"]["__get_environ"].apply(null,arguments)};var __get_timezone=Module["__get_timezone"]=function(){return Module["asm"]["__get_timezone"].apply(null,arguments)};var __get_tzname=Module["__get_tzname"]=function(){return Module["asm"]["__get_tzname"].apply(null,arguments)};var __sharing_decompress=Module["__sharing_decompress"]=function(){return Module["asm"]["__sharing_decompress"].apply(null,arguments)};var __sharing_init=Module["__sharing_init"]=function(){return Module["asm"]["__sharing_init"].apply(null,arguments)};var __sharing_uninit=Module["__sharing_uninit"]=function(){return Module["asm"]["__sharing_uninit"].apply(null,arguments)};var _emscripten_replace_memory=Module["_emscripten_replace_memory"]=function(){return Module["asm"]["_emscripten_replace_memory"].apply(null,arguments)};var _free=Module["_free"]=function(){return Module["asm"]["_free"].apply(null,arguments)};var _htonl=Module["_htonl"]=function(){return Module["asm"]["_htonl"].apply(null,arguments)};var _htons=Module["_htons"]=function(){return Module["asm"]["_htons"].apply(null,arguments)};var _llvm_bswap_i16=Module["_llvm_bswap_i16"]=function(){return Module["asm"]["_llvm_bswap_i16"].apply(null,arguments)};var _llvm_bswap_i32=Module["_llvm_bswap_i32"]=function(){return Module["asm"]["_llvm_bswap_i32"].apply(null,arguments)};var _malloc=Module["_malloc"]=function(){return Module["asm"]["_malloc"].apply(null,arguments)};var _memcpy=Module["_memcpy"]=function(){return Module["asm"]["_memcpy"].apply(null,arguments)};var _memmove=Module["_memmove"]=function(){return Module["asm"]["_memmove"].apply(null,arguments)};var _memset=Module["_memset"]=function(){return Module["asm"]["_memset"].apply(null,arguments)};var _ntohs=Module["_ntohs"]=function(){return Module["asm"]["_ntohs"].apply(null,arguments)};var _pthread_cond_broadcast=Module["_pthread_cond_broadcast"]=function(){return Module["asm"]["_pthread_cond_broadcast"].apply(null,arguments)};var _pthread_mutex_lock=Module["_pthread_mutex_lock"]=function(){return Module["asm"]["_pthread_mutex_lock"].apply(null,arguments)};var _pthread_mutex_trylock=Module["_pthread_mutex_trylock"]=function(){return Module["asm"]["_pthread_mutex_trylock"].apply(null,arguments)};var _pthread_mutex_unlock=Module["_pthread_mutex_unlock"]=function(){return Module["asm"]["_pthread_mutex_unlock"].apply(null,arguments)};var _realloc=Module["_realloc"]=function(){return Module["asm"]["_realloc"].apply(null,arguments)};var _saveSetjmp=Module["_saveSetjmp"]=function(){return Module["asm"]["_saveSetjmp"].apply(null,arguments)};var _sbrk=Module["_sbrk"]=function(){return Module["asm"]["_sbrk"].apply(null,arguments)};var _testSetjmp=Module["_testSetjmp"]=function(){return Module["asm"]["_testSetjmp"].apply(null,arguments)};var establishStackSpace=Module["establishStackSpace"]=function(){return Module["asm"]["establishStackSpace"].apply(null,arguments)};var getTempRet0=Module["getTempRet0"]=function(){return Module["asm"]["getTempRet0"].apply(null,arguments)};var runPostSets=Module["runPostSets"]=function(){return Module["asm"]["runPostSets"].apply(null,arguments)};var setTempRet0=Module["setTempRet0"]=function(){return Module["asm"]["setTempRet0"].apply(null,arguments)};var setThrew=Module["setThrew"]=function(){return Module["asm"]["setThrew"].apply(null,arguments)};var stackAlloc=Module["stackAlloc"]=function(){return Module["asm"]["stackAlloc"].apply(null,arguments)};var stackRestore=Module["stackRestore"]=function(){return Module["asm"]["stackRestore"].apply(null,arguments)};var stackSave=Module["stackSave"]=function(){return Module["asm"]["stackSave"].apply(null,arguments)};var dynCall_dd=Module["dynCall_dd"]=function(){return Module["asm"]["dynCall_dd"].apply(null,arguments)};var dynCall_i=Module["dynCall_i"]=function(){return Module["asm"]["dynCall_i"].apply(null,arguments)};var dynCall_ii=Module["dynCall_ii"]=function(){return Module["asm"]["dynCall_ii"].apply(null,arguments)};var dynCall_iif=Module["dynCall_iif"]=function(){return Module["asm"]["dynCall_iif"].apply(null,arguments)};var dynCall_iiffi=Module["dynCall_iiffi"]=function(){return Module["asm"]["dynCall_iiffi"].apply(null,arguments)};var dynCall_iii=Module["dynCall_iii"]=function(){return Module["asm"]["dynCall_iii"].apply(null,arguments)};var dynCall_iiif=Module["dynCall_iiif"]=function(){return Module["asm"]["dynCall_iiif"].apply(null,arguments)};var dynCall_iiiffi=Module["dynCall_iiiffi"]=function(){return Module["asm"]["dynCall_iiiffi"].apply(null,arguments)};var dynCall_iiifii=Module["dynCall_iiifii"]=function(){return Module["asm"]["dynCall_iiifii"].apply(null,arguments)};var dynCall_iiii=Module["dynCall_iiii"]=function(){return Module["asm"]["dynCall_iiii"].apply(null,arguments)};var dynCall_iiiid=Module["dynCall_iiiid"]=function(){return Module["asm"]["dynCall_iiiid"].apply(null,arguments)};var dynCall_iiiif=Module["dynCall_iiiif"]=function(){return Module["asm"]["dynCall_iiiif"].apply(null,arguments)};var dynCall_iiiifi=Module["dynCall_iiiifi"]=function(){return Module["asm"]["dynCall_iiiifi"].apply(null,arguments)};var dynCall_iiiifii=Module["dynCall_iiiifii"]=function(){return Module["asm"]["dynCall_iiiifii"].apply(null,arguments)};var dynCall_iiiii=Module["dynCall_iiiii"]=function(){return Module["asm"]["dynCall_iiiii"].apply(null,arguments)};var dynCall_iiiiid=Module["dynCall_iiiiid"]=function(){return Module["asm"]["dynCall_iiiiid"].apply(null,arguments)};var dynCall_iiiiiffff=Module["dynCall_iiiiiffff"]=function(){return Module["asm"]["dynCall_iiiiiffff"].apply(null,arguments)};var dynCall_iiiiifi=Module["dynCall_iiiiifi"]=function(){return Module["asm"]["dynCall_iiiiifi"].apply(null,arguments)};var dynCall_iiiiifiii=Module["dynCall_iiiiifiii"]=function(){return Module["asm"]["dynCall_iiiiifiii"].apply(null,arguments)};var dynCall_iiiiii=Module["dynCall_iiiiii"]=function(){return Module["asm"]["dynCall_iiiiii"].apply(null,arguments)};var dynCall_iiiiiid=Module["dynCall_iiiiiid"]=function(){return Module["asm"]["dynCall_iiiiiid"].apply(null,arguments)};var dynCall_iiiiiii=Module["dynCall_iiiiiii"]=function(){return Module["asm"]["dynCall_iiiiiii"].apply(null,arguments)};var dynCall_iiiiiiiffff=Module["dynCall_iiiiiiiffff"]=function(){return Module["asm"]["dynCall_iiiiiiiffff"].apply(null,arguments)};var dynCall_iiiiiiii=Module["dynCall_iiiiiiii"]=function(){return Module["asm"]["dynCall_iiiiiiii"].apply(null,arguments)};var dynCall_iiiiiiiii=Module["dynCall_iiiiiiiii"]=function(){return Module["asm"]["dynCall_iiiiiiiii"].apply(null,arguments)};var dynCall_iiiiiiiiii=Module["dynCall_iiiiiiiiii"]=function(){return Module["asm"]["dynCall_iiiiiiiiii"].apply(null,arguments)};var dynCall_iiiiiiiiiii=Module["dynCall_iiiiiiiiiii"]=function(){return Module["asm"]["dynCall_iiiiiiiiiii"].apply(null,arguments)};var dynCall_iiiiiiiiiiii=Module["dynCall_iiiiiiiiiiii"]=function(){return Module["asm"]["dynCall_iiiiiiiiiiii"].apply(null,arguments)};var dynCall_iiiiiiiiiiiii=Module["dynCall_iiiiiiiiiiiii"]=function(){return Module["asm"]["dynCall_iiiiiiiiiiiii"].apply(null,arguments)};var dynCall_iiiiiiiiiiiiii=Module["dynCall_iiiiiiiiiiiiii"]=function(){return Module["asm"]["dynCall_iiiiiiiiiiiiii"].apply(null,arguments)};var dynCall_iiiiiiiiiiiiiiii=Module["dynCall_iiiiiiiiiiiiiiii"]=function(){return Module["asm"]["dynCall_iiiiiiiiiiiiiiii"].apply(null,arguments)};var dynCall_iiiiiiiiiiiiiiiii=Module["dynCall_iiiiiiiiiiiiiiiii"]=function(){return Module["asm"]["dynCall_iiiiiiiiiiiiiiiii"].apply(null,arguments)};var dynCall_iiiiiiiiiij=Module["dynCall_iiiiiiiiiij"]=function(){return Module["asm"]["dynCall_iiiiiiiiiij"].apply(null,arguments)};var dynCall_iiiiiiiiij=Module["dynCall_iiiiiiiiij"]=function(){return Module["asm"]["dynCall_iiiiiiiiij"].apply(null,arguments)};var dynCall_iiiiiijiji=Module["dynCall_iiiiiijiji"]=function(){return Module["asm"]["dynCall_iiiiiijiji"].apply(null,arguments)};var dynCall_iiiiij=Module["dynCall_iiiiij"]=function(){return Module["asm"]["dynCall_iiiiij"].apply(null,arguments)};var dynCall_iiiiijiji=Module["dynCall_iiiiijiji"]=function(){return Module["asm"]["dynCall_iiiiijiji"].apply(null,arguments)};var dynCall_iiij=Module["dynCall_iiij"]=function(){return Module["asm"]["dynCall_iiij"].apply(null,arguments)};var dynCall_iij=Module["dynCall_iij"]=function(){return Module["asm"]["dynCall_iij"].apply(null,arguments)};var dynCall_iijiiiiiiiiiii=Module["dynCall_iijiiiiiiiiiii"]=function(){return Module["asm"]["dynCall_iijiiiiiiiiiii"].apply(null,arguments)};var dynCall_ji=Module["dynCall_ji"]=function(){return Module["asm"]["dynCall_ji"].apply(null,arguments)};var dynCall_v=Module["dynCall_v"]=function(){return Module["asm"]["dynCall_v"].apply(null,arguments)};var dynCall_vi=Module["dynCall_vi"]=function(){return Module["asm"]["dynCall_vi"].apply(null,arguments)};var dynCall_vidi=Module["dynCall_vidi"]=function(){return Module["asm"]["dynCall_vidi"].apply(null,arguments)};var dynCall_vii=Module["dynCall_vii"]=function(){return Module["asm"]["dynCall_vii"].apply(null,arguments)};var dynCall_viii=Module["dynCall_viii"]=function(){return Module["asm"]["dynCall_viii"].apply(null,arguments)};var dynCall_viiii=Module["dynCall_viiii"]=function(){return Module["asm"]["dynCall_viiii"].apply(null,arguments)};var dynCall_viiiii=Module["dynCall_viiiii"]=function(){return Module["asm"]["dynCall_viiiii"].apply(null,arguments)};var dynCall_viiiiii=Module["dynCall_viiiiii"]=function(){return Module["asm"]["dynCall_viiiiii"].apply(null,arguments)};var dynCall_viiiiiii=Module["dynCall_viiiiiii"]=function(){return Module["asm"]["dynCall_viiiiiii"].apply(null,arguments)};var dynCall_viiiiiiii=Module["dynCall_viiiiiiii"]=function(){return Module["asm"]["dynCall_viiiiiiii"].apply(null,arguments)};var dynCall_viiiiiiiii=Module["dynCall_viiiiiiiii"]=function(){return Module["asm"]["dynCall_viiiiiiiii"].apply(null,arguments)};var dynCall_viiiiiiiiii=Module["dynCall_viiiiiiiiii"]=function(){return Module["asm"]["dynCall_viiiiiiiiii"].apply(null,arguments)};var dynCall_viiiiiiiiiii=Module["dynCall_viiiiiiiiiii"]=function(){return Module["asm"]["dynCall_viiiiiiiiiii"].apply(null,arguments)};var dynCall_viiiiiiiiiiii=Module["dynCall_viiiiiiiiiiii"]=function(){return Module["asm"]["dynCall_viiiiiiiiiiii"].apply(null,arguments)};var dynCall_viiiiiiiiiiiiii=Module["dynCall_viiiiiiiiiiiiii"]=function(){return Module["asm"]["dynCall_viiiiiiiiiiiiii"].apply(null,arguments)};var dynCall_viiiiiiiiiiiiiiiiiiiii=Module["dynCall_viiiiiiiiiiiiiiiiiiiii"]=function(){return Module["asm"]["dynCall_viiiiiiiiiiiiiiiiiiiii"].apply(null,arguments)};var dynCall_viijii=Module["dynCall_viijii"]=function(){return Module["asm"]["dynCall_viijii"].apply(null,arguments)};var dynCall_viji=Module["dynCall_viji"]=function(){return Module["asm"]["dynCall_viji"].apply(null,arguments)};Module["asm"]=asm;Module["cwrap"]=cwrap;function ExitStatus(e){this.name="ExitStatus";this.message="Program terminated with exit("+e+")";this.status=e}ExitStatus.prototype=new Error;ExitStatus.prototype.constructor=ExitStatus;var initialStackTop;dependenciesFulfilled=function e(){if(!Module["calledRun"])run();if(!Module["calledRun"])dependenciesFulfilled=e};function run(e){e=e||Module["arguments"];if(runDependencies>0){return}preRun();if(runDependencies>0)return;if(Module["calledRun"])return;function n(){if(Module["calledRun"])return;Module["calledRun"]=true;if(ABORT)return;ensureInitRuntime();preMain();if(Module["onRuntimeInitialized"])Module["onRuntimeInitialized"]();postRun()}if(Module["setStatus"]){Module["setStatus"]("Running...");setTimeout(function(){setTimeout(function(){Module["setStatus"]("")},1);n()},1)}else{n()}}Module["run"]=run;function exit(e,n){if(n&&Module["noExitRuntime"]&&e===0){return}if(Module["noExitRuntime"]){}else{ABORT=true;EXITSTATUS=e;STACKTOP=initialStackTop;exitRuntime();if(Module["onExit"])Module["onExit"](e)}Module["quit"](e,new ExitStatus(e))}function abort(e){if(Module["onAbort"]){Module["onAbort"](e)}if(e!==undefined){out(e);err(e);e=JSON.stringify(e)}else{e=""}ABORT=true;EXITSTATUS=1;throw"abort("+e+"). Build with -s ASSERTIONS=1 for more info."}Module["abort"]=abort;if(Module["preInit"]){if(typeof Module["preInit"]=="function")Module["preInit"]=[Module["preInit"]];while(Module["preInit"].length>0){Module["preInit"].pop()()}}Module["noExitRuntime"]=true;run();var sharing_init=Module.cwrap("_sharing_init","number",null);var sharing_decode=Module.cwrap("_sharing_decompress","number",["number","array","number"]);var sharing_uninit=Module.cwrap("_sharing_uninit","number",["number"]);var get_codec_info=Module.cwrap("_Get_Codec_Info","number",["number"]);var get_sharing_sending_status=Module.cwrap("_Get_Sharing_Sending_Status","number",["number"]);var sharing_encode=Module.cwrap("_Sharing_Encode","number",["number","number","number","number","number"]);var sharing_encode_uninit=Module.cwrap("_Sharing_Encode_Uninit","number",["number"]);var sharing_encode_try_analysis=Module.cwrap("_Sharing_Encode_Try_Analysis","number",["number","array","number"]);var sharing_encode_init=Module.cwrap("_Sharing_Encode_Init","number",["number"]);var sharing_set_data_encryption=Module.cwrap("_Sharing_Set_Data_Encryption","number",["number","number"]);var sharing_pause_encode=Module.cwrap("_Sharing_Pause_Encode","number",["number"]);var sharing_stop_encode=Module.cwrap("_Sharing_Stop_Encode","number",["number"]);var sharing_resume_encode=Module.cwrap("_Sharing_Resume_Encode","number",["number"]);var sharing_set_websocket_speed=Module.cwrap("_Sharing_Websocket_Speed","number",["number","number"]);var total_app_buffer_unsend_encoded_byte=0;var peroid_start_time=null;var peroid_total_amount=0;var peroid_speed=0;var last_peroid_speed=0;var SEND_SPEED_DEFAULT=8e5;var sharing_media_connect=null;var sharing_media_connect_Debug=null;var headerMap=new Map;var stopDrawImage=false;var sharing_handle=null;var decode_jpeg_data=null;var decode_jpeg_width=null;var decode_jpeg_height=null;var imagBMap=new Map;var isChromeOrEdge=false;var imageInterval=null;var isSharingEncode=false;var can_I_capture_desktop=false;var last_encode_raw_frame=null;var monitor_sharing_elapsed_compute_time=0;var monitor_sharing_elapsed_write_time=0;var monitor_sharing_last_time=0;var monitor_sharing_first=true;var monitor_sharing_count=0;var monitor_sharing_encoded_delta_frames=0;var monitor_sharing_encoded_total_frames=0;var monitor_stream_index=0;var sharing_encode_width=0;var sharing_encode_height=0;var sharing_encode_total_frames=0;var sharing_max_sub_for_me=0;var sharing_max_encoding_time=0;var sharing_min_encoding_time=0;var sharing_avg_encoding_time=0;var sharing_sdev_encoding_time=0;var sharing_encode_encrypt=false;var sharing_buffer=new Queue;var sharing_capture_interval=0;var sharing_raw_data_width=0;var sharing_raw_data_height=0;var sharing_memory_ptr=0;var current_websocket_speed=0;var monitor_sharing_send_buffer=0;var monitor_sharing_fps=0;var monitor_sharing_avg_fps=0;var monitor_sharing_min_fps=0;var monitor_sharing_max_fps=0;var monitor_sharing_encoded_min_fps=0;var monitor_sharing_encoded_max_fps=0;var monitor_sharing_encoded_avg_fps=0;var monitor_sharing_encoded_fps=0;var pdu_queue=new Queue;var buffer_amount_queue=new Queue;var Sending_Pace_Start=false;var Sending_Pace_Count=0;var pace_start_time=0;var pace_sender_interval=0;var WEBSOCKET_THROTTLING=2e4;function Queue(){this.a=[];this.b=0;this.residue=null}Queue.prototype.getLength=function(){return this.a.length-this.b};Queue.prototype.isEmpty=function(){return 0==this.a.length};Queue.prototype.enqueue=function(e){this.a.push(e)};Queue.prototype.dequeue=function(){if(0!=this.a.length){var e=this.a[this.b];2*++this.b>=this.a.length&&(this.a=this.a.slice(this.b),this.b=0);return e}return null};Queue.prototype.peek=function(){return 0<this.a.length?this.a[this.b]:void 0};function Channel_Agent(){this.socket=null;this.onopen=null;this.onmessage=null;this.onerror=null;this.onclose=null;this.websocketaddress=null;this.startwebsocketreconnecttime=null;this.reconnect=null;this.activeclosewebsocket=false;this.init=function(e,n,i,t,r){this.websocketaddress=e;this.onopen=n;this.onmessage=i;this.onerror=t;this.onclose=r};this.connect=function(e,n,i,t,r){var o=this;add_monitor("SB");o.init(e,n,i,t,r);o.socket=new WebSocket(o.websocketaddress);o.socket.binaryType="arraybuffer";o.reconnect=function(){o.startwebsocketreconnecttime=null;o.socket=new WebSocket(this.websocketaddress);o.socket.binaryType="arraybuffer";o.socket.onopen=function(e){o.startwebsocketreconnecttime=(new Date).getTime()/1e3;o.onopen(e)};o.socket.onmessage=function(e){o.onmessage(e)};o.socket.onerror=function(e){JsSocket_Log("in function onerror");if(o.startwebsocketreconnecttime===null){JsSocket_Log("In Reconnect Context, Reconnect is unnecessary")}else if((new Date).getTime()/1e3-o.startwebsocketreconnecttime>30){JsSocket_Log(">>>30s");setTimeout(function(){o.reconnect()},1e4)}else{postMessage({status:Sharing_Dec_WebSocket_FAILED});JsSocket_Log("NetWork is Bad, Don't to reconnect the serer!")}};o.socket.onclose=function(e){JsSocket_Log("in function onclose :"+o.startwebsocketreconnecttime);if(o.startwebsocketreconnecttime===null){JsSocket_Log("In Reconnect Context, Reconnect is unnecessary")}else if((new Date).getTime()/1e3-o.startwebsocketreconnecttime>30){JsSocket_Log(">>>30s");setTimeout(function(){o.reconnect()},1e4)}else{postMessage({status:Sharing_Dec_WebSocket_FAILED});JsSocket_Log("NetWork is Bad, Don't to reconnect the serer!")}}};o.socket.onopen=function(e){let n=(new Date).getTime();add_monitor("SE");o.startwebsocketreconnecttime=n/1e3;o.onopen(e)};o.socket.onmessage=function(e){o.onmessage(e)};o.socket.onerror=function(e){JsSocket_Log("in function onerror");if(o.activeclosewebsocket)return;if(o.startwebsocketreconnecttime===null){JsSocket_Log("Not in Reconnect Context, Reconnect is unnecessary");postMessage({status:Sharing_Dec_WebSocket_FAILED})}else if((new Date).getTime()/1e3-o.startwebsocketreconnecttime>30){JsSocket_Log(">>>30s");setTimeout(function(){o.reconnect()},1e4)}else{postMessage({status:Sharing_Dec_WebSocket_FAILED});JsSocket_Log("NetWork is Bad, Don't to reconnect the serer!")}};this.socket.onclose=function(e){JsSocket_Log("in function onclose: "+o.startwebsocketreconnecttime);if(o.activeclosewebsocket)return;if(o.startwebsocketreconnecttime===null){JsSocket_Log("Not in Reconnect Context, Reconnect is unnecessary");postMessage({status:Sharing_Dec_WebSocket_FAILED})}else if((new Date).getTime()/1e3-o.startwebsocketreconnecttime>30){JsSocket_Log(">>>30s");setTimeout(function(){o.reconnect()},1e4)}else{postMessage({status:Sharing_Dec_WebSocket_FAILED});JsSocket_Log("NetWork is Bad, Don't to reconnect the serer!")}}};this.send=function(e){total_app_buffer_unsend_encoded_byte+=e.length;buffer_amount_queue.enqueue(e);Pace_Sender();return};this.close=function(){this.activeclosewebsocket=true;this.socket.close()}}function JsSocket_Log(e){console.log(e)}function Open_Sharing_WebSocket_Connect(e,n,i,t,r){JsSocket_Log("Open_Sharing_WebSocket_Connect");var o=new Channel_Agent;o.connect(e,n,i,t,r);return o}function sharing_websocket_on_open(){postMessage({status:Sharing_Dec_WebSocket_OK})}function sharing_websocket_on_message(e){let n=new Uint8Array(e.data);if(n[0]==0){if(sharing_media_connect){sharing_media_connect.send(n)}}if(sharing_handle){if(!isSharingEncode){Sharing_Decode(e.data)}else{if(e.data instanceof ArrayBuffer){let n=pdu_queue.dequeue();while(n){sharing_encode_try_analysis(sharing_handle,n,n.length);n=pdu_queue.dequeue()}n=new Uint8Array(e.data);sharing_encode_try_analysis(sharing_handle,n,n.length)}}}else{if(e.data instanceof ArrayBuffer){let n=new Uint8Array(e.data);if(n[0]!=0){pdu_queue.enqueue(n)}}}}function sharing_websocket_on_close(e){JsMediaSDK_Log("sharing_websocket_on_close")}function sharing_websocket_on_error(e){JsMediaSDK_Log("sharing_websocket_on_error")}function JsMediaSDK_Log(e){console.log(e)}function Channel_Agent_Debug(){this.socket=null;this.onopen=null;this.onmessage=null;this.onerror=null;this.onclose=null;this.websocketaddress=null;this.startwebsocketreconnecttime=null;this.reconnect=null;this.activeclosewebsocket=false;this.times=1;this.init=function(e,n,i,t,r){this.websocketaddress=e;this.onopen=n;this.onmessage=i;this.onerror=t;this.onclose=r};this.connect=function(e,n,i,t,r){var o=this;o.init(e,n,i,t,r);o.socket=new WebSocket(o.websocketaddress);o.socket.binaryType="arraybuffer";o.reconnect=function(){o.startwebsocketreconnecttime=null;o.socket=new WebSocket(this.websocketaddress);o.socket.binaryType="arraybuffer";o.socket.onopen=function(e){o.startwebsocketreconnecttime=(new Date).getTime()/1e3;o.onopen(e)};o.socket.onmessage=function(e){o.onmessage(e)};o.socket.onerror=function(e){JsSocket_Log("in function onerror");if(o.startwebsocketreconnecttime===null){JsSocket_Log("In Reconnect Context, Reconnect is unnecessary")}else if((new Date).getTime()/1e3-o.startwebsocketreconnecttime>30){JsSocket_Log(">>>30s");setTimeout(function(){o.reconnect()},1e4)}else{JsSocket_Log("NetWork is Bad, Don't to reconnect the serer!")}};o.socket.onclose=function(e){JsSocket_Log("in function onclose:"+o.startwebsocketreconnecttime);if(o.startwebsocketreconnecttime===null){JsSocket_Log("In Reconnect Context, Reconnect is unnecessary")}else if((new Date).getTime()/1e3-o.startwebsocketreconnecttime>30){JsSocket_Log(">>>30s");o.times=2*o.times;setTimeout(function(){o.reconnect()},o.times*1e3)}else{JsSocket_Log("NetWork is Bad, Don't to reconnect the serer!")}}};o.socket.onopen=function(e){o.startwebsocketreconnecttime=(new Date).getTime()/1e3;o.onopen(e)};o.socket.onmessage=function(e){o.onmessage(e)};o.socket.onerror=function(e){JsSocket_Log("in function onerror");if(o.activeclosewebsocket)return;if(o.startwebsocketreconnecttime===null){JsSocket_Log("Not in Reconnect Context, Reconnect is unnecessary")}else if((new Date).getTime()/1e3-o.startwebsocketreconnecttime>30){JsSocket_Log(">>>30s");setTimeout(function(){o.reconnect()},1e4)}else{JsSocket_Log("NetWork is Bad, Don't to reconnect the serer!")}};this.socket.onclose=function(e){JsSocket_Log("in function onclose:"+o.startwebsocketreconnecttime);if(o.activeclosewebsocket)return;if(o.startwebsocketreconnecttime===null){JsSocket_Log("Not in Reconnect Context, Reconnect is unnecessary")}else if((new Date).getTime()/1e3-o.startwebsocketreconnecttime>30){JsSocket_Log(">>>30s");o.times=2*o.times;setTimeout(function(){o.reconnect()},o.times*1e3)}else{JsSocket_Log("NetWork is Bad, Don't to reconnect the serer!")}}};this.send=function(e){if(this.socket.readyState===1)this.socket.send(e)};this.close=function(){this.activeclosewebsocket=true;this.socket.close()}}function Open_Video_WebSocket_Connect_Debug(e,n,i,t,r){JsSocket_Log("Open_Video_WebSocket_Connect");var o=new Channel_Agent_Debug;o.connect(e,n,i,t,r);return o}function video_websocket_on_open_Debug(){JsMediaSDK_Log("video_websocket_on_open")}function video_websocket_on_message(){JsMediaSDK_Log("video_websocket_on_open")}function video_websocket_on_close(){JsMediaSDK_Log("video_websocket_on_open")}function video_websocket_on_error(){JsMediaSDK_Log("video_websocket_on_open")}function frame_callback(e,n,i,t){var r=Module.HEAP8.subarray(e+0,e+n);decode_jpeg_data=new Uint8Array(r);decode_jpeg_width=i;decode_jpeg_height=t}function Send_Data(e,n){var i=new Uint8Array(n);var t=Module.HEAP8.subarray(e+0,e+n);i.set(t,0,n);sharing_media_connect.send(i)}function Sharing_Encode_Sending_Status(e,n,i,t,r){sharing_encode_width=e;sharing_encode_height=n;sharing_encode_total_frames=i;sharing_max_sub_for_me=t;monitor_stream_index=r;if(monitor_sharing_encoded_total_frames==0){monitor_sharing_encoded_total_frames=i;monitor_sharing_encoded_delta_frames=0}else{monitor_sharing_encoded_delta_frames+=i-monitor_sharing_encoded_total_frames;monitor_sharing_encoded_total_frames=i}}function Sharing_Encode_Codec_Info(e,n,i,t){sharing_max_encoding_time=e;sharing_min_encoding_time=n;sharing_avg_encoding_time=i;sharing_sdev_encoding_time=t}function Sharing_Decode(e){if(e instanceof ArrayBuffer){let u=null;try{let n=new DataView(e,4,4);let i=n.getInt32(0,true);u=i}catch(e){}e=new Uint8Array(e);const c=e.subarray(0,24);const d=c[0];let f;if(d===3||d===5){f={x:parseInt(c[8])+parseInt(c[9])*256+parseInt(c[10])*256*256+parseInt(c[11])*256*256*256,y:parseInt(c[12])+parseInt(c[13])*256+parseInt(c[14])*256*256+parseInt(c[15])*256*256*256,width:parseInt(c[16])+parseInt(c[17])*256+parseInt(c[18])*256*256+parseInt(c[19])*256*256*256,height:parseInt(c[20])+parseInt(c[21])*256+parseInt(c[22])*256*256+parseInt(c[23])*256*256*256}}if(typeof e=="object"){if(d===4){postMessage({status:Sharing_Data,data:{data:e.subarray(24),type:"cursorImage",ssrcFromPDU:u}})}else if(d===5){postMessage({status:Sharing_Data,data:{data:f,type:"cursorImagePos",ssrcFromPDU:u}})}else if(d===3){var n=e;let c=e[2];let d=e[3];var i=n[1];var t=n.subarray(24);if(i>128){headerMap.set(i-128,t);return}else if(i>0&&i<128){var r=headerMap.get(i);if(r){var o=new Uint8Array(r.length+t.length);o.set(r);o.set(t,r.length);t=o}else{return}}var a=f.x;var _=f.y;try{if(sharing_handle){sharing_decode(sharing_handle,t,t.length);var s={};s.buffer=decode_jpeg_data;s.width=decode_jpeg_width;s.height=decode_jpeg_height;var l={type:"image",image:s,posx:a,posy:_,Block:c+d*256,ssrcFromPDU:u};imagBMap.set(c+d*256,{status:Sharing_Data,data:l})}}catch(e){}}}}else{try{var u=JSON.parse(e);if(u&&u.evt==20226){postMessage({status:Sharing_Data,data:{type:"sharingPara",data:u,ssrcFromPDU:u.body?u.body.activeNodeID:null}})}}catch(e){console.log(e)}}}var sendsend=false;function Send_Data_Codec(e,n){var i=new Uint8Array(n);var t=Module.HEAP8.subarray(e+0,e+n);i.set(t,0,n)}function LOG_OUT(e,n){var i=new Uint8Array(n);var t=Module.HEAP8.subarray(e+0,e+n);i.set(t,0,n);if(sharing_media_connect_Debug){sharing_media_connect_Debug.send(i)}}function Utf8ArrayToStr(e){var n,i,t,r;var o,a;n="";t=e.length;i=0;while(i<t){r=e[i++];switch(r>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:n+=String.fromCharCode(r);break;case 12:case 13:o=e[i++];n+=String.fromCharCode((r&31)<<6|o&63);break;case 14:o=e[i++];a=e[i++];n+=String.fromCharCode((r&15)<<12|(o&63)<<6|(a&63)<<0);break}}return n}function monitor_sharing(){if(monitor_sharing_first){monitor_sharing_first=false;monitor_sharing_count++;monitor_sharing_last_time=(new Date).getTime()}else{monitor_sharing_count++;let e=(new Date).getTime();monitor_sharing_elapsed_compute_time+=e-monitor_sharing_last_time;monitor_sharing_elapsed_write_time+=e-monitor_sharing_last_time;monitor_sharing_last_time=e;if(monitor_sharing_elapsed_compute_time>1*1e3){if(sharing_handle){get_sharing_sending_status(sharing_handle)}monitor_sharing_fps=monitor_sharing_count/(monitor_sharing_elapsed_compute_time/1e3);monitor_sharing_count=0;monitor_sharing_encoded_fps=monitor_sharing_encoded_delta_frames/(monitor_sharing_elapsed_compute_time/1e3);monitor_sharing_encoded_delta_frames=0;if(monitor_sharing_max_fps<monitor_sharing_fps){monitor_sharing_max_fps=monitor_sharing_fps}if(monitor_sharing_encoded_max_fps<monitor_sharing_encoded_fps){monitor_sharing_encoded_max_fps=monitor_sharing_encoded_fps}if(monitor_sharing_min_fps>monitor_sharing_fps||monitor_sharing_min_fps==0){monitor_sharing_min_fps=monitor_sharing_fps}if(monitor_sharing_encoded_min_fps>monitor_sharing_encoded_fps||monitor_sharing_encoded_min_fps==0){monitor_sharing_encoded_min_fps=monitor_sharing_encoded_fps}if(monitor_sharing_avg_fps==0){monitor_sharing_avg_fps=monitor_sharing_fps}else{monitor_sharing_avg_fps=(monitor_sharing_avg_fps+monitor_sharing_fps)/2}if(monitor_sharing_encoded_avg_fps==0){monitor_sharing_encoded_avg_fps=monitor_sharing_encoded_fps}else{monitor_sharing_encoded_avg_fps=(monitor_sharing_encoded_avg_fps+monitor_sharing_encoded_fps)/2}if(monitor_sharing_elapsed_write_time>9*1e3){if(sharing_handle){get_codec_info(sharing_handle);get_sharing_sending_status(sharing_handle)}postMessage({status:MONITOR_MESSAGE,max_fps:Math.ceil(monitor_sharing_max_fps),min_fps:Math.ceil(monitor_sharing_min_fps),avg_fps:Math.ceil(monitor_sharing_avg_fps),sharing_width:Math.ceil(sharing_raw_data_width),sharing_height:Math.ceil(sharing_raw_data_height),sharing_send_buffer:Math.ceil(monitor_sharing_send_buffer),sharing_encoded_avg_fps:Math.ceil(monitor_sharing_encoded_avg_fps),sharing_encoded_max_fps:Math.ceil(monitor_sharing_encoded_max_fps),sharing_encoded_min_fps:Math.ceil(monitor_sharing_encoded_min_fps),sharing_max_encoding_time:sharing_max_encoding_time,sharing_min_encoding_time:sharing_min_encoding_time,sharing_avg_encoding_time:sharing_avg_encoding_time,sharing_sdev_encoding_time:sharing_sdev_encoding_time,sharing_encode_width:sharing_encode_width,sharing_encode_height:sharing_encode_height,sharing_encode_total_frames:sharing_encode_total_frames,sharing_max_sub_for_me:sharing_max_sub_for_me,monitor_stream_index:monitor_stream_index});monitor_sharing_elapsed_write_time=0;monitor_sharing_max_fps=0;monitor_sharing_min_fps=0;monitor_sharing_avg_fps=0;monitor_sharing_encoded_avg_fps=0;monitor_sharing_encoded_min_fps=0;monitor_sharing_encoded_max_fps=0}monitor_sharing_send_buffer=0;monitor_sharing_elapsed_compute_time=0}}}function Write_App_Log(){var e=" bufferAmount: "+sharing_media_connect.socket.bufferedAmount+", buffer queue length: "+buffer_amount_queue.getLength()+", unsend byte: "+(total_app_buffer_unsend_encoded_byte+peroid_total_amount)+", send delay"+Compute_Capture_Delay()+", websocket speed: "+current_websocket_speed+"\n";if(sharing_media_connect_Debug){sharing_media_connect_Debug.send(e)}}function Pace_Sender(){if(sharing_media_connect.socket.bufferedAmount>WEBSOCKET_THROTTLING){return}else if(can_I_capture_desktop&&(buffer_amount_queue.getLength()<=20&&current_websocket_speed>0&&sharing_avg_encoding_time&&sharing_avg_encoding_time>0&&(total_app_buffer_unsend_encoded_byte+WEBSOCKET_THROTTLING)*1e3/current_websocket_speed<sharing_avg_encoding_time||total_app_buffer_unsend_encoded_byte-WEBSOCKET_THROTTLING<0)){can_I_capture_desktop=!can_I_capture_desktop;if(last_encode_raw_frame){Sharing_Capture(last_encode_raw_frame);last_encode_raw_frame=null}else{postMessage({status:Video_Capture_Tick})}}if(buffer_amount_queue.getLength()>20&&!Sending_Pace_Start){Sending_Pace_Start=true;Sending_Pace_Count=0;let e=new Int32Array(2);let n=new Int8Array(e.buffer);n[0]=28;pace_start_time=(new Date).getTime();e[1]=0;sharing_media_connect.socket.send(n)}if(Sending_Pace_Start&&Sending_Pace_Count==20){Sending_Pace_Start=false;let e=new Int32Array(2);let n=new Int8Array(e.buffer);n[0]=29;e[1]=(new Date).getTime()-pace_start_time;sharing_media_connect.socket.send(n)}let e=buffer_amount_queue.dequeue();while(e){Sending_Pace_Count++;sharing_media_connect.socket.send(e);Compute_WebSocket_Speed(e);total_app_buffer_unsend_encoded_byte=total_app_buffer_unsend_encoded_byte-e.length;if(sharing_media_connect.socket.bufferedAmount>WEBSOCKET_THROTTLING){Write_App_Log();return}e=buffer_amount_queue.dequeue()}Write_App_Log()}function Compute_WebSocket_Speed(e){var n;if(!peroid_start_time){peroid_total_amount=0;peroid_start_time=(new Date).getTime()/1e3;if(sharing_handle)sharing_set_websocket_speed(sharing_handle,SEND_SPEED_DEFAULT)}else{var i=(new Date).getTime()/1e3;n=i-peroid_start_time;if(n>10){var t=peroid_total_amount-sharing_media_connect.socket.bufferedAmount;if(sharing_media_connect.socket.bufferedAmount==0){if(last_peroid_speed){last_peroid_speed=.8*last_peroid_speed+.2*SEND_SPEED_DEFAULT}else{last_peroid_speed=SEND_SPEED_DEFAULT}if(sharing_handle)sharing_set_websocket_speed(sharing_handle,last_peroid_speed)}else{monitor_sharing_send_buffer=t;peroid_speed=t*8/(n*1);if(!last_peroid_speed){last_peroid_speed=SEND_SPEED_DEFAULT}else{last_peroid_speed=.8*last_peroid_speed+.2*peroid_speed}if(sharing_handle)sharing_set_websocket_speed(sharing_handle,last_peroid_speed)}peroid_total_amount=peroid_total_amount-t;peroid_start_time=i}}peroid_total_amount+=e.length}function Compute_Capture_Delay(){var e=total_app_buffer_unsend_encoded_byte+peroid_total_amount-WEBSOCKET_THROTTLING/2;if(current_websocket_speed==0||e<=0){return 0}else if(current_websocket_speed>0){return e/current_websocket_speed}}function APP_Troubleshoting_Info(e,n){var i=new Uint8Array(n);var t=Module.HEAP8.subarray(e+0,e+n);i.set(t,0,n);postMessage({status:APP_TROUBLESHOOTING_INFO,data:Utf8ArrayToStr(i)})}function Sharing_Capture(e){if(!isChromeOrEdge&&e){postMessage({status:Video_Capture_Tick,data:e.data},[e.data.buffer])}else{postMessage({status:Video_Capture_Tick})}}function Update_WebSokcet_Speed(e){if(!current_websocket_speed){current_websocket_speed=e}else{current_websocket_speed=(current_websocket_speed+e)/2}}(function(e){e.addEventListener("message",function(e){var n=e.data;switch(n.command){case"startMedia":{try{if(!n.encode){sharing_handle=sharing_init();if(sharing_handle){postMessage({status:Sharing_Handle_OK});sharing_media_connect=Open_Sharing_WebSocket_Connect(n.websocket_ip_address,sharing_websocket_on_open,sharing_websocket_on_message,sharing_websocket_on_error,sharing_websocket_on_close)}else{postMessage({status:Sharing_Handle_FAILED})}}else{if(n.isChromeOrEdge){isChromeOrEdge=n.isChromeOrEdge}isSharingEncode=true;postMessage({status:Sharing_Handle_OK});let e=n.websocket_ip_address.slice(0,n.websocket_ip_address.length-42)+"s"+n.websocket_ip_address.slice(n.websocket_ip_address.length-41,n.websocket_ip_address.length)+"&mode=2";sharing_media_connect=Open_Sharing_WebSocket_Connect(e,sharing_websocket_on_open,sharing_websocket_on_message,sharing_websocket_on_error,sharing_websocket_on_close)}}catch(e){console.log(e)}}break;case"closeMedia":stopDrawImage=true;if(sharing_handle){sharing_uninit(sharing_handle)}sharing_handle=null;close();break;case"updateSharingStatus":if(n.status){imageInterval=setInterval(function(){imagBMap.forEach(function(e,n){postMessage(e,[e.data.image.buffer.buffer]);imagBMap.delete(n)})},1e3)}else{clearInterval(imageInterval);headerMap.clear();imagBMap.clear()}break;case"ENCRYPT":{sharing_encode_encrypt=n.encrypt;if(sharing_handle){if(sharing_encode_encrypt){sharing_set_data_encryption(sharing_handle,1)}else{sharing_set_data_encryption(sharing_handle,0)}}}break;case"startSharingEncode":{if(!sharing_handle){sharing_handle=sharing_encode_init(n.ssid);if(!sharing_handle){postMessage({status:Sharing_Handle_FAILED})}else{if(sharing_encode_encrypt){sharing_set_data_encryption(sharing_handle,1)}else{sharing_set_data_encryption(sharing_handle,0)}}}postMessage({status:Video_Capture_Tick})}break;case"encodeSharingFrame":{if(!pace_sender_interval){pace_sender_interval=setInterval(function(){Pace_Sender()},100)}let e=n;if(e){if(sharing_raw_data_width*sharing_raw_data_height!=e.width*e.height){sharing_raw_data_width=e.width;sharing_raw_data_height=e.height;if(sharing_memory_ptr){Module._free(sharing_memory_ptr)}sharing_memory_ptr=Module._malloc(4*sharing_raw_data_width*sharing_raw_data_height)}var i=Module.HEAPU8.subarray(sharing_memory_ptr,sharing_memory_ptr+4*sharing_raw_data_width*sharing_raw_data_height);i.set(e.data,0,e.data.length);monitor_sharing();sharing_encode(sharing_handle,sharing_memory_ptr,e.data.length,sharing_raw_data_width,sharing_raw_data_height)}can_I_capture_desktop=true;last_encode_raw_frame=e}break;case"pause":{if(sharing_handle){sharing_pause_encode(sharing_handle)}can_I_capture_desktop=false}break;case"stop":{if(sharing_handle){sharing_stop_encode(sharing_handle);sharing_encode_uninit(sharing_handle);sharing_handle=null;buffer_amount_queue=new Queue}if(pace_sender_interval){clearInterval(pace_sender_interval);pace_sender_interval=0}can_I_capture_desktop=false;total_app_buffer_unsend_encoded_byte=0}break;case"resume":{if(sharing_handle){sharing_resume_encode(sharing_handle)}}break}})})(self);