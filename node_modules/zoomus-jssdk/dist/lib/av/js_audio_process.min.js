FVERSION=442;WebAssembly.instantiateStreaming=false;const Audio_Dec_WASM_OK=1;const Audio_Dec_Handle_OK=2;const Audio_Dec_WebSocket_OK=3;const Audio_Enc_WASM_OK=4;const Audio_Enc_Handle_OK=5;const Video_Dec_WASM_OK=7;const Video_Dec_Handle_OK=8;const Video_Dec_WebSocket_OK=9;const Video_Enc_WASM_OK=10;const Video_Enc_Handle_OK=11;const Sharing_Dec_WASM_OK=12;const Sharing_Dec_PICTURE=13;const AUDIO_DELAY=14;const DOWNLOAD_WASM_FROM_MAIN_THREAD=30;const DELTA_D=32;const DELTA_C=33;const DELTA_S=34;const WCL_TROUBLESHOOTING_INFO=35;const Audio_Dec_WASM_FAILED=-1;const Audio_Dec_Handle_FAILED=-2;const Audio_Dec_WebSocket_FAILED=-3;const Audio_Enc_WASM_FAILED=-4;const Audio_Enc_Handle_FAILED=-5;const Video_Dec_WASM_FAILED=-7;const Video_Dec_Handle_FAILED=-8;const Video_Dec_WebSocket_FAILED=-9;const Video_Enc_WASM_FAILED=-10;const Video_Enc_Handle_FAILED=-11;const Sharing_Dec_WASM_FAILED=-12;const Audio_Mute=-13;function add_monitor(e){postMessage({status:WCL_TROUBLESHOOTING_INFO,data:e})}function instantiateCachedURL(e,t,r){const n="wasm-audio-cache";const i="wasm-audio-cache";const o="audio_wasm";const a=t;const u=r;function s(){return new Promise((t,r)=>{var o=indexedDB.open(n,e);o.onerror=r.bind(null,"Error opening wasm cache database");o.onsuccess=(()=>{t(o.result)});o.onupgradeneeded=(e=>{var t=o.result;if(t.objectStoreNames.contains(i)){console.log(`Clearing out version ${e.oldVersion} wasm cache`);t.deleteObjectStore(i)}console.log(`Creating version ${e.newVersion} wasm cache`);t.createObjectStore(i)})})}function l(e){return new Promise((r,n)=>{var a=e.transaction([i]).objectStore(i);var u=a.get(o);u.onerror=n.bind(null,`Error getting wasm module ${t}`);u.onsuccess=(e=>{if(u.result)r(u.result);else n(`Module ${t} was not found in wasm cache`)})})}function _(e,r){var n=e.transaction([i],"readwrite").objectStore(i);var a=n.put(r,o);a.onerror=(e=>{console.log(`Failed to store in wasm cache: ${e}`)});a.onsuccess=(e=>{console.log(`Successfully stored ${t} in wasm cache`)})}function c(e,t){return f(e)}function f(e){let t=this;return new Promise((r,n)=>{t.addEventListener("message",e=>{let t=e.data;if(t.command==="DOWNLOAD_WASM_FROM_MAIN_THREAD_OK"){add_monitor("DE");r(t.data)}if(t.command==="DOWNLOAD_WASM_FROM_MAIN_THREAD_FAILED"){n()}});add_monitor("DS");postMessage({status:DOWNLOAD_WASM_FROM_MAIN_THREAD,url:e})})}function d(e){return new Promise(function(t,r){try{if(indexedDB){var n=FVERSION;var i=typeof IDBTransaction.READ_WRITE=="undefined"?"readwrite":IDBTransaction.READ_WRITE;var o=indexedDB.open("AUDIO_FILE",n),a,s=function(e){var t="file";if(e.objectStoreNames.contains(t)){e.deleteObjectStore(t)}e.createObjectStore(t)};o.onerror=function(r){var n=indexedDB.deleteDatabase("AUDIO_FILE");n.onerror=function(e){console.log("Error deleting database")};n.onsuccess=function(e){console.log("Database deleted successfully")};t(c(e,u).then(e=>{add_monitor("CS");var t=WebAssembly.instantiate(e,u);add_monitor("CE");return t}))};o.onsuccess=function(r){a=r.target.result;var n=a.transaction(["file"],i).objectStore("file");var o=n.get("audio");o.onsuccess=function(r){if(o.result){var n=r.target.result;add_monitor("CS");let e=WebAssembly.instantiate(n,u);add_monitor("CE");t(e)}else{t(c(e,u).then(e=>{a.transaction(["file"],i).objectStore("file").put(e,"audio");add_monitor("CS");var t=WebAssembly.instantiate(e,u);add_monitor("CE");return t}))}};o.onerror=function(r){t(c(e,u).then(e=>{add_monitor("CS");var t=WebAssembly.instantiate(e,u);add_monitor("CE");return t}))}};o.onupgradeneeded=function(e){s(e.target.result)}}else{t(c(e,u).then(e=>{add_monitor("CS");var t=WebAssembly.instantiate(e,u);add_monitor("CE");return t}))}}catch(r){t(c(e,u).then(e=>{add_monitor("CS");var t=WebAssembly.instantiate(e,u);add_monitor("CE");return t}))}})}function E(e){exports=e.exports;if(exports.memory)mergeMemory(exports.memory);Module["asm"]=exports;Module["usingWasm"]=true;removeRunDependency("wasm-instantiate")}return d(a).then(e=>{E(e.instance);postMessage({status:Audio_Dec_WASM_OK});return}).catch(function(e){console.log(e);postMessage({status:Audio_Dec_WASM_FAILED});return})}var Module=typeof Module!=="undefined"?Module:{};var moduleOverrides={};var key;for(key in Module){if(Module.hasOwnProperty(key)){moduleOverrides[key]=Module[key]}}Module["arguments"]=[];Module["thisProgram"]="./this.program";Module["quit"]=function(e,t){throw t};Module["preRun"]=[];Module["postRun"]=[];var ENVIRONMENT_IS_WEB=false;var ENVIRONMENT_IS_WORKER=false;var ENVIRONMENT_IS_NODE=false;var ENVIRONMENT_IS_SHELL=false;ENVIRONMENT_IS_WEB=typeof window==="object";ENVIRONMENT_IS_WORKER=typeof importScripts==="function";ENVIRONMENT_IS_NODE=typeof process==="object"&&typeof require==="function"&&!ENVIRONMENT_IS_WEB&&!ENVIRONMENT_IS_WORKER;ENVIRONMENT_IS_SHELL=!ENVIRONMENT_IS_WEB&&!ENVIRONMENT_IS_NODE&&!ENVIRONMENT_IS_WORKER;var scriptDirectory="";function locateFile(e){if(Module["locateFile"]){return Module["locateFile"](e,scriptDirectory)}else{return scriptDirectory+e}}if(ENVIRONMENT_IS_NODE){scriptDirectory=__dirname+"/";var nodeFS;var nodePath;Module["read"]=function e(t,r){var n;if(!nodeFS)nodeFS=require("fs");if(!nodePath)nodePath=require("path");t=nodePath["normalize"](t);n=nodeFS["readFileSync"](t);return r?n:n.toString()};Module["readBinary"]=function e(t){var r=Module["read"](t,true);if(!r.buffer){r=new Uint8Array(r)}assert(r.buffer);return r};if(process["argv"].length>1){Module["thisProgram"]=process["argv"][1].replace(/\\/g,"/")}Module["arguments"]=process["argv"].slice(2);if(typeof module!=="undefined"){module["exports"]=Module}process["on"]("uncaughtException",function(e){if(!(e instanceof ExitStatus)){throw e}});process["on"]("unhandledRejection",function(e,t){process["exit"](1)});Module["quit"]=function(e){process["exit"](e)};Module["inspect"]=function(){return"[Emscripten Module object]"}}else if(ENVIRONMENT_IS_SHELL){if(typeof read!="undefined"){Module["read"]=function e(t){return read(t)}}Module["readBinary"]=function e(t){var r;if(typeof readbuffer==="function"){return new Uint8Array(readbuffer(t))}r=read(t,"binary");assert(typeof r==="object");return r};if(typeof scriptArgs!="undefined"){Module["arguments"]=scriptArgs}else if(typeof arguments!="undefined"){Module["arguments"]=arguments}if(typeof quit==="function"){Module["quit"]=function(e){quit(e)}}}else if(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER){if(ENVIRONMENT_IS_WEB){var currentScript=document.currentScript;if(currentScript.src.indexOf("blob:")!==0){scriptDirectory=currentScript.src.split("/").slice(0,-1).join("/")+"/"}}else if(ENVIRONMENT_IS_WORKER){scriptDirectory=self.location.href.split("/").slice(0,-1).join("/")+"/"}Module["read"]=function e(t){var r=new XMLHttpRequest;r.open("GET",t,false);r.send(null);return r.responseText};if(ENVIRONMENT_IS_WORKER){Module["readBinary"]=function e(t){var r=new XMLHttpRequest;r.open("GET",t,false);r.responseType="arraybuffer";r.send(null);return new Uint8Array(r.response)}}Module["readAsync"]=function e(t,r,n){var i=new XMLHttpRequest;i.open("GET",t,true);i.responseType="arraybuffer";i.onload=function e(){if(i.status==200||i.status==0&&i.response){r(i.response);return}n()};i.onerror=n;i.send(null)};Module["setWindowTitle"]=function(e){document.title=e}}else{}var out=Module["print"]||(typeof console!=="undefined"?console.log.bind(console):typeof print!=="undefined"?print:null);var err=Module["printErr"]||(typeof printErr!=="undefined"?printErr:typeof console!=="undefined"&&console.warn.bind(console)||out);for(key in moduleOverrides){if(moduleOverrides.hasOwnProperty(key)){Module[key]=moduleOverrides[key]}}moduleOverrides=undefined;var STACK_ALIGN=16;function staticAlloc(e){var t=STATICTOP;STATICTOP=STATICTOP+e+15&-16;return t}function dynamicAlloc(e){var t=HEAP32[DYNAMICTOP_PTR>>2];var r=t+e+15&-16;HEAP32[DYNAMICTOP_PTR>>2]=r;if(r>=TOTAL_MEMORY){var n=enlargeMemory();if(!n){HEAP32[DYNAMICTOP_PTR>>2]=t;return 0}}return t}function alignMemory(e,t){if(!t)t=STACK_ALIGN;var r=e=Math.ceil(e/t)*t;return r}function getNativeTypeSize(e){switch(e){case"i1":case"i8":return 1;case"i16":return 2;case"i32":return 4;case"i64":return 8;case"float":return 4;case"double":return 8;default:{if(e[e.length-1]==="*"){return 4}else if(e[0]==="i"){var t=parseInt(e.substr(1));assert(t%8===0);return t/8}else{return 0}}}}function warnOnce(e){if(!warnOnce.shown)warnOnce.shown={};if(!warnOnce.shown[e]){warnOnce.shown[e]=1;err(e)}}var asm2wasmImports={"f64-rem":function(e,t){return e%t},debugger:function(){debugger}};var jsCallStartIndex=1;var functionPointers=new Array(0);var funcWrappers={};function dynCall(e,t,r){if(r&&r.length){return Module["dynCall_"+e].apply(null,[t].concat(r))}else{return Module["dynCall_"+e].call(null,t)}}var GLOBAL_BASE=1024;var ABORT=0;var EXITSTATUS=0;function assert(e,t){if(!e){abort("Assertion failed: "+t)}}function getCFunc(e){var t=Module["_"+e];assert(t,"Cannot call unknown function "+e+", make sure it is exported");return t}var JSfuncs={stackSave:function(){stackSave()},stackRestore:function(){stackRestore()},arrayToC:function(e){var t=stackAlloc(e.length);writeArrayToMemory(e,t);return t},stringToC:function(e){var t=0;if(e!==null&&e!==undefined&&e!==0){var r=(e.length<<2)+1;t=stackAlloc(r);stringToUTF8(e,t,r)}return t}};var toC={string:JSfuncs["stringToC"],array:JSfuncs["arrayToC"]};function ccall(e,t,r,n,i){function o(e){if(t==="string")return Pointer_stringify(e);if(t==="boolean")return Boolean(e);return e}var a=getCFunc(e);var u=[];var s=0;if(n){for(var l=0;l<n.length;l++){var _=toC[r[l]];if(_){if(s===0)s=stackSave();u[l]=_(n[l])}else{u[l]=n[l]}}}var c=a.apply(null,u);c=o(c);if(s!==0)stackRestore(s);return c}function cwrap(e,t,r,n){r=r||[];var i=r.every(function(e){return e==="number"});var o=t!=="string";if(o&&i&&!n){return getCFunc(e)}return function(){return ccall(e,t,r,arguments,n)}}function setValue(e,t,r,n){r=r||"i8";if(r.charAt(r.length-1)==="*")r="i32";switch(r){case"i1":HEAP8[e>>0]=t;break;case"i8":HEAP8[e>>0]=t;break;case"i16":HEAP16[e>>1]=t;break;case"i32":HEAP32[e>>2]=t;break;case"i64":tempI64=[t>>>0,(tempDouble=t,+Math_abs(tempDouble)>=1?tempDouble>0?(Math_min(+Math_floor(tempDouble/4294967296),4294967295)|0)>>>0:~~+Math_ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[e>>2]=tempI64[0],HEAP32[e+4>>2]=tempI64[1];break;case"float":HEAPF32[e>>2]=t;break;case"double":HEAPF64[e>>3]=t;break;default:abort("invalid type for setValue: "+r)}}var ALLOC_STATIC=2;var ALLOC_NONE=4;function allocate(e,t,r,n){var i,o;if(typeof e==="number"){i=true;o=e}else{i=false;o=e.length}var a=typeof t==="string"?t:null;var u;if(r==ALLOC_NONE){u=n}else{u=[typeof _malloc==="function"?_malloc:staticAlloc,stackAlloc,staticAlloc,dynamicAlloc][r===undefined?ALLOC_STATIC:r](Math.max(o,a?1:t.length))}if(i){var s;n=u;assert((u&3)==0);s=u+(o&~3);for(;n<s;n+=4){HEAP32[n>>2]=0}s=u+o;while(n<s){HEAP8[n++>>0]=0}return u}if(a==="i8"){if(e.subarray||e.slice){HEAPU8.set(e,u)}else{HEAPU8.set(new Uint8Array(e),u)}return u}var l=0,_,c,f;while(l<o){var d=e[l];_=a||t[l];if(_===0){l++;continue}if(_=="i64")_="i32";setValue(u+l,d,_);if(f!==_){c=getNativeTypeSize(_);f=_}l+=c}return u}function getMemory(e){if(!staticSealed)return staticAlloc(e);if(!runtimeInitialized)return dynamicAlloc(e);return _malloc(e)}function Pointer_stringify(e,t){if(t===0||!e)return"";var r=0;var n;var i=0;while(1){n=HEAPU8[e+i>>0];r|=n;if(n==0&&!t)break;i++;if(t&&i==t)break}if(!t)t=i;var o="";if(r<128){var a=1024;var u;while(t>0){u=String.fromCharCode.apply(String,HEAPU8.subarray(e,e+Math.min(t,a)));o=o?o+u:u;e+=a;t-=a}return o}return UTF8ToString(e)}var UTF8Decoder=typeof TextDecoder!=="undefined"?new TextDecoder("utf8"):undefined;function UTF8ArrayToString(e,t){var r=t;while(e[r])++r;if(r-t>16&&e.subarray&&UTF8Decoder){return UTF8Decoder.decode(e.subarray(t,r))}else{var n,i,o,a,u,s;var l="";while(1){n=e[t++];if(!n)return l;if(!(n&128)){l+=String.fromCharCode(n);continue}i=e[t++]&63;if((n&224)==192){l+=String.fromCharCode((n&31)<<6|i);continue}o=e[t++]&63;if((n&240)==224){n=(n&15)<<12|i<<6|o}else{a=e[t++]&63;if((n&248)==240){n=(n&7)<<18|i<<12|o<<6|a}else{u=e[t++]&63;if((n&252)==248){n=(n&3)<<24|i<<18|o<<12|a<<6|u}else{s=e[t++]&63;n=(n&1)<<30|i<<24|o<<18|a<<12|u<<6|s}}}if(n<65536){l+=String.fromCharCode(n)}else{var _=n-65536;l+=String.fromCharCode(55296|_>>10,56320|_&1023)}}}}function UTF8ToString(e){return UTF8ArrayToString(HEAPU8,e)}function stringToUTF8Array(e,t,r,n){if(!(n>0))return 0;var i=r;var o=r+n-1;for(var a=0;a<e.length;++a){var u=e.charCodeAt(a);if(u>=55296&&u<=57343)u=65536+((u&1023)<<10)|e.charCodeAt(++a)&1023;if(u<=127){if(r>=o)break;t[r++]=u}else if(u<=2047){if(r+1>=o)break;t[r++]=192|u>>6;t[r++]=128|u&63}else if(u<=65535){if(r+2>=o)break;t[r++]=224|u>>12;t[r++]=128|u>>6&63;t[r++]=128|u&63}else if(u<=2097151){if(r+3>=o)break;t[r++]=240|u>>18;t[r++]=128|u>>12&63;t[r++]=128|u>>6&63;t[r++]=128|u&63}else if(u<=67108863){if(r+4>=o)break;t[r++]=248|u>>24;t[r++]=128|u>>18&63;t[r++]=128|u>>12&63;t[r++]=128|u>>6&63;t[r++]=128|u&63}else{if(r+5>=o)break;t[r++]=252|u>>30;t[r++]=128|u>>24&63;t[r++]=128|u>>18&63;t[r++]=128|u>>12&63;t[r++]=128|u>>6&63;t[r++]=128|u&63}}t[r]=0;return r-i}function stringToUTF8(e,t,r){return stringToUTF8Array(e,HEAPU8,t,r)}function lengthBytesUTF8(e){var t=0;for(var r=0;r<e.length;++r){var n=e.charCodeAt(r);if(n>=55296&&n<=57343)n=65536+((n&1023)<<10)|e.charCodeAt(++r)&1023;if(n<=127){++t}else if(n<=2047){t+=2}else if(n<=65535){t+=3}else if(n<=2097151){t+=4}else if(n<=67108863){t+=5}else{t+=6}}return t}var UTF16Decoder=typeof TextDecoder!=="undefined"?new TextDecoder("utf-16le"):undefined;function allocateUTF8(e){var t=lengthBytesUTF8(e)+1;var r=_malloc(t);if(r)stringToUTF8Array(e,HEAP8,r,t);return r}function demangle(e){var t=Module["___cxa_demangle"]||Module["__cxa_demangle"];assert(t);try{var r=e.substr(1);var n=lengthBytesUTF8(r)+1;var i=_malloc(n);stringToUTF8(r,i,n);var o=_malloc(4);var a=t(i,0,0,o);if(HEAP32[o>>2]===0&&a){return Pointer_stringify(a)}}catch(e){}finally{if(i)_free(i);if(o)_free(o);if(a)_free(a)}return e}function demangleAll(e){var t=/__Z[\w\d_]+/g;return e.replace(t,function(e){var t=demangle(e);return e===t?e:e+" ["+t+"]"})}function jsStackTrace(){var e=new Error;if(!e.stack){try{throw new Error(0)}catch(t){e=t}if(!e.stack){return"(no stack trace available)"}}return e.stack.toString()}function stackTrace(){var e=jsStackTrace();if(Module["extraStackTrace"])e+="\n"+Module["extraStackTrace"]();return demangleAll(e)}var PAGE_SIZE=16384;var WASM_PAGE_SIZE=65536;var ASMJS_PAGE_SIZE=16777216;function alignUp(e,t){if(e%t>0){e+=t-e%t}return e}var buffer,HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAPF64;function updateGlobalBuffer(e){Module["buffer"]=buffer=e}function updateGlobalBufferViews(){Module["HEAP8"]=HEAP8=new Int8Array(buffer);Module["HEAP16"]=HEAP16=new Int16Array(buffer);Module["HEAP32"]=HEAP32=new Int32Array(buffer);Module["HEAPU8"]=HEAPU8=new Uint8Array(buffer);Module["HEAPU16"]=HEAPU16=new Uint16Array(buffer);Module["HEAPU32"]=HEAPU32=new Uint32Array(buffer);Module["HEAPF32"]=HEAPF32=new Float32Array(buffer);Module["HEAPF64"]=HEAPF64=new Float64Array(buffer)}var STATIC_BASE,STATICTOP,staticSealed;var STACK_BASE,STACKTOP,STACK_MAX;var DYNAMIC_BASE,DYNAMICTOP_PTR;STATIC_BASE=STATICTOP=STACK_BASE=STACKTOP=STACK_MAX=DYNAMIC_BASE=DYNAMICTOP_PTR=0;staticSealed=false;function abortOnCannotGrowMemory(){abort("Cannot enlarge memory arrays. Either (1) compile with  -s TOTAL_MEMORY=X  with X higher than the current value "+TOTAL_MEMORY+", (2) compile with  -s ALLOW_MEMORY_GROWTH=1  which allows increasing the size at runtime, or (3) if you want malloc to return NULL (0) instead of this abort, compile with  -s ABORTING_MALLOC=0 ")}function enlargeMemory(){abortOnCannotGrowMemory()}var TOTAL_STACK=Module["TOTAL_STACK"]||5242880;var TOTAL_MEMORY=Module["TOTAL_MEMORY"]||104857600;if(TOTAL_MEMORY<TOTAL_STACK)err("TOTAL_MEMORY should be larger than TOTAL_STACK, was "+TOTAL_MEMORY+"! (TOTAL_STACK="+TOTAL_STACK+")");if(Module["buffer"]){buffer=Module["buffer"]}else{if(typeof WebAssembly==="object"&&typeof WebAssembly.Memory==="function"){Module["wasmMemory"]=new WebAssembly.Memory({initial:TOTAL_MEMORY/WASM_PAGE_SIZE,maximum:TOTAL_MEMORY/WASM_PAGE_SIZE});buffer=Module["wasmMemory"].buffer}else{buffer=new ArrayBuffer(TOTAL_MEMORY)}Module["buffer"]=buffer}updateGlobalBufferViews();function getTotalMemory(){return TOTAL_MEMORY}function callRuntimeCallbacks(e){while(e.length>0){var t=e.shift();if(typeof t=="function"){t();continue}var r=t.func;if(typeof r==="number"){if(t.arg===undefined){Module["dynCall_v"](r)}else{Module["dynCall_vi"](r,t.arg)}}else{r(t.arg===undefined?null:t.arg)}}}var __ATPRERUN__=[];var __ATINIT__=[];var __ATMAIN__=[];var __ATEXIT__=[];var __ATPOSTRUN__=[];var runtimeInitialized=false;var runtimeExited=false;function preRun(){if(Module["preRun"]){if(typeof Module["preRun"]=="function")Module["preRun"]=[Module["preRun"]];while(Module["preRun"].length){addOnPreRun(Module["preRun"].shift())}}callRuntimeCallbacks(__ATPRERUN__)}function ensureInitRuntime(){if(runtimeInitialized)return;runtimeInitialized=true;callRuntimeCallbacks(__ATINIT__)}function preMain(){callRuntimeCallbacks(__ATMAIN__)}function exitRuntime(){callRuntimeCallbacks(__ATEXIT__);runtimeExited=true}function postRun(){if(Module["postRun"]){if(typeof Module["postRun"]=="function")Module["postRun"]=[Module["postRun"]];while(Module["postRun"].length){addOnPostRun(Module["postRun"].shift())}}callRuntimeCallbacks(__ATPOSTRUN__)}function addOnPreRun(e){__ATPRERUN__.unshift(e)}function addOnPostRun(e){__ATPOSTRUN__.unshift(e)}function writeArrayToMemory(e,t){HEAP8.set(e,t)}function writeAsciiToMemory(e,t,r){for(var n=0;n<e.length;++n){HEAP8[t++>>0]=e.charCodeAt(n)}if(!r)HEAP8[t>>0]=0}var Math_abs=Math.abs;var Math_ceil=Math.ceil;var Math_floor=Math.floor;var Math_min=Math.min;var runDependencies=0;var runDependencyWatcher=null;var dependenciesFulfilled=null;function getUniqueRunDependency(e){return e}function addRunDependency(e){runDependencies++;if(Module["monitorRunDependencies"]){Module["monitorRunDependencies"](runDependencies)}}function removeRunDependency(e){runDependencies--;if(Module["monitorRunDependencies"]){Module["monitorRunDependencies"](runDependencies)}if(runDependencies==0){if(runDependencyWatcher!==null){clearInterval(runDependencyWatcher);runDependencyWatcher=null}if(dependenciesFulfilled){var t=dependenciesFulfilled;dependenciesFulfilled=null;t()}}}Module["preloadedImages"]={};Module["preloadedAudios"]={};var dataURIPrefix="data:application/octet-stream;base64,";function isDataURI(e){return String.prototype.startsWith?e.startsWith(dataURIPrefix):e.indexOf(dataURIPrefix)===0}function integrateWasmJS(){var e="audio.encode.wast";var t="audio.encode.wasm";var r="audio.encode.temp.asm.js";if(!isDataURI(e)){e=locateFile(e)}if(!isDataURI(t)){t=locateFile(t)}if(!isDataURI(r)){r=locateFile(r)}var n=64*1024;var i={global:null,env:null,asm2wasm:asm2wasmImports,parent:Module};var o=null;function a(e){var t=Module["buffer"];if(e.byteLength<t.byteLength){err("the new buffer in mergeMemory is smaller than the previous one. in native wasm, we should grow memory here")}var r=new Int8Array(t);var n=new Int8Array(e);n.set(r);updateGlobalBuffer(e);updateGlobalBufferViews()}function u(e){return e}function s(){try{if(Module["wasmBinary"]){return new Uint8Array(Module["wasmBinary"])}if(Module["readBinary"]){return Module["readBinary"](t)}else{throw"both async and sync fetching of the wasm failed"}}catch(e){abort(e)}}function l(){if(!Module["wasmBinary"]&&(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)&&typeof fetch==="function"){return fetch(t,{credentials:"same-origin"}).then(function(e){if(!e["ok"]){throw"failed to load wasm binary file at '"+t+"'"}return e["arrayBuffer"]()}).catch(function(){return s()})}return new Promise(function(e,t){e(s())})}function _(e,r,n){if(typeof WebAssembly!=="object"){err("no native wasm support detected");return false}if(!(Module["wasmMemory"]instanceof WebAssembly.Memory)){err("no native wasm Memory in use");return false}r["memory"]=Module["wasmMemory"];i["global"]={NaN:NaN,Infinity:Infinity};i["global.Math"]=Math;i["env"]=r;function u(e,t){o=e.exports;if(o.memory)a(o.memory);Module["asm"]=o;Module["usingWasm"]=true;removeRunDependency("wasm-instantiate")}addRunDependency("wasm-instantiate");if(Module["instantiateWasm"]){try{return Module["instantiateWasm"](i,u)}catch(e){err("Module.instantiateWasm callback failed with error: "+e);return false}}function s(e){u(e["instance"],e["module"])}function _(e){instantiateCachedURL(442,wasmUrl+"audio.encode.wasm",i);return{};l().then(function(e){return WebAssembly.instantiate(e,i)}).then(e).catch(function(e){err("failed to asynchronously prepare wasm: "+e);abort(e)})}if(!Module["wasmBinary"]&&typeof WebAssembly.instantiateStreaming==="function"&&!isDataURI(t)&&typeof fetch==="function"){WebAssembly.instantiateStreaming(fetch(t,{credentials:"same-origin"}),i).then(s).catch(function(e){err("wasm streaming compile failed: "+e);err("falling back to ArrayBuffer instantiation");_(s)})}else{_(s)}return{}}Module["asmPreload"]=Module["asm"];var c=Module["reallocBuffer"];var f=function(e){var t=Module["usingWasm"]?WASM_PAGE_SIZE:ASMJS_PAGE_SIZE;e=alignUp(e,t);var r=Module["buffer"];var i=r.byteLength;if(Module["usingWasm"]){try{var o=Module["wasmMemory"].grow((e-i)/n);if(o!==(-1|0)){return Module["buffer"]=Module["wasmMemory"].buffer}else{return null}}catch(e){return null}}};Module["reallocBuffer"]=function(e){if(d==="asmjs"){return c(e)}else{return f(e)}};var d="";Module["asm"]=function(e,t,r){t=u(t);if(!t["table"]){var n=Module["wasmTableSize"];if(n===undefined)n=1024;var i=Module["wasmMaxTableSize"];if(typeof WebAssembly==="object"&&typeof WebAssembly.Table==="function"){if(i!==undefined){t["table"]=new WebAssembly.Table({initial:n,maximum:i,element:"anyfunc"})}else{t["table"]=new WebAssembly.Table({initial:n,element:"anyfunc"})}}else{t["table"]=new Array(n)}Module["wasmTable"]=t["table"]}if(!t["memoryBase"]){t["memoryBase"]=Module["STATIC_BASE"]}if(!t["tableBase"]){t["tableBase"]=0}var o;o=_(e,t,r);assert(o,"no binaryen method succeeded.");return o}}integrateWasmJS();var ASM_CONSTS=[function(e,t){send_data(e,t)},function(e,t){audio_encode_frame_callback(e,t)},function(e,t,r){Get_ExternalRecord(e,t,r)},function(e,t,r,n,i,o,a,u){frame_callback(e,t,r,n,i,o,a,u)},function(e,t){get_edition(e,t)}];function _emscripten_asm_const_iiii(e,t,r,n){return ASM_CONSTS[e](t,r,n)}function _emscripten_asm_const_iii(e,t,r){return ASM_CONSTS[e](t,r)}function _emscripten_asm_const_iiiiiiiii(e,t,r,n,i,o,a,u,s){return ASM_CONSTS[e](t,r,n,i,o,a,u,s)}STATIC_BASE=GLOBAL_BASE;STATICTOP=STATIC_BASE+177856;__ATINIT__.push({func:function(){__GLOBAL__I_000101()}},{func:function(){___cxx_global_var_init_4()}},{func:function(){__GLOBAL__sub_I_iostream_cpp()}},{func:function(){___emscripten_environ_constructor()}},{func:function(){__GLOBAL__sub_I_text_stream_cpp()}},{func:function(){___cxx_global_var_init_12()}},{func:function(){__GLOBAL__sub_I_singleton_cpp()}},{func:function(){__GLOBAL__sub_I_log_cpp()}},{func:function(){___cxx_global_var_init_48()}},{func:function(){___cxx_global_var_init_47()}},{func:function(){__GLOBAL__sub_I_auxi_cpp()}},{func:function(){__GLOBAL__sub_I_wcl_audio_cpp()}},{func:function(){___cxx_global_var_init_3_4986()}},{func:function(){___cxx_global_var_init_3()}},{func:function(){___cxx_global_var_init_2()}},{func:function(){___cxx_global_var_init_1()}},{func:function(){___cxx_global_var_init_4972()}},{func:function(){__GLOBAL__sub_I_util_cpp()}},{func:function(){___cxx_global_var_init_4938()}},{func:function(){___cxx_global_var_init_4933()}},{func:function(){___cxx_global_var_init_4925()}},{func:function(){___cxx_global_var_init_4894()}});var STATIC_BUMP=177856;Module["STATIC_BASE"]=STATIC_BASE;Module["STATIC_BUMP"]=STATIC_BUMP;var tempDoublePtr=STATICTOP;STATICTOP+=16;function ___assert_fail(e,t,r,n){abort("Assertion failed: "+Pointer_stringify(e)+", at: "+[t?Pointer_stringify(t):"unknown filename",r,n?Pointer_stringify(n):"unknown function"])}var ENV={};function ___buildEnvironment(e){var t=64;var r=1024;var n;var i;if(!___buildEnvironment.called){___buildEnvironment.called=true;ENV["USER"]=ENV["LOGNAME"]="web_user";ENV["PATH"]="/";ENV["PWD"]="/";ENV["HOME"]="/home/web_user";ENV["LANG"]="C.UTF-8";ENV["_"]=Module["thisProgram"];n=getMemory(r);i=getMemory(t*4);HEAP32[i>>2]=n;HEAP32[e>>2]=i}else{i=HEAP32[e>>2];n=HEAP32[i>>2]}var o=[];var a=0;for(var u in ENV){if(typeof ENV[u]==="string"){var s=u+"="+ENV[u];o.push(s);a+=s.length}}if(a>r){throw new Error("Environment size exceeded TOTAL_ENV_SIZE!")}var l=4;for(var _=0;_<o.length;_++){var s=o[_];writeAsciiToMemory(s,n);HEAP32[i+_*l>>2]=n;n+=s.length+1}HEAP32[i+o.length*l>>2]=0}function ___cxa_allocate_exception(e){return _malloc(e)}var EXCEPTIONS={last:0,caught:[],infos:{},deAdjust:function(e){if(!e||EXCEPTIONS.infos[e])return e;for(var t in EXCEPTIONS.infos){var r=+t;var n=EXCEPTIONS.infos[r];if(n.adjusted===e){return r}}return e},addRef:function(e){if(!e)return;var t=EXCEPTIONS.infos[e];t.refcount++},decRef:function(e){if(!e)return;var t=EXCEPTIONS.infos[e];assert(t.refcount>0);t.refcount--;if(t.refcount===0&&!t.rethrown){if(t.destructor){Module["dynCall_vi"](t.destructor,e)}delete EXCEPTIONS.infos[e];___cxa_free_exception(e)}},clearRef:function(e){if(!e)return;var t=EXCEPTIONS.infos[e];t.refcount=0}};function ___cxa_begin_catch(e){var t=EXCEPTIONS.infos[e];if(t&&!t.caught){t.caught=true;__ZSt18uncaught_exceptionv.uncaught_exception--}if(t)t.rethrown=false;EXCEPTIONS.caught.push(e);EXCEPTIONS.addRef(EXCEPTIONS.deAdjust(e));return e}function ___cxa_pure_virtual(){ABORT=true;throw"Pure virtual function called!"}function ___resumeException(e){if(!EXCEPTIONS.last){EXCEPTIONS.last=e}throw e+" - Exception catching is disabled, this exception cannot be caught. Compile with -s DISABLE_EXCEPTION_CATCHING=0 or DISABLE_EXCEPTION_CATCHING=2 to catch."}function ___cxa_find_matching_catch(){var e=EXCEPTIONS.last;if(!e){return(setTempRet0(0),0)|0}var t=EXCEPTIONS.infos[e];var r=t.type;if(!r){return(setTempRet0(0),e)|0}var n=Array.prototype.slice.call(arguments);var i=Module["___cxa_is_pointer_type"](r);if(!___cxa_find_matching_catch.buffer)___cxa_find_matching_catch.buffer=_malloc(4);HEAP32[___cxa_find_matching_catch.buffer>>2]=e;e=___cxa_find_matching_catch.buffer;for(var o=0;o<n.length;o++){if(n[o]&&Module["___cxa_can_catch"](n[o],r,e)){e=HEAP32[e>>2];t.adjusted=e;return(setTempRet0(n[o]),e)|0}}e=HEAP32[e>>2];return(setTempRet0(r),e)|0}function ___cxa_throw(e,t,r){EXCEPTIONS.infos[e]={ptr:e,adjusted:e,type:t,destructor:r,refcount:0,caught:false,rethrown:false};EXCEPTIONS.last=e;if(!("uncaught_exception"in __ZSt18uncaught_exceptionv)){__ZSt18uncaught_exceptionv.uncaught_exception=1}else{__ZSt18uncaught_exceptionv.uncaught_exception++}throw e+" - Exception catching is disabled, this exception cannot be caught. Compile with -s DISABLE_EXCEPTION_CATCHING=0 or DISABLE_EXCEPTION_CATCHING=2 to catch."}function ___cxa_uncaught_exception(){return!!__ZSt18uncaught_exceptionv.uncaught_exception}function ___gxx_personality_v0(){}function ___lock(){}var ERRNO_CODES={EPERM:1,ENOENT:2,ESRCH:3,EINTR:4,EIO:5,ENXIO:6,E2BIG:7,ENOEXEC:8,EBADF:9,ECHILD:10,EAGAIN:11,EWOULDBLOCK:11,ENOMEM:12,EACCES:13,EFAULT:14,ENOTBLK:15,EBUSY:16,EEXIST:17,EXDEV:18,ENODEV:19,ENOTDIR:20,EISDIR:21,EINVAL:22,ENFILE:23,EMFILE:24,ENOTTY:25,ETXTBSY:26,EFBIG:27,ENOSPC:28,ESPIPE:29,EROFS:30,EMLINK:31,EPIPE:32,EDOM:33,ERANGE:34,ENOMSG:42,EIDRM:43,ECHRNG:44,EL2NSYNC:45,EL3HLT:46,EL3RST:47,ELNRNG:48,EUNATCH:49,ENOCSI:50,EL2HLT:51,EDEADLK:35,ENOLCK:37,EBADE:52,EBADR:53,EXFULL:54,ENOANO:55,EBADRQC:56,EBADSLT:57,EDEADLOCK:35,EBFONT:59,ENOSTR:60,ENODATA:61,ETIME:62,ENOSR:63,ENONET:64,ENOPKG:65,EREMOTE:66,ENOLINK:67,EADV:68,ESRMNT:69,ECOMM:70,EPROTO:71,EMULTIHOP:72,EDOTDOT:73,EBADMSG:74,ENOTUNIQ:76,EBADFD:77,EREMCHG:78,ELIBACC:79,ELIBBAD:80,ELIBSCN:81,ELIBMAX:82,ELIBEXEC:83,ENOSYS:38,ENOTEMPTY:39,ENAMETOOLONG:36,ELOOP:40,EOPNOTSUPP:95,EPFNOSUPPORT:96,ECONNRESET:104,ENOBUFS:105,EAFNOSUPPORT:97,EPROTOTYPE:91,ENOTSOCK:88,ENOPROTOOPT:92,ESHUTDOWN:108,ECONNREFUSED:111,EADDRINUSE:98,ECONNABORTED:103,ENETUNREACH:101,ENETDOWN:100,ETIMEDOUT:110,EHOSTDOWN:112,EHOSTUNREACH:113,EINPROGRESS:115,EALREADY:114,EDESTADDRREQ:89,EMSGSIZE:90,EPROTONOSUPPORT:93,ESOCKTNOSUPPORT:94,EADDRNOTAVAIL:99,ENETRESET:102,EISCONN:106,ENOTCONN:107,ETOOMANYREFS:109,EUSERS:87,EDQUOT:122,ESTALE:116,ENOTSUP:95,ENOMEDIUM:123,EILSEQ:84,EOVERFLOW:75,ECANCELED:125,ENOTRECOVERABLE:131,EOWNERDEAD:130,ESTRPIPE:86};function ___setErrNo(e){if(Module["___errno_location"])HEAP32[Module["___errno_location"]()>>2]=e;return e}function ___map_file(e,t){___setErrNo(ERRNO_CODES.EPERM);return-1}var ERRNO_MESSAGES={0:"Success",1:"Not super-user",2:"No such file or directory",3:"No such process",4:"Interrupted system call",5:"I/O error",6:"No such device or address",7:"Arg list too long",8:"Exec format error",9:"Bad file number",10:"No children",11:"No more processes",12:"Not enough core",13:"Permission denied",14:"Bad address",15:"Block device required",16:"Mount device busy",17:"File exists",18:"Cross-device link",19:"No such device",20:"Not a directory",21:"Is a directory",22:"Invalid argument",23:"Too many open files in system",24:"Too many open files",25:"Not a typewriter",26:"Text file busy",27:"File too large",28:"No space left on device",29:"Illegal seek",30:"Read only file system",31:"Too many links",32:"Broken pipe",33:"Math arg out of domain of func",34:"Math result not representable",35:"File locking deadlock error",36:"File or path name too long",37:"No record locks available",38:"Function not implemented",39:"Directory not empty",40:"Too many symbolic links",42:"No message of desired type",43:"Identifier removed",44:"Channel number out of range",45:"Level 2 not synchronized",46:"Level 3 halted",47:"Level 3 reset",48:"Link number out of range",49:"Protocol driver not attached",50:"No CSI structure available",51:"Level 2 halted",52:"Invalid exchange",53:"Invalid request descriptor",54:"Exchange full",55:"No anode",56:"Invalid request code",57:"Invalid slot",59:"Bad font file fmt",60:"Device not a stream",61:"No data (for no delay io)",62:"Timer expired",63:"Out of streams resources",64:"Machine is not on the network",65:"Package not installed",66:"The object is remote",67:"The link has been severed",68:"Advertise error",69:"Srmount error",70:"Communication error on send",71:"Protocol error",72:"Multihop attempted",73:"Cross mount point (not really error)",74:"Trying to read unreadable message",75:"Value too large for defined data type",76:"Given log. name not unique",77:"f.d. invalid for this operation",78:"Remote address changed",79:"Can   access a needed shared lib",80:"Accessing a corrupted shared lib",81:".lib section in a.out corrupted",82:"Attempting to link in too many libs",83:"Attempting to exec a shared library",84:"Illegal byte sequence",86:"Streams pipe error",87:"Too many users",88:"Socket operation on non-socket",89:"Destination address required",90:"Message too long",91:"Protocol wrong type for socket",92:"Protocol not available",93:"Unknown protocol",94:"Socket type not supported",95:"Not supported",96:"Protocol family not supported",97:"Address family not supported by protocol family",98:"Address already in use",99:"Address not available",100:"Network interface is not configured",101:"Network is unreachable",102:"Connection reset by network",103:"Connection aborted",104:"Connection reset by peer",105:"No buffer space available",106:"Socket is already connected",107:"Socket is not connected",108:"Can't send after socket shutdown",109:"Too many references",110:"Connection timed out",111:"Connection refused",112:"Host is down",113:"Host is unreachable",114:"Socket already connected",115:"Connection already in progress",116:"Stale file handle",122:"Quota exceeded",123:"No medium (in tape drive)",125:"Operation canceled",130:"Previous owner died",131:"State not recoverable"};var PATH={splitPath:function(e){var t=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return t.exec(e).slice(1)},normalizeArray:function(e,t){var r=0;for(var n=e.length-1;n>=0;n--){var i=e[n];if(i==="."){e.splice(n,1)}else if(i===".."){e.splice(n,1);r++}else if(r){e.splice(n,1);r--}}if(t){for(;r;r--){e.unshift("..")}}return e},normalize:function(e){var t=e.charAt(0)==="/",r=e.substr(-1)==="/";e=PATH.normalizeArray(e.split("/").filter(function(e){return!!e}),!t).join("/");if(!e&&!t){e="."}if(e&&r){e+="/"}return(t?"/":"")+e},dirname:function(e){var t=PATH.splitPath(e),r=t[0],n=t[1];if(!r&&!n){return"."}if(n){n=n.substr(0,n.length-1)}return r+n},basename:function(e){if(e==="/")return"/";var t=e.lastIndexOf("/");if(t===-1)return e;return e.substr(t+1)},extname:function(e){return PATH.splitPath(e)[3]},join:function(){var e=Array.prototype.slice.call(arguments,0);return PATH.normalize(e.join("/"))},join2:function(e,t){return PATH.normalize(e+"/"+t)},resolve:function(){var e="",t=false;for(var r=arguments.length-1;r>=-1&&!t;r--){var n=r>=0?arguments[r]:FS.cwd();if(typeof n!=="string"){throw new TypeError("Arguments to path.resolve must be strings")}else if(!n){return""}e=n+"/"+e;t=n.charAt(0)==="/"}e=PATH.normalizeArray(e.split("/").filter(function(e){return!!e}),!t).join("/");return(t?"/":"")+e||"."},relative:function(e,t){e=PATH.resolve(e).substr(1);t=PATH.resolve(t).substr(1);function r(e){var t=0;for(;t<e.length;t++){if(e[t]!=="")break}var r=e.length-1;for(;r>=0;r--){if(e[r]!=="")break}if(t>r)return[];return e.slice(t,r-t+1)}var n=r(e.split("/"));var i=r(t.split("/"));var o=Math.min(n.length,i.length);var a=o;for(var u=0;u<o;u++){if(n[u]!==i[u]){a=u;break}}var s=[];for(var u=a;u<n.length;u++){s.push("..")}s=s.concat(i.slice(a));return s.join("/")}};var TTY={ttys:[],init:function(){},shutdown:function(){},register:function(e,t){TTY.ttys[e]={input:[],output:[],ops:t};FS.registerDevice(e,TTY.stream_ops)},stream_ops:{open:function(e){var t=TTY.ttys[e.node.rdev];if(!t){throw new FS.ErrnoError(ERRNO_CODES.ENODEV)}e.tty=t;e.seekable=false},close:function(e){e.tty.ops.flush(e.tty)},flush:function(e){e.tty.ops.flush(e.tty)},read:function(e,t,r,n,i){if(!e.tty||!e.tty.ops.get_char){throw new FS.ErrnoError(ERRNO_CODES.ENXIO)}var o=0;for(var a=0;a<n;a++){var u;try{u=e.tty.ops.get_char(e.tty)}catch(e){throw new FS.ErrnoError(ERRNO_CODES.EIO)}if(u===undefined&&o===0){throw new FS.ErrnoError(ERRNO_CODES.EAGAIN)}if(u===null||u===undefined)break;o++;t[r+a]=u}if(o){e.node.timestamp=Date.now()}return o},write:function(e,t,r,n,i){if(!e.tty||!e.tty.ops.put_char){throw new FS.ErrnoError(ERRNO_CODES.ENXIO)}for(var o=0;o<n;o++){try{e.tty.ops.put_char(e.tty,t[r+o])}catch(e){throw new FS.ErrnoError(ERRNO_CODES.EIO)}}if(n){e.node.timestamp=Date.now()}return o}},default_tty_ops:{get_char:function(e){if(!e.input.length){var t=null;if(ENVIRONMENT_IS_NODE){var r=256;var n=new Buffer(r);var i=0;var o=process.platform!="win32";var a=process.stdin.fd;if(o){var u=false;try{a=fs.openSync("/dev/stdin","r");u=true}catch(e){}}try{i=fs.readSync(a,n,0,r,null)}catch(e){if(e.toString().indexOf("EOF")!=-1)i=0;else throw e}if(u){fs.closeSync(a)}if(i>0){t=n.slice(0,i).toString("utf-8")}else{t=null}}else if(typeof window!="undefined"&&typeof window.prompt=="function"){t=window.prompt("Input: ");if(t!==null){t+="\n"}}else if(typeof readline=="function"){t=readline();if(t!==null){t+="\n"}}if(!t){return null}e.input=intArrayFromString(t,true)}return e.input.shift()},put_char:function(e,t){if(t===null||t===10){out(UTF8ArrayToString(e.output,0));e.output=[]}else{if(t!=0)e.output.push(t)}},flush:function(e){if(e.output&&e.output.length>0){out(UTF8ArrayToString(e.output,0));e.output=[]}}},default_tty1_ops:{put_char:function(e,t){if(t===null||t===10){err(UTF8ArrayToString(e.output,0));e.output=[]}else{if(t!=0)e.output.push(t)}},flush:function(e){if(e.output&&e.output.length>0){err(UTF8ArrayToString(e.output,0));e.output=[]}}}};var MEMFS={ops_table:null,mount:function(e){return MEMFS.createNode(null,"/",16384|511,0)},createNode:function(e,t,r,n){if(FS.isBlkdev(r)||FS.isFIFO(r)){throw new FS.ErrnoError(ERRNO_CODES.EPERM)}if(!MEMFS.ops_table){MEMFS.ops_table={dir:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr,lookup:MEMFS.node_ops.lookup,mknod:MEMFS.node_ops.mknod,rename:MEMFS.node_ops.rename,unlink:MEMFS.node_ops.unlink,rmdir:MEMFS.node_ops.rmdir,readdir:MEMFS.node_ops.readdir,symlink:MEMFS.node_ops.symlink},stream:{llseek:MEMFS.stream_ops.llseek}},file:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr},stream:{llseek:MEMFS.stream_ops.llseek,read:MEMFS.stream_ops.read,write:MEMFS.stream_ops.write,allocate:MEMFS.stream_ops.allocate,mmap:MEMFS.stream_ops.mmap,msync:MEMFS.stream_ops.msync}},link:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr,readlink:MEMFS.node_ops.readlink},stream:{}},chrdev:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr},stream:FS.chrdev_stream_ops}}}var i=FS.createNode(e,t,r,n);if(FS.isDir(i.mode)){i.node_ops=MEMFS.ops_table.dir.node;i.stream_ops=MEMFS.ops_table.dir.stream;i.contents={}}else if(FS.isFile(i.mode)){i.node_ops=MEMFS.ops_table.file.node;i.stream_ops=MEMFS.ops_table.file.stream;i.usedBytes=0;i.contents=null}else if(FS.isLink(i.mode)){i.node_ops=MEMFS.ops_table.link.node;i.stream_ops=MEMFS.ops_table.link.stream}else if(FS.isChrdev(i.mode)){i.node_ops=MEMFS.ops_table.chrdev.node;i.stream_ops=MEMFS.ops_table.chrdev.stream}i.timestamp=Date.now();if(e){e.contents[t]=i}return i},getFileDataAsRegularArray:function(e){if(e.contents&&e.contents.subarray){var t=[];for(var r=0;r<e.usedBytes;++r)t.push(e.contents[r]);return t}return e.contents},getFileDataAsTypedArray:function(e){if(!e.contents)return new Uint8Array;if(e.contents.subarray)return e.contents.subarray(0,e.usedBytes);return new Uint8Array(e.contents)},expandFileStorage:function(e,t){if(e.contents&&e.contents.subarray&&t>e.contents.length){e.contents=MEMFS.getFileDataAsRegularArray(e);e.usedBytes=e.contents.length}if(!e.contents||e.contents.subarray){var r=e.contents?e.contents.length:0;if(r>=t)return;var n=1024*1024;t=Math.max(t,r*(r<n?2:1.125)|0);if(r!=0)t=Math.max(t,256);var i=e.contents;e.contents=new Uint8Array(t);if(e.usedBytes>0)e.contents.set(i.subarray(0,e.usedBytes),0);return}if(!e.contents&&t>0)e.contents=[];while(e.contents.length<t)e.contents.push(0)},resizeFileStorage:function(e,t){if(e.usedBytes==t)return;if(t==0){e.contents=null;e.usedBytes=0;return}if(!e.contents||e.contents.subarray){var r=e.contents;e.contents=new Uint8Array(new ArrayBuffer(t));if(r){e.contents.set(r.subarray(0,Math.min(t,e.usedBytes)))}e.usedBytes=t;return}if(!e.contents)e.contents=[];if(e.contents.length>t)e.contents.length=t;else while(e.contents.length<t)e.contents.push(0);e.usedBytes=t},node_ops:{getattr:function(e){var t={};t.dev=FS.isChrdev(e.mode)?e.id:1;t.ino=e.id;t.mode=e.mode;t.nlink=1;t.uid=0;t.gid=0;t.rdev=e.rdev;if(FS.isDir(e.mode)){t.size=4096}else if(FS.isFile(e.mode)){t.size=e.usedBytes}else if(FS.isLink(e.mode)){t.size=e.link.length}else{t.size=0}t.atime=new Date(e.timestamp);t.mtime=new Date(e.timestamp);t.ctime=new Date(e.timestamp);t.blksize=4096;t.blocks=Math.ceil(t.size/t.blksize);return t},setattr:function(e,t){if(t.mode!==undefined){e.mode=t.mode}if(t.timestamp!==undefined){e.timestamp=t.timestamp}if(t.size!==undefined){MEMFS.resizeFileStorage(e,t.size)}},lookup:function(e,t){throw FS.genericErrors[ERRNO_CODES.ENOENT]},mknod:function(e,t,r,n){return MEMFS.createNode(e,t,r,n)},rename:function(e,t,r){if(FS.isDir(e.mode)){var n;try{n=FS.lookupNode(t,r)}catch(e){}if(n){for(var i in n.contents){throw new FS.ErrnoError(ERRNO_CODES.ENOTEMPTY)}}}delete e.parent.contents[e.name];e.name=r;t.contents[r]=e;e.parent=t},unlink:function(e,t){delete e.contents[t]},rmdir:function(e,t){var r=FS.lookupNode(e,t);for(var n in r.contents){throw new FS.ErrnoError(ERRNO_CODES.ENOTEMPTY)}delete e.contents[t]},readdir:function(e){var t=[".",".."];for(var r in e.contents){if(!e.contents.hasOwnProperty(r)){continue}t.push(r)}return t},symlink:function(e,t,r){var n=MEMFS.createNode(e,t,511|40960,0);n.link=r;return n},readlink:function(e){if(!FS.isLink(e.mode)){throw new FS.ErrnoError(ERRNO_CODES.EINVAL)}return e.link}},stream_ops:{read:function(e,t,r,n,i){var o=e.node.contents;if(i>=e.node.usedBytes)return 0;var a=Math.min(e.node.usedBytes-i,n);assert(a>=0);if(a>8&&o.subarray){t.set(o.subarray(i,i+a),r)}else{for(var u=0;u<a;u++)t[r+u]=o[i+u]}return a},write:function(e,t,r,n,i,o){if(!n)return 0;var a=e.node;a.timestamp=Date.now();if(t.subarray&&(!a.contents||a.contents.subarray)){if(o){a.contents=t.subarray(r,r+n);a.usedBytes=n;return n}else if(a.usedBytes===0&&i===0){a.contents=new Uint8Array(t.subarray(r,r+n));a.usedBytes=n;return n}else if(i+n<=a.usedBytes){a.contents.set(t.subarray(r,r+n),i);return n}}MEMFS.expandFileStorage(a,i+n);if(a.contents.subarray&&t.subarray)a.contents.set(t.subarray(r,r+n),i);else{for(var u=0;u<n;u++){a.contents[i+u]=t[r+u]}}a.usedBytes=Math.max(a.usedBytes,i+n);return n},llseek:function(e,t,r){var n=t;if(r===1){n+=e.position}else if(r===2){if(FS.isFile(e.node.mode)){n+=e.node.usedBytes}}if(n<0){throw new FS.ErrnoError(ERRNO_CODES.EINVAL)}return n},allocate:function(e,t,r){MEMFS.expandFileStorage(e.node,t+r);e.node.usedBytes=Math.max(e.node.usedBytes,t+r)},mmap:function(e,t,r,n,i,o,a){if(!FS.isFile(e.node.mode)){throw new FS.ErrnoError(ERRNO_CODES.ENODEV)}var u;var s;var l=e.node.contents;if(!(a&2)&&(l.buffer===t||l.buffer===t.buffer)){s=false;u=l.byteOffset}else{if(i>0||i+n<e.node.usedBytes){if(l.subarray){l=l.subarray(i,i+n)}else{l=Array.prototype.slice.call(l,i,i+n)}}s=true;u=_malloc(n);if(!u){throw new FS.ErrnoError(ERRNO_CODES.ENOMEM)}t.set(l,u)}return{ptr:u,allocated:s}},msync:function(e,t,r,n,i){if(!FS.isFile(e.node.mode)){throw new FS.ErrnoError(ERRNO_CODES.ENODEV)}if(i&2){return 0}var o=MEMFS.stream_ops.write(e,t,0,n,r,false);return 0}}};var IDBFS={dbs:{},indexedDB:function(){if(typeof indexedDB!=="undefined")return indexedDB;var e=null;if(typeof window==="object")e=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB;assert(e,"IDBFS used, but indexedDB not supported");return e},DB_VERSION:21,DB_STORE_NAME:"FILE_DATA",mount:function(e){return MEMFS.mount.apply(null,arguments)},syncfs:function(e,t,r){IDBFS.getLocalSet(e,function(n,i){if(n)return r(n);IDBFS.getRemoteSet(e,function(e,n){if(e)return r(e);var o=t?n:i;var a=t?i:n;IDBFS.reconcile(o,a,r)})})},getDB:function(e,t){var r=IDBFS.dbs[e];if(r){return t(null,r)}var n;try{n=IDBFS.indexedDB().open(e,IDBFS.DB_VERSION)}catch(e){return t(e)}if(!n){return t("Unable to connect to IndexedDB")}n.onupgradeneeded=function(e){var t=e.target.result;var r=e.target.transaction;var n;if(t.objectStoreNames.contains(IDBFS.DB_STORE_NAME)){n=r.objectStore(IDBFS.DB_STORE_NAME)}else{n=t.createObjectStore(IDBFS.DB_STORE_NAME)}if(!n.indexNames.contains("timestamp")){n.createIndex("timestamp","timestamp",{unique:false})}};n.onsuccess=function(){r=n.result;IDBFS.dbs[e]=r;t(null,r)};n.onerror=function(e){t(this.error);e.preventDefault()}},getLocalSet:function(e,t){var r={};function n(e){return e!=="."&&e!==".."}function i(e){return function(t){return PATH.join2(e,t)}}var o=FS.readdir(e.mountpoint).filter(n).map(i(e.mountpoint));while(o.length){var a=o.pop();var u;try{u=FS.stat(a)}catch(e){return t(e)}if(FS.isDir(u.mode)){o.push.apply(o,FS.readdir(a).filter(n).map(i(a)))}r[a]={timestamp:u.mtime}}return t(null,{type:"local",entries:r})},getRemoteSet:function(e,t){var r={};IDBFS.getDB(e.mountpoint,function(e,n){if(e)return t(e);try{var i=n.transaction([IDBFS.DB_STORE_NAME],"readonly");i.onerror=function(e){t(this.error);e.preventDefault()};var o=i.objectStore(IDBFS.DB_STORE_NAME);var a=o.index("timestamp");a.openKeyCursor().onsuccess=function(e){var i=e.target.result;if(!i){return t(null,{type:"remote",db:n,entries:r})}r[i.primaryKey]={timestamp:i.key};i.continue()}}catch(e){return t(e)}})},loadLocalEntry:function(e,t){var r,n;try{var i=FS.lookupPath(e);n=i.node;r=FS.stat(e)}catch(e){return t(e)}if(FS.isDir(r.mode)){return t(null,{timestamp:r.mtime,mode:r.mode})}else if(FS.isFile(r.mode)){n.contents=MEMFS.getFileDataAsTypedArray(n);return t(null,{timestamp:r.mtime,mode:r.mode,contents:n.contents})}else{return t(new Error("node type not supported"))}},storeLocalEntry:function(e,t,r){try{if(FS.isDir(t.mode)){FS.mkdir(e,t.mode)}else if(FS.isFile(t.mode)){FS.writeFile(e,t.contents,{canOwn:true})}else{return r(new Error("node type not supported"))}FS.chmod(e,t.mode);FS.utime(e,t.timestamp,t.timestamp)}catch(e){return r(e)}r(null)},removeLocalEntry:function(e,t){try{var r=FS.lookupPath(e);var n=FS.stat(e);if(FS.isDir(n.mode)){FS.rmdir(e)}else if(FS.isFile(n.mode)){FS.unlink(e)}}catch(e){return t(e)}t(null)},loadRemoteEntry:function(e,t,r){var n=e.get(t);n.onsuccess=function(e){r(null,e.target.result)};n.onerror=function(e){r(this.error);e.preventDefault()}},storeRemoteEntry:function(e,t,r,n){var i=e.put(r,t);i.onsuccess=function(){n(null)};i.onerror=function(e){n(this.error);e.preventDefault()}},removeRemoteEntry:function(e,t,r){var n=e.delete(t);n.onsuccess=function(){r(null)};n.onerror=function(e){r(this.error);e.preventDefault()}},reconcile:function(e,t,r){var n=0;var i=[];Object.keys(e.entries).forEach(function(r){var o=e.entries[r];var a=t.entries[r];if(!a||o.timestamp>a.timestamp){i.push(r);n++}});var o=[];Object.keys(t.entries).forEach(function(r){var i=t.entries[r];var a=e.entries[r];if(!a){o.push(r);n++}});if(!n){return r(null)}var a=0;var u=e.type==="remote"?e.db:t.db;var s=u.transaction([IDBFS.DB_STORE_NAME],"readwrite");var l=s.objectStore(IDBFS.DB_STORE_NAME);function _(e){if(e){if(!_.errored){_.errored=true;return r(e)}return}if(++a>=n){return r(null)}}s.onerror=function(e){_(this.error);e.preventDefault()};i.sort().forEach(function(e){if(t.type==="local"){IDBFS.loadRemoteEntry(l,e,function(t,r){if(t)return _(t);IDBFS.storeLocalEntry(e,r,_)})}else{IDBFS.loadLocalEntry(e,function(t,r){if(t)return _(t);IDBFS.storeRemoteEntry(l,e,r,_)})}});o.sort().reverse().forEach(function(e){if(t.type==="local"){IDBFS.removeLocalEntry(e,_)}else{IDBFS.removeRemoteEntry(l,e,_)}})}};var NODEFS={isWindows:false,staticInit:function(){NODEFS.isWindows=!!process.platform.match(/^win/);var e=process["binding"]("constants");if(e["fs"]){e=e["fs"]}NODEFS.flagsForNodeMap={1024:e["O_APPEND"],64:e["O_CREAT"],128:e["O_EXCL"],0:e["O_RDONLY"],2:e["O_RDWR"],4096:e["O_SYNC"],512:e["O_TRUNC"],1:e["O_WRONLY"]}},bufferFrom:function(e){return Buffer.alloc?Buffer.from(e):new Buffer(e)},mount:function(e){assert(ENVIRONMENT_IS_NODE);return NODEFS.createNode(null,"/",NODEFS.getMode(e.opts.root),0)},createNode:function(e,t,r,n){if(!FS.isDir(r)&&!FS.isFile(r)&&!FS.isLink(r)){throw new FS.ErrnoError(ERRNO_CODES.EINVAL)}var i=FS.createNode(e,t,r);i.node_ops=NODEFS.node_ops;i.stream_ops=NODEFS.stream_ops;return i},getMode:function(e){var t;try{t=fs.lstatSync(e);if(NODEFS.isWindows){t.mode=t.mode|(t.mode&292)>>2}}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}return t.mode},realPath:function(e){var t=[];while(e.parent!==e){t.push(e.name);e=e.parent}t.push(e.mount.opts.root);t.reverse();return PATH.join.apply(null,t)},flagsForNode:function(e){e&=~2097152;e&=~2048;e&=~32768;e&=~524288;var t=0;for(var r in NODEFS.flagsForNodeMap){if(e&r){t|=NODEFS.flagsForNodeMap[r];e^=r}}if(!e){return t}else{throw new FS.ErrnoError(ERRNO_CODES.EINVAL)}},node_ops:{getattr:function(e){var t=NODEFS.realPath(e);var r;try{r=fs.lstatSync(t)}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}if(NODEFS.isWindows&&!r.blksize){r.blksize=4096}if(NODEFS.isWindows&&!r.blocks){r.blocks=(r.size+r.blksize-1)/r.blksize|0}return{dev:r.dev,ino:r.ino,mode:r.mode,nlink:r.nlink,uid:r.uid,gid:r.gid,rdev:r.rdev,size:r.size,atime:r.atime,mtime:r.mtime,ctime:r.ctime,blksize:r.blksize,blocks:r.blocks}},setattr:function(e,t){var r=NODEFS.realPath(e);try{if(t.mode!==undefined){fs.chmodSync(r,t.mode);e.mode=t.mode}if(t.timestamp!==undefined){var n=new Date(t.timestamp);fs.utimesSync(r,n,n)}if(t.size!==undefined){fs.truncateSync(r,t.size)}}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}},lookup:function(e,t){var r=PATH.join2(NODEFS.realPath(e),t);var n=NODEFS.getMode(r);return NODEFS.createNode(e,t,n)},mknod:function(e,t,r,n){var i=NODEFS.createNode(e,t,r,n);var o=NODEFS.realPath(i);try{if(FS.isDir(i.mode)){fs.mkdirSync(o,i.mode)}else{fs.writeFileSync(o,"",{mode:i.mode})}}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}return i},rename:function(e,t,r){var n=NODEFS.realPath(e);var i=PATH.join2(NODEFS.realPath(t),r);try{fs.renameSync(n,i)}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}},unlink:function(e,t){var r=PATH.join2(NODEFS.realPath(e),t);try{fs.unlinkSync(r)}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}},rmdir:function(e,t){var r=PATH.join2(NODEFS.realPath(e),t);try{fs.rmdirSync(r)}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}},readdir:function(e){var t=NODEFS.realPath(e);try{return fs.readdirSync(t)}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}},symlink:function(e,t,r){var n=PATH.join2(NODEFS.realPath(e),t);try{fs.symlinkSync(r,n)}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}},readlink:function(e){var t=NODEFS.realPath(e);try{t=fs.readlinkSync(t);t=NODEJS_PATH.relative(NODEJS_PATH.resolve(e.mount.opts.root),t);return t}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}}},stream_ops:{open:function(e){var t=NODEFS.realPath(e.node);try{if(FS.isFile(e.node.mode)){e.nfd=fs.openSync(t,NODEFS.flagsForNode(e.flags))}}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}},close:function(e){try{if(FS.isFile(e.node.mode)&&e.nfd){fs.closeSync(e.nfd)}}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}},read:function(e,t,r,n,i){if(n===0)return 0;try{return fs.readSync(e.nfd,NODEFS.bufferFrom(t.buffer),r,n,i)}catch(e){throw new FS.ErrnoError(ERRNO_CODES[e.code])}},write:function(e,t,r,n,i){try{return fs.writeSync(e.nfd,NODEFS.bufferFrom(t.buffer),r,n,i)}catch(e){throw new FS.ErrnoError(ERRNO_CODES[e.code])}},llseek:function(e,t,r){var n=t;if(r===1){n+=e.position}else if(r===2){if(FS.isFile(e.node.mode)){try{var i=fs.fstatSync(e.nfd);n+=i.size}catch(e){throw new FS.ErrnoError(ERRNO_CODES[e.code])}}}if(n<0){throw new FS.ErrnoError(ERRNO_CODES.EINVAL)}return n}}};var WORKERFS={DIR_MODE:16895,FILE_MODE:33279,reader:null,mount:function(e){assert(ENVIRONMENT_IS_WORKER);if(!WORKERFS.reader)WORKERFS.reader=new FileReaderSync;var t=WORKERFS.createNode(null,"/",WORKERFS.DIR_MODE,0);var r={};function n(e){var n=e.split("/");var i=t;for(var o=0;o<n.length-1;o++){var a=n.slice(0,o+1).join("/");if(!r[a]){r[a]=WORKERFS.createNode(i,n[o],WORKERFS.DIR_MODE,0)}i=r[a]}return i}function i(e){var t=e.split("/");return t[t.length-1]}Array.prototype.forEach.call(e.opts["files"]||[],function(e){WORKERFS.createNode(n(e.name),i(e.name),WORKERFS.FILE_MODE,0,e,e.lastModifiedDate)});(e.opts["blobs"]||[]).forEach(function(e){WORKERFS.createNode(n(e["name"]),i(e["name"]),WORKERFS.FILE_MODE,0,e["data"])});(e.opts["packages"]||[]).forEach(function(e){e["metadata"].files.forEach(function(t){var r=t.filename.substr(1);WORKERFS.createNode(n(r),i(r),WORKERFS.FILE_MODE,0,e["blob"].slice(t.start,t.end))})});return t},createNode:function(e,t,r,n,i,o){var a=FS.createNode(e,t,r);a.mode=r;a.node_ops=WORKERFS.node_ops;a.stream_ops=WORKERFS.stream_ops;a.timestamp=(o||new Date).getTime();assert(WORKERFS.FILE_MODE!==WORKERFS.DIR_MODE);if(r===WORKERFS.FILE_MODE){a.size=i.size;a.contents=i}else{a.size=4096;a.contents={}}if(e){e.contents[t]=a}return a},node_ops:{getattr:function(e){return{dev:1,ino:undefined,mode:e.mode,nlink:1,uid:0,gid:0,rdev:undefined,size:e.size,atime:new Date(e.timestamp),mtime:new Date(e.timestamp),ctime:new Date(e.timestamp),blksize:4096,blocks:Math.ceil(e.size/4096)}},setattr:function(e,t){if(t.mode!==undefined){e.mode=t.mode}if(t.timestamp!==undefined){e.timestamp=t.timestamp}},lookup:function(e,t){throw new FS.ErrnoError(ERRNO_CODES.ENOENT)},mknod:function(e,t,r,n){throw new FS.ErrnoError(ERRNO_CODES.EPERM)},rename:function(e,t,r){throw new FS.ErrnoError(ERRNO_CODES.EPERM)},unlink:function(e,t){throw new FS.ErrnoError(ERRNO_CODES.EPERM)},rmdir:function(e,t){throw new FS.ErrnoError(ERRNO_CODES.EPERM)},readdir:function(e){var t=[".",".."];for(var r in e.contents){if(!e.contents.hasOwnProperty(r)){continue}t.push(r)}return t},symlink:function(e,t,r){throw new FS.ErrnoError(ERRNO_CODES.EPERM)},readlink:function(e){throw new FS.ErrnoError(ERRNO_CODES.EPERM)}},stream_ops:{read:function(e,t,r,n,i){if(i>=e.node.size)return 0;var o=e.node.contents.slice(i,i+n);var a=WORKERFS.reader.readAsArrayBuffer(o);t.set(new Uint8Array(a),r);return o.size},write:function(e,t,r,n,i){throw new FS.ErrnoError(ERRNO_CODES.EIO)},llseek:function(e,t,r){var n=t;if(r===1){n+=e.position}else if(r===2){if(FS.isFile(e.node.mode)){n+=e.node.size}}if(n<0){throw new FS.ErrnoError(ERRNO_CODES.EINVAL)}return n}}};STATICTOP+=16;STATICTOP+=16;STATICTOP+=16;var FS={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:false,ignorePermissions:true,trackingDelegate:{},tracking:{openFlags:{READ:1,WRITE:2}},ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,handleFSError:function(e){if(!(e instanceof FS.ErrnoError))throw e+" : "+stackTrace();return ___setErrNo(e.errno)},lookupPath:function(e,t){e=PATH.resolve(FS.cwd(),e);t=t||{};if(!e)return{path:"",node:null};var r={follow_mount:true,recurse_count:0};for(var n in r){if(t[n]===undefined){t[n]=r[n]}}if(t.recurse_count>8){throw new FS.ErrnoError(ERRNO_CODES.ELOOP)}var i=PATH.normalizeArray(e.split("/").filter(function(e){return!!e}),false);var o=FS.root;var a="/";for(var u=0;u<i.length;u++){var s=u===i.length-1;if(s&&t.parent){break}o=FS.lookupNode(o,i[u]);a=PATH.join2(a,i[u]);if(FS.isMountpoint(o)){if(!s||s&&t.follow_mount){o=o.mounted.root}}if(!s||t.follow){var l=0;while(FS.isLink(o.mode)){var _=FS.readlink(a);a=PATH.resolve(PATH.dirname(a),_);var c=FS.lookupPath(a,{recurse_count:t.recurse_count});o=c.node;if(l++>40){throw new FS.ErrnoError(ERRNO_CODES.ELOOP)}}}}return{path:a,node:o}},getPath:function(e){var t;while(true){if(FS.isRoot(e)){var r=e.mount.mountpoint;if(!t)return r;return r[r.length-1]!=="/"?r+"/"+t:r+t}t=t?e.name+"/"+t:e.name;e=e.parent}},hashName:function(e,t){var r=0;for(var n=0;n<t.length;n++){r=(r<<5)-r+t.charCodeAt(n)|0}return(e+r>>>0)%FS.nameTable.length},hashAddNode:function(e){var t=FS.hashName(e.parent.id,e.name);e.name_next=FS.nameTable[t];FS.nameTable[t]=e},hashRemoveNode:function(e){var t=FS.hashName(e.parent.id,e.name);if(FS.nameTable[t]===e){FS.nameTable[t]=e.name_next}else{var r=FS.nameTable[t];while(r){if(r.name_next===e){r.name_next=e.name_next;break}r=r.name_next}}},lookupNode:function(e,t){var r=FS.mayLookup(e);if(r){throw new FS.ErrnoError(r,e)}var n=FS.hashName(e.id,t);for(var i=FS.nameTable[n];i;i=i.name_next){var o=i.name;if(i.parent.id===e.id&&o===t){return i}}return FS.lookup(e,t)},createNode:function(e,t,r,n){if(!FS.FSNode){FS.FSNode=function(e,t,r,n){if(!e){e=this}this.parent=e;this.mount=e.mount;this.mounted=null;this.id=FS.nextInode++;this.name=t;this.mode=r;this.node_ops={};this.stream_ops={};this.rdev=n};FS.FSNode.prototype={};var i=292|73;var o=146;Object.defineProperties(FS.FSNode.prototype,{read:{get:function(){return(this.mode&i)===i},set:function(e){e?this.mode|=i:this.mode&=~i}},write:{get:function(){return(this.mode&o)===o},set:function(e){e?this.mode|=o:this.mode&=~o}},isFolder:{get:function(){return FS.isDir(this.mode)}},isDevice:{get:function(){return FS.isChrdev(this.mode)}}})}var a=new FS.FSNode(e,t,r,n);FS.hashAddNode(a);return a},destroyNode:function(e){FS.hashRemoveNode(e)},isRoot:function(e){return e===e.parent},isMountpoint:function(e){return!!e.mounted},isFile:function(e){return(e&61440)===32768},isDir:function(e){return(e&61440)===16384},isLink:function(e){return(e&61440)===40960},isChrdev:function(e){return(e&61440)===8192},isBlkdev:function(e){return(e&61440)===24576},isFIFO:function(e){return(e&61440)===4096},isSocket:function(e){return(e&49152)===49152},flagModes:{r:0,rs:1052672,"r+":2,w:577,wx:705,xw:705,"w+":578,"wx+":706,"xw+":706,a:1089,ax:1217,xa:1217,"a+":1090,"ax+":1218,"xa+":1218},modeStringToFlags:function(e){var t=FS.flagModes[e];if(typeof t==="undefined"){throw new Error("Unknown file open mode: "+e)}return t},flagsToPermissionString:function(e){var t=["r","w","rw"][e&3];if(e&512){t+="w"}return t},nodePermissions:function(e,t){if(FS.ignorePermissions){return 0}if(t.indexOf("r")!==-1&&!(e.mode&292)){return ERRNO_CODES.EACCES}else if(t.indexOf("w")!==-1&&!(e.mode&146)){return ERRNO_CODES.EACCES}else if(t.indexOf("x")!==-1&&!(e.mode&73)){return ERRNO_CODES.EACCES}return 0},mayLookup:function(e){var t=FS.nodePermissions(e,"x");if(t)return t;if(!e.node_ops.lookup)return ERRNO_CODES.EACCES;return 0},mayCreate:function(e,t){try{var r=FS.lookupNode(e,t);return ERRNO_CODES.EEXIST}catch(e){}return FS.nodePermissions(e,"wx")},mayDelete:function(e,t,r){var n;try{n=FS.lookupNode(e,t)}catch(e){return e.errno}var i=FS.nodePermissions(e,"wx");if(i){return i}if(r){if(!FS.isDir(n.mode)){return ERRNO_CODES.ENOTDIR}if(FS.isRoot(n)||FS.getPath(n)===FS.cwd()){return ERRNO_CODES.EBUSY}}else{if(FS.isDir(n.mode)){return ERRNO_CODES.EISDIR}}return 0},mayOpen:function(e,t){if(!e){return ERRNO_CODES.ENOENT}if(FS.isLink(e.mode)){return ERRNO_CODES.ELOOP}else if(FS.isDir(e.mode)){if(FS.flagsToPermissionString(t)!=="r"||t&512){return ERRNO_CODES.EISDIR}}return FS.nodePermissions(e,FS.flagsToPermissionString(t))},MAX_OPEN_FDS:4096,nextfd:function(e,t){e=e||0;t=t||FS.MAX_OPEN_FDS;for(var r=e;r<=t;r++){if(!FS.streams[r]){return r}}throw new FS.ErrnoError(ERRNO_CODES.EMFILE)},getStream:function(e){return FS.streams[e]},createStream:function(e,t,r){if(!FS.FSStream){FS.FSStream=function(){};FS.FSStream.prototype={};Object.defineProperties(FS.FSStream.prototype,{object:{get:function(){return this.node},set:function(e){this.node=e}},isRead:{get:function(){return(this.flags&2097155)!==1}},isWrite:{get:function(){return(this.flags&2097155)!==0}},isAppend:{get:function(){return this.flags&1024}}})}var n=new FS.FSStream;for(var i in e){n[i]=e[i]}e=n;var o=FS.nextfd(t,r);e.fd=o;FS.streams[o]=e;return e},closeStream:function(e){FS.streams[e]=null},chrdev_stream_ops:{open:function(e){var t=FS.getDevice(e.node.rdev);e.stream_ops=t.stream_ops;if(e.stream_ops.open){e.stream_ops.open(e)}},llseek:function(){throw new FS.ErrnoError(ERRNO_CODES.ESPIPE)}},major:function(e){return e>>8},minor:function(e){return e&255},makedev:function(e,t){return e<<8|t},registerDevice:function(e,t){FS.devices[e]={stream_ops:t}},getDevice:function(e){return FS.devices[e]},getMounts:function(e){var t=[];var r=[e];while(r.length){var n=r.pop();t.push(n);r.push.apply(r,n.mounts)}return t},syncfs:function(e,t){if(typeof e==="function"){t=e;e=false}FS.syncFSRequests++;if(FS.syncFSRequests>1){console.log("warning: "+FS.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work")}var r=FS.getMounts(FS.root.mount);var n=0;function i(e){assert(FS.syncFSRequests>0);FS.syncFSRequests--;return t(e)}function o(e){if(e){if(!o.errored){o.errored=true;return i(e)}return}if(++n>=r.length){i(null)}}r.forEach(function(t){if(!t.type.syncfs){return o(null)}t.type.syncfs(t,e,o)})},mount:function(e,t,r){var n=r==="/";var i=!r;var o;if(n&&FS.root){throw new FS.ErrnoError(ERRNO_CODES.EBUSY)}else if(!n&&!i){var a=FS.lookupPath(r,{follow_mount:false});r=a.path;o=a.node;if(FS.isMountpoint(o)){throw new FS.ErrnoError(ERRNO_CODES.EBUSY)}if(!FS.isDir(o.mode)){throw new FS.ErrnoError(ERRNO_CODES.ENOTDIR)}}var u={type:e,opts:t,mountpoint:r,mounts:[]};var s=e.mount(u);s.mount=u;u.root=s;if(n){FS.root=s}else if(o){o.mounted=u;if(o.mount){o.mount.mounts.push(u)}}return s},unmount:function(e){var t=FS.lookupPath(e,{follow_mount:false});if(!FS.isMountpoint(t.node)){throw new FS.ErrnoError(ERRNO_CODES.EINVAL)}var r=t.node;var n=r.mounted;var i=FS.getMounts(n);Object.keys(FS.nameTable).forEach(function(e){var t=FS.nameTable[e];while(t){var r=t.name_next;if(i.indexOf(t.mount)!==-1){FS.destroyNode(t)}t=r}});r.mounted=null;var o=r.mount.mounts.indexOf(n);assert(o!==-1);r.mount.mounts.splice(o,1)},lookup:function(e,t){return e.node_ops.lookup(e,t)},mknod:function(e,t,r){var n=FS.lookupPath(e,{parent:true});var i=n.node;var o=PATH.basename(e);if(!o||o==="."||o===".."){throw new FS.ErrnoError(ERRNO_CODES.EINVAL)}var a=FS.mayCreate(i,o);if(a){throw new FS.ErrnoError(a)}if(!i.node_ops.mknod){throw new FS.ErrnoError(ERRNO_CODES.EPERM)}return i.node_ops.mknod(i,o,t,r)},create:function(e,t){t=t!==undefined?t:438;t&=4095;t|=32768;return FS.mknod(e,t,0)},mkdir:function(e,t){t=t!==undefined?t:511;t&=511|512;t|=16384;return FS.mknod(e,t,0)},mkdirTree:function(e,t){var r=e.split("/");var n="";for(var i=0;i<r.length;++i){if(!r[i])continue;n+="/"+r[i];try{FS.mkdir(n,t)}catch(e){if(e.errno!=ERRNO_CODES.EEXIST)throw e}}},mkdev:function(e,t,r){if(typeof r==="undefined"){r=t;t=438}t|=8192;return FS.mknod(e,t,r)},symlink:function(e,t){if(!PATH.resolve(e)){throw new FS.ErrnoError(ERRNO_CODES.ENOENT)}var r=FS.lookupPath(t,{parent:true});var n=r.node;if(!n){throw new FS.ErrnoError(ERRNO_CODES.ENOENT)}var i=PATH.basename(t);var o=FS.mayCreate(n,i);if(o){throw new FS.ErrnoError(o)}if(!n.node_ops.symlink){throw new FS.ErrnoError(ERRNO_CODES.EPERM)}return n.node_ops.symlink(n,i,e)},rename:function(e,t){var r=PATH.dirname(e);var n=PATH.dirname(t);var i=PATH.basename(e);var o=PATH.basename(t);var a,u,s;try{a=FS.lookupPath(e,{parent:true});u=a.node;a=FS.lookupPath(t,{parent:true});s=a.node}catch(e){throw new FS.ErrnoError(ERRNO_CODES.EBUSY)}if(!u||!s)throw new FS.ErrnoError(ERRNO_CODES.ENOENT);if(u.mount!==s.mount){throw new FS.ErrnoError(ERRNO_CODES.EXDEV)}var l=FS.lookupNode(u,i);var _=PATH.relative(e,n);if(_.charAt(0)!=="."){throw new FS.ErrnoError(ERRNO_CODES.EINVAL)}_=PATH.relative(t,r);if(_.charAt(0)!=="."){throw new FS.ErrnoError(ERRNO_CODES.ENOTEMPTY)}var c;try{c=FS.lookupNode(s,o)}catch(e){}if(l===c){return}var f=FS.isDir(l.mode);var d=FS.mayDelete(u,i,f);if(d){throw new FS.ErrnoError(d)}d=c?FS.mayDelete(s,o,f):FS.mayCreate(s,o);if(d){throw new FS.ErrnoError(d)}if(!u.node_ops.rename){throw new FS.ErrnoError(ERRNO_CODES.EPERM)}if(FS.isMountpoint(l)||c&&FS.isMountpoint(c)){throw new FS.ErrnoError(ERRNO_CODES.EBUSY)}if(s!==u){d=FS.nodePermissions(u,"w");if(d){throw new FS.ErrnoError(d)}}try{if(FS.trackingDelegate["willMovePath"]){FS.trackingDelegate["willMovePath"](e,t)}}catch(r){console.log("FS.trackingDelegate['willMovePath']('"+e+"', '"+t+"') threw an exception: "+r.message)}FS.hashRemoveNode(l);try{u.node_ops.rename(l,s,o)}catch(e){throw e}finally{FS.hashAddNode(l)}try{if(FS.trackingDelegate["onMovePath"])FS.trackingDelegate["onMovePath"](e,t)}catch(r){console.log("FS.trackingDelegate['onMovePath']('"+e+"', '"+t+"') threw an exception: "+r.message)}},rmdir:function(e){var t=FS.lookupPath(e,{parent:true});var r=t.node;var n=PATH.basename(e);var i=FS.lookupNode(r,n);var o=FS.mayDelete(r,n,true);if(o){throw new FS.ErrnoError(o)}if(!r.node_ops.rmdir){throw new FS.ErrnoError(ERRNO_CODES.EPERM)}if(FS.isMountpoint(i)){throw new FS.ErrnoError(ERRNO_CODES.EBUSY)}try{if(FS.trackingDelegate["willDeletePath"]){FS.trackingDelegate["willDeletePath"](e)}}catch(t){console.log("FS.trackingDelegate['willDeletePath']('"+e+"') threw an exception: "+t.message)}r.node_ops.rmdir(r,n);FS.destroyNode(i);try{if(FS.trackingDelegate["onDeletePath"])FS.trackingDelegate["onDeletePath"](e)}catch(t){console.log("FS.trackingDelegate['onDeletePath']('"+e+"') threw an exception: "+t.message)}},readdir:function(e){var t=FS.lookupPath(e,{follow:true});var r=t.node;if(!r.node_ops.readdir){throw new FS.ErrnoError(ERRNO_CODES.ENOTDIR)}return r.node_ops.readdir(r)},unlink:function(e){var t=FS.lookupPath(e,{parent:true});var r=t.node;var n=PATH.basename(e);var i=FS.lookupNode(r,n);var o=FS.mayDelete(r,n,false);if(o){throw new FS.ErrnoError(o)}if(!r.node_ops.unlink){throw new FS.ErrnoError(ERRNO_CODES.EPERM)}if(FS.isMountpoint(i)){throw new FS.ErrnoError(ERRNO_CODES.EBUSY)}try{if(FS.trackingDelegate["willDeletePath"]){FS.trackingDelegate["willDeletePath"](e)}}catch(t){console.log("FS.trackingDelegate['willDeletePath']('"+e+"') threw an exception: "+t.message)}r.node_ops.unlink(r,n);FS.destroyNode(i);try{if(FS.trackingDelegate["onDeletePath"])FS.trackingDelegate["onDeletePath"](e)}catch(t){console.log("FS.trackingDelegate['onDeletePath']('"+e+"') threw an exception: "+t.message)}},readlink:function(e){var t=FS.lookupPath(e);var r=t.node;if(!r){throw new FS.ErrnoError(ERRNO_CODES.ENOENT)}if(!r.node_ops.readlink){throw new FS.ErrnoError(ERRNO_CODES.EINVAL)}return PATH.resolve(FS.getPath(r.parent),r.node_ops.readlink(r))},stat:function(e,t){var r=FS.lookupPath(e,{follow:!t});var n=r.node;if(!n){throw new FS.ErrnoError(ERRNO_CODES.ENOENT)}if(!n.node_ops.getattr){throw new FS.ErrnoError(ERRNO_CODES.EPERM)}return n.node_ops.getattr(n)},lstat:function(e){return FS.stat(e,true)},chmod:function(e,t,r){var n;if(typeof e==="string"){var i=FS.lookupPath(e,{follow:!r});n=i.node}else{n=e}if(!n.node_ops.setattr){throw new FS.ErrnoError(ERRNO_CODES.EPERM)}n.node_ops.setattr(n,{mode:t&4095|n.mode&~4095,timestamp:Date.now()})},lchmod:function(e,t){FS.chmod(e,t,true)},fchmod:function(e,t){var r=FS.getStream(e);if(!r){throw new FS.ErrnoError(ERRNO_CODES.EBADF)}FS.chmod(r.node,t)},chown:function(e,t,r,n){var i;if(typeof e==="string"){var o=FS.lookupPath(e,{follow:!n});i=o.node}else{i=e}if(!i.node_ops.setattr){throw new FS.ErrnoError(ERRNO_CODES.EPERM)}i.node_ops.setattr(i,{timestamp:Date.now()})},lchown:function(e,t,r){FS.chown(e,t,r,true)},fchown:function(e,t,r){var n=FS.getStream(e);if(!n){throw new FS.ErrnoError(ERRNO_CODES.EBADF)}FS.chown(n.node,t,r)},truncate:function(e,t){if(t<0){throw new FS.ErrnoError(ERRNO_CODES.EINVAL)}var r;if(typeof e==="string"){var n=FS.lookupPath(e,{follow:true});r=n.node}else{r=e}if(!r.node_ops.setattr){throw new FS.ErrnoError(ERRNO_CODES.EPERM)}if(FS.isDir(r.mode)){throw new FS.ErrnoError(ERRNO_CODES.EISDIR)}if(!FS.isFile(r.mode)){throw new FS.ErrnoError(ERRNO_CODES.EINVAL)}var i=FS.nodePermissions(r,"w");if(i){throw new FS.ErrnoError(i)}r.node_ops.setattr(r,{size:t,timestamp:Date.now()})},ftruncate:function(e,t){var r=FS.getStream(e);if(!r){throw new FS.ErrnoError(ERRNO_CODES.EBADF)}if((r.flags&2097155)===0){throw new FS.ErrnoError(ERRNO_CODES.EINVAL)}FS.truncate(r.node,t)},utime:function(e,t,r){var n=FS.lookupPath(e,{follow:true});var i=n.node;i.node_ops.setattr(i,{timestamp:Math.max(t,r)})},open:function(e,t,r,n,i){if(e===""){throw new FS.ErrnoError(ERRNO_CODES.ENOENT)}t=typeof t==="string"?FS.modeStringToFlags(t):t;r=typeof r==="undefined"?438:r;if(t&64){r=r&4095|32768}else{r=0}var o;if(typeof e==="object"){o=e}else{e=PATH.normalize(e);try{var a=FS.lookupPath(e,{follow:!(t&131072)});o=a.node}catch(e){}}var u=false;if(t&64){if(o){if(t&128){throw new FS.ErrnoError(ERRNO_CODES.EEXIST)}}else{o=FS.mknod(e,r,0);u=true}}if(!o){throw new FS.ErrnoError(ERRNO_CODES.ENOENT)}if(FS.isChrdev(o.mode)){t&=~512}if(t&65536&&!FS.isDir(o.mode)){throw new FS.ErrnoError(ERRNO_CODES.ENOTDIR)}if(!u){var s=FS.mayOpen(o,t);if(s){throw new FS.ErrnoError(s)}}if(t&512){FS.truncate(o,0)}t&=~(128|512);var l=FS.createStream({node:o,path:FS.getPath(o),flags:t,seekable:true,position:0,stream_ops:o.stream_ops,ungotten:[],error:false},n,i);if(l.stream_ops.open){l.stream_ops.open(l)}if(Module["logReadFiles"]&&!(t&1)){if(!FS.readFiles)FS.readFiles={};if(!(e in FS.readFiles)){FS.readFiles[e]=1;s("read file: "+e)}}try{if(FS.trackingDelegate["onOpenFile"]){var _=0;if((t&2097155)!==1){_|=FS.tracking.openFlags.READ}if((t&2097155)!==0){_|=FS.tracking.openFlags.WRITE}FS.trackingDelegate["onOpenFile"](e,_)}}catch(t){console.log("FS.trackingDelegate['onOpenFile']('"+e+"', flags) threw an exception: "+t.message)}return l},close:function(e){if(FS.isClosed(e)){throw new FS.ErrnoError(ERRNO_CODES.EBADF)}if(e.getdents)e.getdents=null;try{if(e.stream_ops.close){e.stream_ops.close(e)}}catch(e){throw e}finally{FS.closeStream(e.fd)}e.fd=null},isClosed:function(e){return e.fd===null},llseek:function(e,t,r){if(FS.isClosed(e)){throw new FS.ErrnoError(ERRNO_CODES.EBADF)}if(!e.seekable||!e.stream_ops.llseek){throw new FS.ErrnoError(ERRNO_CODES.ESPIPE)}e.position=e.stream_ops.llseek(e,t,r);e.ungotten=[];return e.position},read:function(e,t,r,n,i){if(n<0||i<0){throw new FS.ErrnoError(ERRNO_CODES.EINVAL)}if(FS.isClosed(e)){throw new FS.ErrnoError(ERRNO_CODES.EBADF)}if((e.flags&2097155)===1){throw new FS.ErrnoError(ERRNO_CODES.EBADF)}if(FS.isDir(e.node.mode)){throw new FS.ErrnoError(ERRNO_CODES.EISDIR)}if(!e.stream_ops.read){throw new FS.ErrnoError(ERRNO_CODES.EINVAL)}var o=typeof i!=="undefined";if(!o){i=e.position}else if(!e.seekable){throw new FS.ErrnoError(ERRNO_CODES.ESPIPE)}var a=e.stream_ops.read(e,t,r,n,i);if(!o)e.position+=a;return a},write:function(e,t,r,n,i,o){if(n<0||i<0){throw new FS.ErrnoError(ERRNO_CODES.EINVAL)}if(FS.isClosed(e)){throw new FS.ErrnoError(ERRNO_CODES.EBADF)}if((e.flags&2097155)===0){throw new FS.ErrnoError(ERRNO_CODES.EBADF)}if(FS.isDir(e.node.mode)){throw new FS.ErrnoError(ERRNO_CODES.EISDIR)}if(!e.stream_ops.write){throw new FS.ErrnoError(ERRNO_CODES.EINVAL)}if(e.flags&1024){FS.llseek(e,0,2)}var a=typeof i!=="undefined";if(!a){i=e.position}else if(!e.seekable){throw new FS.ErrnoError(ERRNO_CODES.ESPIPE)}var u=e.stream_ops.write(e,t,r,n,i,o);if(!a)e.position+=u;try{if(e.path&&FS.trackingDelegate["onWriteToFile"])FS.trackingDelegate["onWriteToFile"](e.path)}catch(e){console.log("FS.trackingDelegate['onWriteToFile']('"+path+"') threw an exception: "+e.message)}return u},allocate:function(e,t,r){if(FS.isClosed(e)){throw new FS.ErrnoError(ERRNO_CODES.EBADF)}if(t<0||r<=0){throw new FS.ErrnoError(ERRNO_CODES.EINVAL)}if((e.flags&2097155)===0){throw new FS.ErrnoError(ERRNO_CODES.EBADF)}if(!FS.isFile(e.node.mode)&&!FS.isDir(e.node.mode)){throw new FS.ErrnoError(ERRNO_CODES.ENODEV)}if(!e.stream_ops.allocate){throw new FS.ErrnoError(ERRNO_CODES.EOPNOTSUPP)}e.stream_ops.allocate(e,t,r)},mmap:function(e,t,r,n,i,o,a){if((e.flags&2097155)===1){throw new FS.ErrnoError(ERRNO_CODES.EACCES)}if(!e.stream_ops.mmap){throw new FS.ErrnoError(ERRNO_CODES.ENODEV)}return e.stream_ops.mmap(e,t,r,n,i,o,a)},msync:function(e,t,r,n,i){if(!e||!e.stream_ops.msync){return 0}return e.stream_ops.msync(e,t,r,n,i)},munmap:function(e){return 0},ioctl:function(e,t,r){if(!e.stream_ops.ioctl){throw new FS.ErrnoError(ERRNO_CODES.ENOTTY)}return e.stream_ops.ioctl(e,t,r)},readFile:function(e,t){t=t||{};t.flags=t.flags||"r";t.encoding=t.encoding||"binary";if(t.encoding!=="utf8"&&t.encoding!=="binary"){throw new Error('Invalid encoding type "'+t.encoding+'"')}var r;var n=FS.open(e,t.flags);var i=FS.stat(e);var o=i.size;var a=new Uint8Array(o);FS.read(n,a,0,o,0);if(t.encoding==="utf8"){r=UTF8ArrayToString(a,0)}else if(t.encoding==="binary"){r=a}FS.close(n);return r},writeFile:function(e,t,r){r=r||{};r.flags=r.flags||"w";var n=FS.open(e,r.flags,r.mode);if(typeof t==="string"){var i=new Uint8Array(lengthBytesUTF8(t)+1);var o=stringToUTF8Array(t,i,0,i.length);FS.write(n,i,0,o,undefined,r.canOwn)}else if(ArrayBuffer.isView(t)){FS.write(n,t,0,t.byteLength,undefined,r.canOwn)}else{throw new Error("Unsupported data type")}FS.close(n)},cwd:function(){return FS.currentPath},chdir:function(e){var t=FS.lookupPath(e,{follow:true});if(t.node===null){throw new FS.ErrnoError(ERRNO_CODES.ENOENT)}if(!FS.isDir(t.node.mode)){throw new FS.ErrnoError(ERRNO_CODES.ENOTDIR)}var r=FS.nodePermissions(t.node,"x");if(r){throw new FS.ErrnoError(r)}FS.currentPath=t.path},createDefaultDirectories:function(){FS.mkdir("/tmp");FS.mkdir("/home");FS.mkdir("/home/web_user")},createDefaultDevices:function(){FS.mkdir("/dev");FS.registerDevice(FS.makedev(1,3),{read:function(){return 0},write:function(e,t,r,n,i){return n}});FS.mkdev("/dev/null",FS.makedev(1,3));TTY.register(FS.makedev(5,0),TTY.default_tty_ops);TTY.register(FS.makedev(6,0),TTY.default_tty1_ops);FS.mkdev("/dev/tty",FS.makedev(5,0));FS.mkdev("/dev/tty1",FS.makedev(6,0));var e;if(typeof crypto!=="undefined"){var t=new Uint8Array(1);e=function(){crypto.getRandomValues(t);return t[0]}}else if(ENVIRONMENT_IS_NODE){e=function(){return require("crypto")["randomBytes"](1)[0]}}else{e=function(){return Math.random()*256|0}}FS.createDevice("/dev","random",e);FS.createDevice("/dev","urandom",e);FS.mkdir("/dev/shm");FS.mkdir("/dev/shm/tmp")},createSpecialDirectories:function(){FS.mkdir("/proc");FS.mkdir("/proc/self");FS.mkdir("/proc/self/fd");FS.mount({mount:function(){var e=FS.createNode("/proc/self","fd",16384|511,73);e.node_ops={lookup:function(e,t){var r=+t;var n=FS.getStream(r);if(!n)throw new FS.ErrnoError(ERRNO_CODES.EBADF);var i={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:function(){return n.path}}};i.parent=i;return i}};return e}},{},"/proc/self/fd")},createStandardStreams:function(){if(Module["stdin"]){FS.createDevice("/dev","stdin",Module["stdin"])}else{FS.symlink("/dev/tty","/dev/stdin")}if(Module["stdout"]){FS.createDevice("/dev","stdout",null,Module["stdout"])}else{FS.symlink("/dev/tty","/dev/stdout")}if(Module["stderr"]){FS.createDevice("/dev","stderr",null,Module["stderr"])}else{FS.symlink("/dev/tty1","/dev/stderr")}var e=FS.open("/dev/stdin","r");assert(e.fd===0,"invalid handle for stdin ("+e.fd+")");var t=FS.open("/dev/stdout","w");assert(t.fd===1,"invalid handle for stdout ("+t.fd+")");var r=FS.open("/dev/stderr","w");assert(r.fd===2,"invalid handle for stderr ("+r.fd+")")},ensureErrnoError:function(){if(FS.ErrnoError)return;FS.ErrnoError=function e(t,r){this.node=r;this.setErrno=function(e){this.errno=e;for(var t in ERRNO_CODES){if(ERRNO_CODES[t]===e){this.code=t;break}}};this.setErrno(t);this.message=ERRNO_MESSAGES[t];if(this.stack)Object.defineProperty(this,"stack",{value:(new Error).stack,writable:true})};FS.ErrnoError.prototype=new Error;FS.ErrnoError.prototype.constructor=FS.ErrnoError;[ERRNO_CODES.ENOENT].forEach(function(e){FS.genericErrors[e]=new FS.ErrnoError(e);FS.genericErrors[e].stack="<generic error, no stack>"})},staticInit:function(){FS.ensureErrnoError();FS.nameTable=new Array(4096);FS.mount(MEMFS,{},"/");FS.createDefaultDirectories();FS.createDefaultDevices();FS.createSpecialDirectories();FS.filesystems={MEMFS:MEMFS,IDBFS:IDBFS,NODEFS:NODEFS,WORKERFS:WORKERFS}},init:function(e,t,r){assert(!FS.init.initialized,"FS.init was previously called. If you want to initialize later with custom parameters, remove any earlier calls (note that one is automatically added to the generated code)");FS.init.initialized=true;FS.ensureErrnoError();Module["stdin"]=e||Module["stdin"];Module["stdout"]=t||Module["stdout"];Module["stderr"]=r||Module["stderr"];FS.createStandardStreams()},quit:function(){FS.init.initialized=false;var e=Module["_fflush"];if(e)e(0);for(var t=0;t<FS.streams.length;t++){var r=FS.streams[t];if(!r){continue}FS.close(r)}},getMode:function(e,t){var r=0;if(e)r|=292|73;if(t)r|=146;return r},joinPath:function(e,t){var r=PATH.join.apply(null,e);if(t&&r[0]=="/")r=r.substr(1);return r},absolutePath:function(e,t){return PATH.resolve(t,e)},standardizePath:function(e){return PATH.normalize(e)},findObject:function(e,t){var r=FS.analyzePath(e,t);if(r.exists){return r.object}else{___setErrNo(r.error);return null}},analyzePath:function(e,t){try{var r=FS.lookupPath(e,{follow:!t});e=r.path}catch(e){}var n={isRoot:false,exists:false,error:0,name:null,path:null,object:null,parentExists:false,parentPath:null,parentObject:null};try{var r=FS.lookupPath(e,{parent:true});n.parentExists=true;n.parentPath=r.path;n.parentObject=r.node;n.name=PATH.basename(e);r=FS.lookupPath(e,{follow:!t});n.exists=true;n.path=r.path;n.object=r.node;n.name=r.node.name;n.isRoot=r.path==="/"}catch(e){n.error=e.errno}return n},createFolder:function(e,t,r,n){var i=PATH.join2(typeof e==="string"?e:FS.getPath(e),t);var o=FS.getMode(r,n);return FS.mkdir(i,o)},createPath:function(e,t,r,n){e=typeof e==="string"?e:FS.getPath(e);var i=t.split("/").reverse();while(i.length){var o=i.pop();if(!o)continue;var a=PATH.join2(e,o);try{FS.mkdir(a)}catch(e){}e=a}return a},createFile:function(e,t,r,n,i){var o=PATH.join2(typeof e==="string"?e:FS.getPath(e),t);var a=FS.getMode(n,i);return FS.create(o,a)},createDataFile:function(e,t,r,n,i,o){var a=t?PATH.join2(typeof e==="string"?e:FS.getPath(e),t):e;var u=FS.getMode(n,i);var s=FS.create(a,u);if(r){if(typeof r==="string"){var l=new Array(r.length);for(var _=0,c=r.length;_<c;++_)l[_]=r.charCodeAt(_);r=l}FS.chmod(s,u|146);var f=FS.open(s,"w");FS.write(f,r,0,r.length,0,o);FS.close(f);FS.chmod(s,u)}return s},createDevice:function(e,t,r,n){var i=PATH.join2(typeof e==="string"?e:FS.getPath(e),t);var o=FS.getMode(!!r,!!n);if(!FS.createDevice.major)FS.createDevice.major=64;var a=FS.makedev(FS.createDevice.major++,0);FS.registerDevice(a,{open:function(e){e.seekable=false},close:function(e){if(n&&n.buffer&&n.buffer.length){n(10)}},read:function(e,t,n,i,o){var a=0;for(var u=0;u<i;u++){var s;try{s=r()}catch(e){throw new FS.ErrnoError(ERRNO_CODES.EIO)}if(s===undefined&&a===0){throw new FS.ErrnoError(ERRNO_CODES.EAGAIN)}if(s===null||s===undefined)break;a++;t[n+u]=s}if(a){e.node.timestamp=Date.now()}return a},write:function(e,t,r,i,o){for(var a=0;a<i;a++){try{n(t[r+a])}catch(e){throw new FS.ErrnoError(ERRNO_CODES.EIO)}}if(i){e.node.timestamp=Date.now()}return a}});return FS.mkdev(i,o,a)},createLink:function(e,t,r,n,i){var o=PATH.join2(typeof e==="string"?e:FS.getPath(e),t);return FS.symlink(r,o)},forceLoadFile:function(e){if(e.isDevice||e.isFolder||e.link||e.contents)return true;var t=true;if(typeof XMLHttpRequest!=="undefined"){throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.")}else if(Module["read"]){try{e.contents=intArrayFromString(Module["read"](e.url),true);e.usedBytes=e.contents.length}catch(e){t=false}}else{throw new Error("Cannot load without read() or XMLHttpRequest.")}if(!t)___setErrNo(ERRNO_CODES.EIO);return t},createLazyFile:function(e,t,r,n,i){function o(){this.lengthKnown=false;this.chunks=[]}o.prototype.get=function e(t){if(t>this.length-1||t<0){return undefined}var r=t%this.chunkSize;var n=t/this.chunkSize|0;return this.getter(n)[r]};o.prototype.setDataGetter=function e(t){this.getter=t};o.prototype.cacheLength=function e(){var t=new XMLHttpRequest;t.open("HEAD",r,false);t.send(null);if(!(t.status>=200&&t.status<300||t.status===304))throw new Error("Couldn't load "+r+". Status: "+t.status);var n=Number(t.getResponseHeader("Content-length"));var i;var o=(i=t.getResponseHeader("Accept-Ranges"))&&i==="bytes";var a=(i=t.getResponseHeader("Content-Encoding"))&&i==="gzip";var u=1024*1024;if(!o)u=n;var s=function(e,t){if(e>t)throw new Error("invalid range ("+e+", "+t+") or no bytes requested!");if(t>n-1)throw new Error("only "+n+" bytes available! programmer error!");var i=new XMLHttpRequest;i.open("GET",r,false);if(n!==u)i.setRequestHeader("Range","bytes="+e+"-"+t);if(typeof Uint8Array!="undefined")i.responseType="arraybuffer";if(i.overrideMimeType){i.overrideMimeType("text/plain; charset=x-user-defined")}i.send(null);if(!(i.status>=200&&i.status<300||i.status===304))throw new Error("Couldn't load "+r+". Status: "+i.status);if(i.response!==undefined){return new Uint8Array(i.response||[])}else{return intArrayFromString(i.responseText||"",true)}};var l=this;l.setDataGetter(function(e){var t=e*u;var r=(e+1)*u-1;r=Math.min(r,n-1);if(typeof l.chunks[e]==="undefined"){l.chunks[e]=s(t,r)}if(typeof l.chunks[e]==="undefined")throw new Error("doXHR failed!");return l.chunks[e]});if(a||!n){u=n=1;n=this.getter(0).length;u=n;console.log("LazyFiles on gzip forces download of the whole file when length is accessed")}this._length=n;this._chunkSize=u;this.lengthKnown=true};if(typeof XMLHttpRequest!=="undefined"){if(!ENVIRONMENT_IS_WORKER)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var a=new o;Object.defineProperties(a,{length:{get:function(){if(!this.lengthKnown){this.cacheLength()}return this._length}},chunkSize:{get:function(){if(!this.lengthKnown){this.cacheLength()}return this._chunkSize}}});var u={isDevice:false,contents:a}}else{var u={isDevice:false,url:r}}var s=FS.createFile(e,t,u,n,i);if(u.contents){s.contents=u.contents}else if(u.url){s.contents=null;s.url=u.url}Object.defineProperties(s,{usedBytes:{get:function(){return this.contents.length}}});var l={};var _=Object.keys(s.stream_ops);_.forEach(function(e){var t=s.stream_ops[e];l[e]=function e(){if(!FS.forceLoadFile(s)){throw new FS.ErrnoError(ERRNO_CODES.EIO)}return t.apply(null,arguments)}});l.read=function e(t,r,n,i,o){if(!FS.forceLoadFile(s)){throw new FS.ErrnoError(ERRNO_CODES.EIO)}var a=t.node.contents;if(o>=a.length)return 0;var u=Math.min(a.length-o,i);assert(u>=0);if(a.slice){for(var l=0;l<u;l++){r[n+l]=a[o+l]}}else{for(var l=0;l<u;l++){r[n+l]=a.get(o+l)}}return u};s.stream_ops=l;return s},createPreloadedFile:function(e,t,r,n,i,o,a,u,s,l){Browser.init();var _=t?PATH.resolve(PATH.join2(e,t)):e;var c=getUniqueRunDependency("cp "+_);function f(r){function f(r){if(l)l();if(!u){FS.createDataFile(e,t,r,n,i,s)}if(o)o();removeRunDependency(c)}var d=false;Module["preloadPlugins"].forEach(function(e){if(d)return;if(e["canHandle"](_)){e["handle"](r,_,f,function(){if(a)a();removeRunDependency(c)});d=true}});if(!d)f(r)}addRunDependency(c);if(typeof r=="string"){Browser.asyncLoad(r,function(e){f(e)},a)}else{f(r)}},indexedDB:function(){return window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB},DB_NAME:function(){return"EM_FS_"+window.location.pathname},DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:function(e,t,r){t=t||function(){};r=r||function(){};var n=FS.indexedDB();try{var i=n.open(FS.DB_NAME(),FS.DB_VERSION)}catch(e){return r(e)}i.onupgradeneeded=function e(){console.log("creating db");var t=i.result;t.createObjectStore(FS.DB_STORE_NAME)};i.onsuccess=function n(){var o=i.result;var a=o.transaction([FS.DB_STORE_NAME],"readwrite");var u=a.objectStore(FS.DB_STORE_NAME);var s=0,l=0,_=e.length;function c(){if(l==0)t();else r()}e.forEach(function(e){var t=u.put(FS.analyzePath(e).object.contents,e);t.onsuccess=function e(){s++;if(s+l==_)c()};t.onerror=function e(){l++;if(s+l==_)c()}});a.onerror=r};i.onerror=r},loadFilesFromDB:function(e,t,r){t=t||function(){};r=r||function(){};var n=FS.indexedDB();try{var i=n.open(FS.DB_NAME(),FS.DB_VERSION)}catch(e){return r(e)}i.onupgradeneeded=r;i.onsuccess=function n(){var o=i.result;try{var a=o.transaction([FS.DB_STORE_NAME],"readonly")}catch(e){r(e);return}var u=a.objectStore(FS.DB_STORE_NAME);var s=0,l=0,_=e.length;function c(){if(l==0)t();else r()}e.forEach(function(e){var t=u.get(e);t.onsuccess=function r(){if(FS.analyzePath(e).exists){FS.unlink(e)}FS.createDataFile(PATH.dirname(e),PATH.basename(e),t.result,true,true,true);s++;if(s+l==_)c()};t.onerror=function e(){l++;if(s+l==_)c()}});a.onerror=r};i.onerror=r}};var SYSCALLS={DEFAULT_POLLMASK:5,mappings:{},umask:511,calculateAt:function(e,t){if(t[0]!=="/"){var r;if(e===-100){r=FS.cwd()}else{var n=FS.getStream(e);if(!n)throw new FS.ErrnoError(ERRNO_CODES.EBADF);r=n.path}t=PATH.join2(r,t)}return t},doStat:function(e,t,r){try{var n=e(t)}catch(e){if(e&&e.node&&PATH.normalize(t)!==PATH.normalize(FS.getPath(e.node))){return-ERRNO_CODES.ENOTDIR}throw e}HEAP32[r>>2]=n.dev;HEAP32[r+4>>2]=0;HEAP32[r+8>>2]=n.ino;HEAP32[r+12>>2]=n.mode;HEAP32[r+16>>2]=n.nlink;HEAP32[r+20>>2]=n.uid;HEAP32[r+24>>2]=n.gid;HEAP32[r+28>>2]=n.rdev;HEAP32[r+32>>2]=0;HEAP32[r+36>>2]=n.size;HEAP32[r+40>>2]=4096;HEAP32[r+44>>2]=n.blocks;HEAP32[r+48>>2]=n.atime.getTime()/1e3|0;HEAP32[r+52>>2]=0;HEAP32[r+56>>2]=n.mtime.getTime()/1e3|0;HEAP32[r+60>>2]=0;HEAP32[r+64>>2]=n.ctime.getTime()/1e3|0;HEAP32[r+68>>2]=0;HEAP32[r+72>>2]=n.ino;return 0},doMsync:function(e,t,r,n){var i=new Uint8Array(HEAPU8.subarray(e,e+r));FS.msync(t,i,0,r,n)},doMkdir:function(e,t){e=PATH.normalize(e);if(e[e.length-1]==="/")e=e.substr(0,e.length-1);FS.mkdir(e,t,0);return 0},doMknod:function(e,t,r){switch(t&61440){case 32768:case 8192:case 24576:case 4096:case 49152:break;default:return-ERRNO_CODES.EINVAL}FS.mknod(e,t,r);return 0},doReadlink:function(e,t,r){if(r<=0)return-ERRNO_CODES.EINVAL;var n=FS.readlink(e);var i=Math.min(r,lengthBytesUTF8(n));var o=HEAP8[t+i];stringToUTF8(n,t,r+1);HEAP8[t+i]=o;return i},doAccess:function(e,t){if(t&~7){return-ERRNO_CODES.EINVAL}var r;var n=FS.lookupPath(e,{follow:true});r=n.node;var i="";if(t&4)i+="r";if(t&2)i+="w";if(t&1)i+="x";if(i&&FS.nodePermissions(r,i)){return-ERRNO_CODES.EACCES}return 0},doDup:function(e,t,r){var n=FS.getStream(r);if(n)FS.close(n);return FS.open(e,t,0,r,r).fd},doReadv:function(e,t,r,n){var i=0;for(var o=0;o<r;o++){var a=HEAP32[t+o*8>>2];var u=HEAP32[t+(o*8+4)>>2];var s=FS.read(e,HEAP8,a,u,n);if(s<0)return-1;i+=s;if(s<u)break}return i},doWritev:function(e,t,r,n){var i=0;for(var o=0;o<r;o++){var a=HEAP32[t+o*8>>2];var u=HEAP32[t+(o*8+4)>>2];var s=FS.write(e,HEAP8,a,u,n);if(s<0)return-1;i+=s}return i},varargs:0,get:function(e){SYSCALLS.varargs+=4;var t=HEAP32[SYSCALLS.varargs-4>>2];return t},getStr:function(){var e=Pointer_stringify(SYSCALLS.get());return e},getStreamFromFD:function(){var e=FS.getStream(SYSCALLS.get());if(!e)throw new FS.ErrnoError(ERRNO_CODES.EBADF);return e},getSocketFromFD:function(){var e=SOCKFS.getSocket(SYSCALLS.get());if(!e)throw new FS.ErrnoError(ERRNO_CODES.EBADF);return e},getSocketAddress:function(e){var t=SYSCALLS.get(),r=SYSCALLS.get();if(e&&t===0)return null;var n=__read_sockaddr(t,r);if(n.errno)throw new FS.ErrnoError(n.errno);n.addr=DNS.lookup_addr(n.addr)||n.addr;return n},get64:function(){var e=SYSCALLS.get(),t=SYSCALLS.get();if(e>=0)assert(t===0);else assert(t===-1);return e},getZero:function(){assert(SYSCALLS.get()===0)}};function ___syscall140(e,t){SYSCALLS.varargs=t;try{var r=SYSCALLS.getStreamFromFD(),n=SYSCALLS.get(),i=SYSCALLS.get(),o=SYSCALLS.get(),a=SYSCALLS.get();var u=i;FS.llseek(r,u,a);HEAP32[o>>2]=r.position;if(r.getdents&&u===0&&a===0)r.getdents=null;return 0}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return-e.errno}}function ___syscall145(e,t){SYSCALLS.varargs=t;try{var r=SYSCALLS.getStreamFromFD(),n=SYSCALLS.get(),i=SYSCALLS.get();return SYSCALLS.doReadv(r,n,i)}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return-e.errno}}function ___syscall146(e,t){SYSCALLS.varargs=t;try{var r=SYSCALLS.getStreamFromFD(),n=SYSCALLS.get(),i=SYSCALLS.get();return SYSCALLS.doWritev(r,n,i)}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return-e.errno}}function ___syscall168(e,t){SYSCALLS.varargs=t;try{var r=SYSCALLS.get(),n=SYSCALLS.get(),i=SYSCALLS.get();var o=0;for(var a=0;a<n;a++){var u=r+8*a;var s=HEAP32[u>>2];var l=HEAP16[u+4>>1];var _=32;var c=FS.getStream(s);if(c){_=SYSCALLS.DEFAULT_POLLMASK;if(c.stream_ops.poll){_=c.stream_ops.poll(c)}}_&=l|8|16;if(_)o++;HEAP16[u+6>>1]=_}return o}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return-e.errno}}function ___syscall183(e,t){SYSCALLS.varargs=t;try{var r=SYSCALLS.get(),n=SYSCALLS.get();if(n===0)return-ERRNO_CODES.EINVAL;var i=FS.cwd();var o=lengthBytesUTF8(i);if(n<o+1)return-ERRNO_CODES.ERANGE;stringToUTF8(i,r,n);return r}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return-e.errno}}function ___syscall191(e,t){SYSCALLS.varargs=t;try{var r=SYSCALLS.get(),n=SYSCALLS.get();HEAP32[n>>2]=-1;HEAP32[n+4>>2]=-1;HEAP32[n+8>>2]=-1;HEAP32[n+12>>2]=-1;return 0}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return-e.errno}}function ___syscall195(e,t){SYSCALLS.varargs=t;try{var r=SYSCALLS.getStr(),n=SYSCALLS.get();return SYSCALLS.doStat(FS.stat,r,n)}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return-e.errno}}function ___syscall221(e,t){SYSCALLS.varargs=t;try{var r=SYSCALLS.getStreamFromFD(),n=SYSCALLS.get();switch(n){case 0:{var i=SYSCALLS.get();if(i<0){return-ERRNO_CODES.EINVAL}var o;o=FS.open(r.path,r.flags,0,i);return o.fd};case 1:case 2:return 0;case 3:return r.flags;case 4:{var i=SYSCALLS.get();r.flags|=i;return 0};case 12:case 12:{var i=SYSCALLS.get();var a=0;HEAP16[i+a>>1]=2;return 0};case 13:case 14:case 13:case 14:return 0;case 16:case 8:return-ERRNO_CODES.EINVAL;case 9:___setErrNo(ERRNO_CODES.EINVAL);return-1;default:{return-ERRNO_CODES.EINVAL}}}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return-e.errno}}function ___syscall3(e,t){SYSCALLS.varargs=t;try{var r=SYSCALLS.getStreamFromFD(),n=SYSCALLS.get(),i=SYSCALLS.get();return FS.read(r,HEAP8,n,i)}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return-e.errno}}function ___syscall340(e,t){SYSCALLS.varargs=t;try{var r=SYSCALLS.get(),n=SYSCALLS.get(),i=SYSCALLS.get(),o=SYSCALLS.get();if(o){HEAP32[o>>2]=-1;HEAP32[o+4>>2]=-1;HEAP32[o+8>>2]=-1;HEAP32[o+12>>2]=-1}return 0}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return-e.errno}}function ___syscall4(e,t){SYSCALLS.varargs=t;try{var r=SYSCALLS.getStreamFromFD(),n=SYSCALLS.get(),i=SYSCALLS.get();return FS.write(r,HEAP8,n,i)}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return-e.errno}}var PIPEFS={BUCKET_BUFFER_SIZE:8192,mount:function(e){return FS.createNode(null,"/",16384|511,0)},createPipe:function(){var e={buckets:[]};e.buckets.push({buffer:new Uint8Array(PIPEFS.BUCKET_BUFFER_SIZE),offset:0,roffset:0});var t=PIPEFS.nextname();var r=PIPEFS.nextname();var n=FS.createNode(PIPEFS.root,t,4096,0);var i=FS.createNode(PIPEFS.root,r,4096,0);n.pipe=e;i.pipe=e;var o=FS.createStream({path:t,node:n,flags:FS.modeStringToFlags("r"),seekable:false,stream_ops:PIPEFS.stream_ops});n.stream=o;var a=FS.createStream({path:r,node:i,flags:FS.modeStringToFlags("w"),seekable:false,stream_ops:PIPEFS.stream_ops});i.stream=a;return{readable_fd:o.fd,writable_fd:a.fd}},stream_ops:{poll:function(e){var t=e.node.pipe;if((e.flags&2097155)===1){return 256|4}else{if(t.buckets.length>0){for(var r=0;r<t.buckets.length;r++){var n=t.buckets[r];if(n.offset-n.roffset>0){return 64|1}}}}return 0},ioctl:function(e,t,r){return ERRNO_CODES.EINVAL},read:function(e,t,r,n,i){var o=e.node.pipe;var a=0;for(var u=0;u<o.buckets.length;u++){var s=o.buckets[u];a+=s.offset-s.roffset}assert(t instanceof ArrayBuffer||ArrayBuffer.isView(t));var l=t.subarray(r,r+n);if(n<=0){return 0}if(a==0){throw new FS.ErrnoError(ERRNO_CODES.EAGAIN)}var _=Math.min(a,n);var c=_;var f=0;for(var u=0;u<o.buckets.length;u++){var d=o.buckets[u];var E=d.offset-d.roffset;if(_<=E){var S=d.buffer.subarray(d.roffset,d.offset);if(_<E){S=S.subarray(0,_);d.roffset+=_}else{f++}l.set(S);break}else{var S=d.buffer.subarray(d.roffset,d.offset);l.set(S);l=l.subarray(S.byteLength);_-=S.byteLength;f++}}if(f&&f==o.buckets.length){f--;o.buckets[f].offset=0;o.buckets[f].roffset=0}o.buckets.splice(0,f);return c},write:function(e,t,r,n,i){var o=e.node.pipe;assert(t instanceof ArrayBuffer||ArrayBuffer.isView(t));var a=t.subarray(r,r+n);var u=a.byteLength;if(u<=0){return 0}var s=null;if(o.buckets.length==0){s={buffer:new Uint8Array(PIPEFS.BUCKET_BUFFER_SIZE),offset:0,roffset:0};o.buckets.push(s)}else{s=o.buckets[o.buckets.length-1]}assert(s.offset<=PIPEFS.BUCKET_BUFFER_SIZE);var l=PIPEFS.BUCKET_BUFFER_SIZE-s.offset;if(l>=u){s.buffer.set(a,s.offset);s.offset+=u;return u}else if(l>0){s.buffer.set(a.subarray(0,l),s.offset);s.offset+=l;a=a.subarray(l,a.byteLength)}var _=a.byteLength/PIPEFS.BUCKET_BUFFER_SIZE|0;var c=a.byteLength%PIPEFS.BUCKET_BUFFER_SIZE;for(var f=0;f<_;f++){var d={buffer:new Uint8Array(PIPEFS.BUCKET_BUFFER_SIZE),offset:PIPEFS.BUCKET_BUFFER_SIZE,roffset:0};o.buckets.push(d);d.buffer.set(a.subarray(0,PIPEFS.BUCKET_BUFFER_SIZE));a=a.subarray(PIPEFS.BUCKET_BUFFER_SIZE,a.byteLength)}if(c>0){var d={buffer:new Uint8Array(PIPEFS.BUCKET_BUFFER_SIZE),offset:a.byteLength,roffset:0};o.buckets.push(d);d.buffer.set(a)}return u},close:function(e){var t=e.node.pipe;t.buckets=null}},nextname:function(){if(!PIPEFS.nextname.current){PIPEFS.nextname.current=0}return"pipe["+PIPEFS.nextname.current+++"]"}};function ___syscall42(e,t){SYSCALLS.varargs=t;try{var r=SYSCALLS.get();if(r==0){throw new FS.ErrnoError(ERRNO_CODES.EFAULT)}var n=PIPEFS.createPipe();HEAP32[r>>2]=n.readable_fd;HEAP32[r+4>>2]=n.writable_fd;return 0}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return-e.errno}}function ___syscall5(e,t){SYSCALLS.varargs=t;try{var r=SYSCALLS.getStr(),n=SYSCALLS.get(),i=SYSCALLS.get();var o=FS.open(r,n,i);return o.fd}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return-e.errno}}function ___syscall54(e,t){SYSCALLS.varargs=t;try{var r=SYSCALLS.getStreamFromFD(),n=SYSCALLS.get();switch(n){case 21509:case 21505:{if(!r.tty)return-ERRNO_CODES.ENOTTY;return 0};case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:{if(!r.tty)return-ERRNO_CODES.ENOTTY;return 0};case 21519:{if(!r.tty)return-ERRNO_CODES.ENOTTY;var i=SYSCALLS.get();HEAP32[i>>2]=0;return 0};case 21520:{if(!r.tty)return-ERRNO_CODES.ENOTTY;return-ERRNO_CODES.EINVAL};case 21531:{var i=SYSCALLS.get();return FS.ioctl(r,n,i)};case 21523:{if(!r.tty)return-ERRNO_CODES.ENOTTY;return 0};case 21524:{if(!r.tty)return-ERRNO_CODES.ENOTTY;return 0};default:abort("bad ioctl syscall "+n)}}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return-e.errno}}function ___syscall6(e,t){SYSCALLS.varargs=t;try{var r=SYSCALLS.getStreamFromFD();FS.close(r);return 0}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return-e.errno}}function ___syscall75(e,t){SYSCALLS.varargs=t;try{return 0}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return-e.errno}}function ___syscall91(e,t){SYSCALLS.varargs=t;try{var r=SYSCALLS.get(),n=SYSCALLS.get();var i=SYSCALLS.mappings[r];if(!i)return 0;if(n===i.len){var o=FS.getStream(i.fd);SYSCALLS.doMsync(r,o,n,i.flags);FS.munmap(o);SYSCALLS.mappings[r]=null;if(i.allocated){_free(i.malloc)}}return 0}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return-e.errno}}function ___unlock(){}function _abort(){Module["abort"]()}function _emscripten_get_now(){abort()}function _emscripten_get_now_is_monotonic(){return ENVIRONMENT_IS_NODE||typeof dateNow!=="undefined"||(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)&&self["performance"]&&self["performance"]["now"]}function _clock_gettime(e,t){var r;if(e===0){r=Date.now()}else if(e===1&&_emscripten_get_now_is_monotonic()){r=_emscripten_get_now()}else{___setErrNo(ERRNO_CODES.EINVAL);return-1}HEAP32[t>>2]=r/1e3|0;HEAP32[t+4>>2]=r%1e3*1e3*1e3|0;return 0}function _epoll_create(){err("missing function: epoll_create");abort(-1)}function _epoll_ctl(){err("missing function: epoll_ctl");abort(-1)}function _epoll_wait(){err("missing function: epoll_wait");abort(-1)}function _getenv(e){if(e===0)return 0;e=Pointer_stringify(e);if(!ENV.hasOwnProperty(e))return 0;if(_getenv.ret)_free(_getenv.ret);_getenv.ret=allocateUTF8(ENV[e]);return _getenv.ret}function _getpagesize(){return PAGE_SIZE}function _gettimeofday(e){var t=Date.now();HEAP32[e>>2]=t/1e3|0;HEAP32[e+4>>2]=t%1e3*1e3|0;return 0}var ___tm_current=STATICTOP;STATICTOP+=48;var ___tm_timezone=allocate(intArrayFromString("GMT"),"i8",ALLOC_STATIC);function _gmtime_r(e,t){var r=new Date(HEAP32[e>>2]*1e3);HEAP32[t>>2]=r.getUTCSeconds();HEAP32[t+4>>2]=r.getUTCMinutes();HEAP32[t+8>>2]=r.getUTCHours();HEAP32[t+12>>2]=r.getUTCDate();HEAP32[t+16>>2]=r.getUTCMonth();HEAP32[t+20>>2]=r.getUTCFullYear()-1900;HEAP32[t+24>>2]=r.getUTCDay();HEAP32[t+36>>2]=0;HEAP32[t+32>>2]=0;var n=Date.UTC(r.getUTCFullYear(),0,1,0,0,0,0);var i=(r.getTime()-n)/(1e3*60*60*24)|0;HEAP32[t+28>>2]=i;HEAP32[t+40>>2]=___tm_timezone;return t}function _gmtime(e){return _gmtime_r(e,___tm_current)}var _llvm_ceil_f64=Math_ceil;function _llvm_exp2_f32(e){return Math.pow(2,e)}function _llvm_exp2_f64(){return _llvm_exp2_f32.apply(null,arguments)}var _llvm_fabs_f32=Math_abs;var _llvm_fabs_f64=Math_abs;var _llvm_floor_f32=Math_floor;var _llvm_floor_f64=Math_floor;function _llvm_log10_f32(e){return Math.log(e)/Math.LN10}function _llvm_log10_f64(){return _llvm_log10_f32.apply(null,arguments)}function _llvm_stackrestore(e){var t=_llvm_stacksave;var r=t.LLVM_SAVEDSTACKS[e];t.LLVM_SAVEDSTACKS.splice(e,1);stackRestore(r)}function _llvm_stacksave(){var e=_llvm_stacksave;if(!e.LLVM_SAVEDSTACKS){e.LLVM_SAVEDSTACKS=[]}e.LLVM_SAVEDSTACKS.push(stackSave());return e.LLVM_SAVEDSTACKS.length-1}function _llvm_trap(){abort("trap!")}function _emscripten_memcpy_big(e,t,r){HEAPU8.set(HEAPU8.subarray(t,t+r),e);return e}function _usleep(e){var t=e/1e3;if((ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)&&self["performance"]&&self["performance"]["now"]){var r=self["performance"]["now"]();while(self["performance"]["now"]()-r<t){}}else{var r=Date.now();while(Date.now()-r<t){}}return 0}function _nanosleep(e,t){var r=HEAP32[e>>2];var n=HEAP32[e+4>>2];if(t!==0){HEAP32[t>>2]=0;HEAP32[t+4>>2]=0}return _usleep(r*1e6+n/1e3)}function _prctl(){err("missing function: prctl");abort(-1)}function _pthread_attr_destroy(e){return 0}function _pthread_attr_init(e){return 0}function _pthread_attr_setdetachstate(){}function _pthread_attr_setstacksize(){}function _pthread_cancel(){}function _pthread_cond_destroy(){return 0}function _pthread_cond_init(){return 0}function _pthread_cond_timedwait(){return 0}function _pthread_cond_wait(){return 0}function _pthread_condattr_destroy(){return 0}function _pthread_condattr_init(){return 0}function _pthread_condattr_setclock(){return 0}function _pthread_create(){return 11}var PTHREAD_SPECIFIC={};function _pthread_getspecific(e){return PTHREAD_SPECIFIC[e]||0}function _pthread_join(){}var PTHREAD_SPECIFIC_NEXT_KEY=1;function _pthread_key_create(e,t){if(e==0){return ERRNO_CODES.EINVAL}HEAP32[e>>2]=PTHREAD_SPECIFIC_NEXT_KEY;PTHREAD_SPECIFIC[PTHREAD_SPECIFIC_NEXT_KEY]=0;PTHREAD_SPECIFIC_NEXT_KEY++;return 0}function _pthread_key_delete(e){if(e in PTHREAD_SPECIFIC){delete PTHREAD_SPECIFIC[e];return 0}return ERRNO_CODES.EINVAL}function _pthread_mutex_destroy(){}function _pthread_mutex_init(){}function _pthread_mutexattr_destroy(){}function _pthread_mutexattr_init(){}function _pthread_once(e,t){if(!_pthread_once.seen)_pthread_once.seen={};if(e in _pthread_once.seen)return;Module["dynCall_v"](t);_pthread_once.seen[e]=1}function _pthread_rwlock_destroy(){return 0}function _pthread_rwlock_init(){return 0}function _pthread_rwlock_rdlock(){return 0}function _pthread_rwlock_unlock(){return 0}function _pthread_rwlock_wrlock(){return 0}function _pthread_setcancelstate(){return 0}function _pthread_setcanceltype(){err("missing function: pthread_setcanceltype");abort(-1)}function _pthread_setschedparam(){err("missing function: pthread_setschedparam");abort(-1)}function _pthread_setspecific(e,t){if(!(e in PTHREAD_SPECIFIC)){return ERRNO_CODES.EINVAL}PTHREAD_SPECIFIC[e]=t;return 0}function _rdft(){err("missing function: rdft");abort(-1)}function _sched_get_priority_max(){err("missing function: sched_get_priority_max");abort(-1)}function _sched_get_priority_min(){err("missing function: sched_get_priority_min");abort(-1)}function _sched_setaffinity(){err("missing function: sched_setaffinity");abort(-1)}function __isLeapYear(e){return e%4===0&&(e%100!==0||e%400===0)}function __arraySum(e,t){var r=0;for(var n=0;n<=t;r+=e[n++]);return r}var __MONTH_DAYS_LEAP=[31,29,31,30,31,30,31,31,30,31,30,31];var __MONTH_DAYS_REGULAR=[31,28,31,30,31,30,31,31,30,31,30,31];function __addDays(e,t){var r=new Date(e.getTime());while(t>0){var n=__isLeapYear(r.getFullYear());var i=r.getMonth();var o=(n?__MONTH_DAYS_LEAP:__MONTH_DAYS_REGULAR)[i];if(t>o-r.getDate()){t-=o-r.getDate()+1;r.setDate(1);if(i<11){r.setMonth(i+1)}else{r.setMonth(0);r.setFullYear(r.getFullYear()+1)}}else{r.setDate(r.getDate()+t);return r}}return r}function _strftime(e,t,r,n){var i=HEAP32[n+40>>2];var o={tm_sec:HEAP32[n>>2],tm_min:HEAP32[n+4>>2],tm_hour:HEAP32[n+8>>2],tm_mday:HEAP32[n+12>>2],tm_mon:HEAP32[n+16>>2],tm_year:HEAP32[n+20>>2],tm_wday:HEAP32[n+24>>2],tm_yday:HEAP32[n+28>>2],tm_isdst:HEAP32[n+32>>2],tm_gmtoff:HEAP32[n+36>>2],tm_zone:i?Pointer_stringify(i):""};var a=Pointer_stringify(r);var u={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S"};for(var s in u){a=a.replace(new RegExp(s,"g"),u[s])}var l=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];var _=["January","February","March","April","May","June","July","August","September","October","November","December"];function c(e,t,r){var n=typeof e==="number"?e.toString():e||"";while(n.length<t){n=r[0]+n}return n}function f(e,t){return c(e,t,"0")}function d(e,t){function r(e){return e<0?-1:e>0?1:0}var n;if((n=r(e.getFullYear()-t.getFullYear()))===0){if((n=r(e.getMonth()-t.getMonth()))===0){n=r(e.getDate()-t.getDate())}}return n}function E(e){switch(e.getDay()){case 0:return new Date(e.getFullYear()-1,11,29);case 1:return e;case 2:return new Date(e.getFullYear(),0,3);case 3:return new Date(e.getFullYear(),0,2);case 4:return new Date(e.getFullYear(),0,1);case 5:return new Date(e.getFullYear()-1,11,31);case 6:return new Date(e.getFullYear()-1,11,30)}}function S(e){var t=__addDays(new Date(e.tm_year+1900,0,1),e.tm_yday);var r=new Date(t.getFullYear(),0,4);var n=new Date(t.getFullYear()+1,0,4);var i=E(r);var o=E(n);if(d(i,t)<=0){if(d(o,t)<=0){return t.getFullYear()+1}else{return t.getFullYear()}}else{return t.getFullYear()-1}}var m={"%a":function(e){return l[e.tm_wday].substring(0,3)},"%A":function(e){return l[e.tm_wday]},"%b":function(e){return _[e.tm_mon].substring(0,3)},"%B":function(e){return _[e.tm_mon]},"%C":function(e){var t=e.tm_year+1900;return f(t/100|0,2)},"%d":function(e){return f(e.tm_mday,2)},"%e":function(e){return c(e.tm_mday,2," ")},"%g":function(e){return S(e).toString().substring(2)},"%G":function(e){return S(e)},"%H":function(e){return f(e.tm_hour,2)},"%I":function(e){var t=e.tm_hour;if(t==0)t=12;else if(t>12)t-=12;return f(t,2)},"%j":function(e){return f(e.tm_mday+__arraySum(__isLeapYear(e.tm_year+1900)?__MONTH_DAYS_LEAP:__MONTH_DAYS_REGULAR,e.tm_mon-1),3)},"%m":function(e){return f(e.tm_mon+1,2)},"%M":function(e){return f(e.tm_min,2)},"%n":function(){return"\n"},"%p":function(e){if(e.tm_hour>=0&&e.tm_hour<12){return"AM"}else{return"PM"}},"%S":function(e){return f(e.tm_sec,2)},"%t":function(){return"\t"},"%u":function(e){var t=new Date(e.tm_year+1900,e.tm_mon+1,e.tm_mday,0,0,0,0);return t.getDay()||7},"%U":function(e){var t=new Date(e.tm_year+1900,0,1);var r=t.getDay()===0?t:__addDays(t,7-t.getDay());var n=new Date(e.tm_year+1900,e.tm_mon,e.tm_mday);if(d(r,n)<0){var i=__arraySum(__isLeapYear(n.getFullYear())?__MONTH_DAYS_LEAP:__MONTH_DAYS_REGULAR,n.getMonth()-1)-31;var o=31-r.getDate();var a=o+i+n.getDate();return f(Math.ceil(a/7),2)}return d(r,t)===0?"01":"00"},"%V":function(e){var t=new Date(e.tm_year+1900,0,4);var r=new Date(e.tm_year+1901,0,4);var n=E(t);var i=E(r);var o=__addDays(new Date(e.tm_year+1900,0,1),e.tm_yday);if(d(o,n)<0){return"53"}if(d(i,o)<=0){return"01"}var a;if(n.getFullYear()<e.tm_year+1900){a=e.tm_yday+32-n.getDate()}else{a=e.tm_yday+1-n.getDate()}return f(Math.ceil(a/7),2)},"%w":function(e){var t=new Date(e.tm_year+1900,e.tm_mon+1,e.tm_mday,0,0,0,0);return t.getDay()},"%W":function(e){var t=new Date(e.tm_year,0,1);var r=t.getDay()===1?t:__addDays(t,t.getDay()===0?1:7-t.getDay()+1);var n=new Date(e.tm_year+1900,e.tm_mon,e.tm_mday);if(d(r,n)<0){var i=__arraySum(__isLeapYear(n.getFullYear())?__MONTH_DAYS_LEAP:__MONTH_DAYS_REGULAR,n.getMonth()-1)-31;var o=31-r.getDate();var a=o+i+n.getDate();return f(Math.ceil(a/7),2)}return d(r,t)===0?"01":"00"},"%y":function(e){return(e.tm_year+1900).toString().substring(2)},"%Y":function(e){return e.tm_year+1900},"%z":function(e){var t=e.tm_gmtoff;var r=t>=0;t=Math.abs(t)/60;t=t/60*100+t%60;return(r?"+":"-")+String("0000"+t).slice(-4)},"%Z":function(e){return e.tm_zone},"%%":function(){return"%"}};for(var s in m){if(a.indexOf(s)>=0){a=a.replace(new RegExp(s,"g"),m[s](o))}}var p=intArrayFromString(a,false);if(p.length>t){return 0}writeArrayToMemory(p,e);return p.length-1}function _strftime_l(e,t,r,n){return _strftime(e,t,r,n)}function _sysconf(e){switch(e){case 30:return PAGE_SIZE;case 85:var t=2*1024*1024*1024-65536;t=HEAPU8.length;return t/PAGE_SIZE;case 132:case 133:case 12:case 137:case 138:case 15:case 235:case 16:case 17:case 18:case 19:case 20:case 149:case 13:case 10:case 236:case 153:case 9:case 21:case 22:case 159:case 154:case 14:case 77:case 78:case 139:case 80:case 81:case 82:case 68:case 67:case 164:case 11:case 29:case 47:case 48:case 95:case 52:case 51:case 46:return 200809;case 79:return 0;case 27:case 246:case 127:case 128:case 23:case 24:case 160:case 161:case 181:case 182:case 242:case 183:case 184:case 243:case 244:case 245:case 165:case 178:case 179:case 49:case 50:case 168:case 169:case 175:case 170:case 171:case 172:case 97:case 76:case 32:case 173:case 35:return-1;case 176:case 177:case 7:case 155:case 8:case 157:case 125:case 126:case 92:case 93:case 129:case 130:case 131:case 94:case 91:return 1;case 74:case 60:case 69:case 70:case 4:return 1024;case 31:case 42:case 72:return 32;case 87:case 26:case 33:return 2147483647;case 34:case 1:return 47839;case 38:case 36:return 99;case 43:case 37:return 2048;case 0:return 2097152;case 3:return 65536;case 28:return 32768;case 44:return 32767;case 75:return 16384;case 39:return 1e3;case 89:return 700;case 71:return 256;case 40:return 255;case 2:return 100;case 180:return 64;case 25:return 20;case 5:return 16;case 6:return 6;case 73:return 4;case 84:{if(typeof navigator==="object")return navigator["hardwareConcurrency"]||1;return 1}}___setErrNo(ERRNO_CODES.EINVAL);return-1}function _time(e){var t=Date.now()/1e3|0;if(e){HEAP32[e>>2]=t}return t}function _times(e){if(e!==0){_memset(e,0,16)}return 0}FS.staticInit();__ATINIT__.unshift(function(){if(!Module["noFSInit"]&&!FS.init.initialized)FS.init()});__ATMAIN__.push(function(){FS.ignorePermissions=false});__ATEXIT__.push(function(){FS.quit()});__ATINIT__.unshift(function(){TTY.init()});__ATEXIT__.push(function(){TTY.shutdown()});if(ENVIRONMENT_IS_NODE){var fs=require("fs");var NODEJS_PATH=require("path");NODEFS.staticInit()}__ATINIT__.push(function(){PIPEFS.root=FS.mount(PIPEFS,{},null)});if(ENVIRONMENT_IS_NODE){_emscripten_get_now=function e(){var t=process["hrtime"]();return t[0]*1e3+t[1]/1e6}}else if(typeof dateNow!=="undefined"){_emscripten_get_now=dateNow}else if(typeof self==="object"&&self["performance"]&&typeof self["performance"]["now"]==="function"){_emscripten_get_now=function(){return self["performance"]["now"]()}}else if(typeof performance==="object"&&typeof performance["now"]==="function"){_emscripten_get_now=function(){return performance["now"]()}}else{_emscripten_get_now=Date.now}DYNAMICTOP_PTR=staticAlloc(4);STACK_BASE=STACKTOP=alignMemory(STATICTOP);STACK_MAX=STACK_BASE+TOTAL_STACK;DYNAMIC_BASE=alignMemory(STACK_MAX);HEAP32[DYNAMICTOP_PTR>>2]=DYNAMIC_BASE;staticSealed=true;var ASSERTIONS=false;function intArrayFromString(e,t,r){var n=r>0?r:lengthBytesUTF8(e)+1;var i=new Array(n);var o=stringToUTF8Array(e,i,0,i.length);if(t)i.length=o;return i}Module["wasmTableSize"]=4563;Module["wasmMaxTableSize"]=4563;function invoke_fi(e,t){var r=stackSave();try{return Module["dynCall_fi"](e,t)}catch(e){stackRestore(r);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_ii(e,t){var r=stackSave();try{return Module["dynCall_ii"](e,t)}catch(e){stackRestore(r);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_iif(e,t,r){var n=stackSave();try{return Module["dynCall_iif"](e,t,r)}catch(e){stackRestore(n);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_iii(e,t,r){var n=stackSave();try{return Module["dynCall_iii"](e,t,r)}catch(e){stackRestore(n);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_iiif(e,t,r,n){var i=stackSave();try{return Module["dynCall_iiif"](e,t,r,n)}catch(e){stackRestore(i);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_iiiff(e,t,r,n,i){var o=stackSave();try{return Module["dynCall_iiiff"](e,t,r,n,i)}catch(e){stackRestore(o);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_iiii(e,t,r,n){var i=stackSave();try{return Module["dynCall_iiii"](e,t,r,n)}catch(e){stackRestore(i);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_iiiif(e,t,r,n,i){var o=stackSave();try{return Module["dynCall_iiiif"](e,t,r,n,i)}catch(e){stackRestore(o);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_iiiifiii(e,t,r,n,i,o,a,u){var s=stackSave();try{return Module["dynCall_iiiifiii"](e,t,r,n,i,o,a,u)}catch(e){stackRestore(s);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_iiiii(e,t,r,n,i){var o=stackSave();try{return Module["dynCall_iiiii"](e,t,r,n,i)}catch(e){stackRestore(o);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_iiiiid(e,t,r,n,i,o){var a=stackSave();try{return Module["dynCall_iiiiid"](e,t,r,n,i,o)}catch(e){stackRestore(a);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_iiiiif(e,t,r,n,i,o){var a=stackSave();try{return Module["dynCall_iiiiif"](e,t,r,n,i,o)}catch(e){stackRestore(a);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_iiiiifii(e,t,r,n,i,o,a,u){var s=stackSave();try{return Module["dynCall_iiiiifii"](e,t,r,n,i,o,a,u)}catch(e){stackRestore(s);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_iiiiifiii(e,t,r,n,i,o,a,u,s){var l=stackSave();try{return Module["dynCall_iiiiifiii"](e,t,r,n,i,o,a,u,s)}catch(e){stackRestore(l);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_iiiiii(e,t,r,n,i,o){var a=stackSave();try{return Module["dynCall_iiiiii"](e,t,r,n,i,o)}catch(e){stackRestore(a);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_iiiiiid(e,t,r,n,i,o,a){var u=stackSave();try{return Module["dynCall_iiiiiid"](e,t,r,n,i,o,a)}catch(e){stackRestore(u);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_iiiiiif(e,t,r,n,i,o,a){var u=stackSave();try{return Module["dynCall_iiiiiif"](e,t,r,n,i,o,a)}catch(e){stackRestore(u);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_iiiiiifii(e,t,r,n,i,o,a,u,s){var l=stackSave();try{return Module["dynCall_iiiiiifii"](e,t,r,n,i,o,a,u,s)}catch(e){stackRestore(l);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_iiiiiii(e,t,r,n,i,o,a){var u=stackSave();try{return Module["dynCall_iiiiiii"](e,t,r,n,i,o,a)}catch(e){stackRestore(u);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_iiiiiiif(e,t,r,n,i,o,a,u){var s=stackSave();try{return Module["dynCall_iiiiiiif"](e,t,r,n,i,o,a,u)}catch(e){stackRestore(s);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_iiiiiiii(e,t,r,n,i,o,a,u){var s=stackSave();try{return Module["dynCall_iiiiiiii"](e,t,r,n,i,o,a,u)}catch(e){stackRestore(s);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_iiiiiiiii(e,t,r,n,i,o,a,u,s){var l=stackSave();try{return Module["dynCall_iiiiiiiii"](e,t,r,n,i,o,a,u,s)}catch(e){stackRestore(l);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_iiiiiiiiiii(e,t,r,n,i,o,a,u,s,l,_){var c=stackSave();try{return Module["dynCall_iiiiiiiiiii"](e,t,r,n,i,o,a,u,s,l,_)}catch(e){stackRestore(c);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_iiiiiiiiiiii(e,t,r,n,i,o,a,u,s,l,_,c){var f=stackSave();try{return Module["dynCall_iiiiiiiiiiii"](e,t,r,n,i,o,a,u,s,l,_,c)}catch(e){stackRestore(f);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_iiiiiiiiiiiii(e,t,r,n,i,o,a,u,s,l,_,c,f){var d=stackSave();try{return Module["dynCall_iiiiiiiiiiiii"](e,t,r,n,i,o,a,u,s,l,_,c,f)}catch(e){stackRestore(d);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_iiiiiijiii(e,t,r,n,i,o,a,u,s,l,_){var c=stackSave();try{return Module["dynCall_iiiiiijiii"](e,t,r,n,i,o,a,u,s,l,_)}catch(e){stackRestore(c);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_iiiiij(e,t,r,n,i,o,a){var u=stackSave();try{return Module["dynCall_iiiiij"](e,t,r,n,i,o,a)}catch(e){stackRestore(u);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_iiij(e,t,r,n,i){var o=stackSave();try{return Module["dynCall_iiij"](e,t,r,n,i)}catch(e){stackRestore(o);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_iij(e,t,r,n){var i=stackSave();try{return Module["dynCall_iij"](e,t,r,n)}catch(e){stackRestore(i);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_ji(e,t){var r=stackSave();try{return Module["dynCall_ji"](e,t)}catch(e){stackRestore(r);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_v(e){var t=stackSave();try{Module["dynCall_v"](e)}catch(e){stackRestore(t);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_vi(e,t){var r=stackSave();try{Module["dynCall_vi"](e,t)}catch(e){stackRestore(r);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_vii(e,t,r){var n=stackSave();try{Module["dynCall_vii"](e,t,r)}catch(e){stackRestore(n);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_viif(e,t,r,n){var i=stackSave();try{Module["dynCall_viif"](e,t,r,n)}catch(e){stackRestore(i);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_viii(e,t,r,n){var i=stackSave();try{Module["dynCall_viii"](e,t,r,n)}catch(e){stackRestore(i);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_viiii(e,t,r,n,i){var o=stackSave();try{Module["dynCall_viiii"](e,t,r,n,i)}catch(e){stackRestore(o);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_viiiii(e,t,r,n,i,o){var a=stackSave();try{Module["dynCall_viiiii"](e,t,r,n,i,o)}catch(e){stackRestore(a);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_viiiiii(e,t,r,n,i,o,a){var u=stackSave();try{Module["dynCall_viiiiii"](e,t,r,n,i,o,a)}catch(e){stackRestore(u);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_viiiiiii(e,t,r,n,i,o,a,u){var s=stackSave();try{Module["dynCall_viiiiiii"](e,t,r,n,i,o,a,u)}catch(e){stackRestore(s);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_viiiiiiii(e,t,r,n,i,o,a,u,s){var l=stackSave();try{Module["dynCall_viiiiiiii"](e,t,r,n,i,o,a,u,s)}catch(e){stackRestore(l);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_viiiiiiiii(e,t,r,n,i,o,a,u,s,l){var _=stackSave();try{Module["dynCall_viiiiiiiii"](e,t,r,n,i,o,a,u,s,l)}catch(e){stackRestore(_);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_viij(e,t,r,n,i){var o=stackSave();try{Module["dynCall_viij"](e,t,r,n,i)}catch(e){stackRestore(o);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_viijii(e,t,r,n,i,o,a){var u=stackSave();try{Module["dynCall_viijii"](e,t,r,n,i,o,a)}catch(e){stackRestore(u);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_vij(e,t,r,n){var i=stackSave();try{Module["dynCall_vij"](e,t,r,n)}catch(e){stackRestore(i);if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}Module.asmGlobalArg={};Module.asmLibraryArg={abort:abort,assert:assert,enlargeMemory:enlargeMemory,getTotalMemory:getTotalMemory,abortOnCannotGrowMemory:abortOnCannotGrowMemory,invoke_fi:invoke_fi,invoke_ii:invoke_ii,invoke_iif:invoke_iif,invoke_iii:invoke_iii,invoke_iiif:invoke_iiif,invoke_iiiff:invoke_iiiff,invoke_iiii:invoke_iiii,invoke_iiiif:invoke_iiiif,invoke_iiiifiii:invoke_iiiifiii,invoke_iiiii:invoke_iiiii,invoke_iiiiid:invoke_iiiiid,invoke_iiiiif:invoke_iiiiif,invoke_iiiiifii:invoke_iiiiifii,invoke_iiiiifiii:invoke_iiiiifiii,invoke_iiiiii:invoke_iiiiii,invoke_iiiiiid:invoke_iiiiiid,invoke_iiiiiif:invoke_iiiiiif,invoke_iiiiiifii:invoke_iiiiiifii,invoke_iiiiiii:invoke_iiiiiii,invoke_iiiiiiif:invoke_iiiiiiif,invoke_iiiiiiii:invoke_iiiiiiii,invoke_iiiiiiiii:invoke_iiiiiiiii,invoke_iiiiiiiiiii:invoke_iiiiiiiiiii,invoke_iiiiiiiiiiii:invoke_iiiiiiiiiiii,invoke_iiiiiiiiiiiii:invoke_iiiiiiiiiiiii,invoke_iiiiiijiii:invoke_iiiiiijiii,invoke_iiiiij:invoke_iiiiij,invoke_iiij:invoke_iiij,invoke_iij:invoke_iij,invoke_ji:invoke_ji,invoke_v:invoke_v,invoke_vi:invoke_vi,invoke_vii:invoke_vii,invoke_viif:invoke_viif,invoke_viii:invoke_viii,invoke_viiii:invoke_viiii,invoke_viiiii:invoke_viiiii,invoke_viiiiii:invoke_viiiiii,invoke_viiiiiii:invoke_viiiiiii,invoke_viiiiiiii:invoke_viiiiiiii,invoke_viiiiiiiii:invoke_viiiiiiiii,invoke_viij:invoke_viij,invoke_viijii:invoke_viijii,invoke_vij:invoke_vij,___assert_fail:___assert_fail,___buildEnvironment:___buildEnvironment,___cxa_allocate_exception:___cxa_allocate_exception,___cxa_begin_catch:___cxa_begin_catch,___cxa_find_matching_catch:___cxa_find_matching_catch,___cxa_pure_virtual:___cxa_pure_virtual,___cxa_throw:___cxa_throw,___cxa_uncaught_exception:___cxa_uncaught_exception,___gxx_personality_v0:___gxx_personality_v0,___lock:___lock,___map_file:___map_file,___resumeException:___resumeException,___setErrNo:___setErrNo,___syscall140:___syscall140,___syscall145:___syscall145,___syscall146:___syscall146,___syscall168:___syscall168,___syscall183:___syscall183,___syscall191:___syscall191,___syscall195:___syscall195,___syscall221:___syscall221,___syscall3:___syscall3,___syscall340:___syscall340,___syscall4:___syscall4,___syscall42:___syscall42,___syscall5:___syscall5,___syscall54:___syscall54,___syscall6:___syscall6,___syscall75:___syscall75,___syscall91:___syscall91,___unlock:___unlock,__addDays:__addDays,__arraySum:__arraySum,__isLeapYear:__isLeapYear,_abort:_abort,_clock_gettime:_clock_gettime,_emscripten_asm_const_iii:_emscripten_asm_const_iii,_emscripten_asm_const_iiii:_emscripten_asm_const_iiii,_emscripten_asm_const_iiiiiiiii:_emscripten_asm_const_iiiiiiiii,_emscripten_get_now:_emscripten_get_now,_emscripten_get_now_is_monotonic:_emscripten_get_now_is_monotonic,_emscripten_memcpy_big:_emscripten_memcpy_big,_epoll_create:_epoll_create,_epoll_ctl:_epoll_ctl,_epoll_wait:_epoll_wait,_getenv:_getenv,_getpagesize:_getpagesize,_gettimeofday:_gettimeofday,_gmtime:_gmtime,_gmtime_r:_gmtime_r,_llvm_ceil_f64:_llvm_ceil_f64,_llvm_exp2_f32:_llvm_exp2_f32,_llvm_exp2_f64:_llvm_exp2_f64,_llvm_fabs_f32:_llvm_fabs_f32,_llvm_fabs_f64:_llvm_fabs_f64,_llvm_floor_f32:_llvm_floor_f32,_llvm_floor_f64:_llvm_floor_f64,_llvm_log10_f32:_llvm_log10_f32,_llvm_log10_f64:_llvm_log10_f64,_llvm_stackrestore:_llvm_stackrestore,_llvm_stacksave:_llvm_stacksave,_llvm_trap:_llvm_trap,_nanosleep:_nanosleep,_prctl:_prctl,_pthread_attr_destroy:_pthread_attr_destroy,_pthread_attr_init:_pthread_attr_init,_pthread_attr_setdetachstate:_pthread_attr_setdetachstate,_pthread_attr_setstacksize:_pthread_attr_setstacksize,_pthread_cancel:_pthread_cancel,_pthread_cond_destroy:_pthread_cond_destroy,_pthread_cond_init:_pthread_cond_init,_pthread_cond_timedwait:_pthread_cond_timedwait,_pthread_cond_wait:_pthread_cond_wait,_pthread_condattr_destroy:_pthread_condattr_destroy,_pthread_condattr_init:_pthread_condattr_init,_pthread_condattr_setclock:_pthread_condattr_setclock,_pthread_create:_pthread_create,_pthread_getspecific:_pthread_getspecific,_pthread_join:_pthread_join,_pthread_key_create:_pthread_key_create,_pthread_key_delete:_pthread_key_delete,_pthread_mutex_destroy:_pthread_mutex_destroy,_pthread_mutex_init:_pthread_mutex_init,_pthread_mutexattr_destroy:_pthread_mutexattr_destroy,_pthread_mutexattr_init:_pthread_mutexattr_init,_pthread_once:_pthread_once,_pthread_rwlock_destroy:_pthread_rwlock_destroy,_pthread_rwlock_init:_pthread_rwlock_init,_pthread_rwlock_rdlock:_pthread_rwlock_rdlock,_pthread_rwlock_unlock:_pthread_rwlock_unlock,_pthread_rwlock_wrlock:_pthread_rwlock_wrlock,_pthread_setcancelstate:_pthread_setcancelstate,_pthread_setcanceltype:_pthread_setcanceltype,_pthread_setschedparam:_pthread_setschedparam,_pthread_setspecific:_pthread_setspecific,_rdft:_rdft,_sched_get_priority_max:_sched_get_priority_max,_sched_get_priority_min:_sched_get_priority_min,_sched_setaffinity:_sched_setaffinity,_strftime:_strftime,_strftime_l:_strftime_l,_sysconf:_sysconf,_time:_time,_times:_times,_usleep:_usleep,DYNAMICTOP_PTR:DYNAMICTOP_PTR,tempDoublePtr:tempDoublePtr,ABORT:ABORT,STACKTOP:STACKTOP,STACK_MAX:STACK_MAX};var asm=Module["asm"](Module.asmGlobalArg,Module.asmLibraryArg,buffer);Module["asm"]=asm;var __Audio_Decode=Module["__Audio_Decode"]=function(){return Module["asm"]["__Audio_Decode"].apply(null,arguments)};var __Audio_Encode=Module["__Audio_Encode"]=function(){return Module["asm"]["__Audio_Encode"].apply(null,arguments)};var __Audio_Init=Module["__Audio_Init"]=function(){return Module["asm"]["__Audio_Init"].apply(null,arguments)};var __Audio_Set_Data_Encryption=Module["__Audio_Set_Data_Encryption"]=function(){return Module["asm"]["__Audio_Set_Data_Encryption"].apply(null,arguments)};var __Audio_UnInit=Module["__Audio_UnInit"]=function(){return Module["asm"]["__Audio_UnInit"].apply(null,arguments)};var __GLOBAL__I_000101=Module["__GLOBAL__I_000101"]=function(){return Module["asm"]["__GLOBAL__I_000101"].apply(null,arguments)};var __GLOBAL__sub_I_auxi_cpp=Module["__GLOBAL__sub_I_auxi_cpp"]=function(){return Module["asm"]["__GLOBAL__sub_I_auxi_cpp"].apply(null,arguments)};var __GLOBAL__sub_I_iostream_cpp=Module["__GLOBAL__sub_I_iostream_cpp"]=function(){return Module["asm"]["__GLOBAL__sub_I_iostream_cpp"].apply(null,arguments)};var __GLOBAL__sub_I_log_cpp=Module["__GLOBAL__sub_I_log_cpp"]=function(){return Module["asm"]["__GLOBAL__sub_I_log_cpp"].apply(null,arguments)};var __GLOBAL__sub_I_singleton_cpp=Module["__GLOBAL__sub_I_singleton_cpp"]=function(){return Module["asm"]["__GLOBAL__sub_I_singleton_cpp"].apply(null,arguments)};var __GLOBAL__sub_I_text_stream_cpp=Module["__GLOBAL__sub_I_text_stream_cpp"]=function(){return Module["asm"]["__GLOBAL__sub_I_text_stream_cpp"].apply(null,arguments)};var __GLOBAL__sub_I_util_cpp=Module["__GLOBAL__sub_I_util_cpp"]=function(){return Module["asm"]["__GLOBAL__sub_I_util_cpp"].apply(null,arguments)};var __GLOBAL__sub_I_wcl_audio_cpp=Module["__GLOBAL__sub_I_wcl_audio_cpp"]=function(){return Module["asm"]["__GLOBAL__sub_I_wcl_audio_cpp"].apply(null,arguments)};var __Get_Aec_Delay=Module["__Get_Aec_Delay"]=function(){return Module["asm"]["__Get_Aec_Delay"].apply(null,arguments)};var __Get_Audio_Edition=Module["__Get_Audio_Edition"]=function(){return Module["asm"]["__Get_Audio_Edition"].apply(null,arguments)};var __Get_Mixed_Audio=Module["__Get_Mixed_Audio"]=function(){return Module["asm"]["__Get_Mixed_Audio"].apply(null,arguments)};var __Put_Pre_Aec_Data=Module["__Put_Pre_Aec_Data"]=function(){return Module["asm"]["__Put_Pre_Aec_Data"].apply(null,arguments)};var __ReSet_Aec=Module["__ReSet_Aec"]=function(){return Module["asm"]["__ReSet_Aec"].apply(null,arguments)};var __Set_Aec_Delay=Module["__Set_Aec_Delay"]=function(){return Module["asm"]["__Set_Aec_Delay"].apply(null,arguments)};var __ZSt18uncaught_exceptionv=Module["__ZSt18uncaught_exceptionv"]=function(){return Module["asm"]["__ZSt18uncaught_exceptionv"].apply(null,arguments)};var ___cxa_can_catch=Module["___cxa_can_catch"]=function(){return Module["asm"]["___cxa_can_catch"].apply(null,arguments)};var ___cxa_demangle=Module["___cxa_demangle"]=function(){return Module["asm"]["___cxa_demangle"].apply(null,arguments)};var ___cxa_is_pointer_type=Module["___cxa_is_pointer_type"]=function(){return Module["asm"]["___cxa_is_pointer_type"].apply(null,arguments)};var ___cxx_global_var_init_1=Module["___cxx_global_var_init_1"]=function(){return Module["asm"]["___cxx_global_var_init_1"].apply(null,arguments)};var ___cxx_global_var_init_12=Module["___cxx_global_var_init_12"]=function(){return Module["asm"]["___cxx_global_var_init_12"].apply(null,arguments)};var ___cxx_global_var_init_2=Module["___cxx_global_var_init_2"]=function(){return Module["asm"]["___cxx_global_var_init_2"].apply(null,arguments)};var ___cxx_global_var_init_3=Module["___cxx_global_var_init_3"]=function(){return Module["asm"]["___cxx_global_var_init_3"].apply(null,arguments)};var ___cxx_global_var_init_3_4986=Module["___cxx_global_var_init_3_4986"]=function(){return Module["asm"]["___cxx_global_var_init_3_4986"].apply(null,arguments)};var ___cxx_global_var_init_4=Module["___cxx_global_var_init_4"]=function(){return Module["asm"]["___cxx_global_var_init_4"].apply(null,arguments)};var ___cxx_global_var_init_47=Module["___cxx_global_var_init_47"]=function(){return Module["asm"]["___cxx_global_var_init_47"].apply(null,arguments)};var ___cxx_global_var_init_48=Module["___cxx_global_var_init_48"]=function(){return Module["asm"]["___cxx_global_var_init_48"].apply(null,arguments)};var ___cxx_global_var_init_4894=Module["___cxx_global_var_init_4894"]=function(){return Module["asm"]["___cxx_global_var_init_4894"].apply(null,arguments)};var ___cxx_global_var_init_4925=Module["___cxx_global_var_init_4925"]=function(){return Module["asm"]["___cxx_global_var_init_4925"].apply(null,arguments)};var ___cxx_global_var_init_4933=Module["___cxx_global_var_init_4933"]=function(){return Module["asm"]["___cxx_global_var_init_4933"].apply(null,arguments)};var ___cxx_global_var_init_4938=Module["___cxx_global_var_init_4938"]=function(){return Module["asm"]["___cxx_global_var_init_4938"].apply(null,arguments)};var ___cxx_global_var_init_4972=Module["___cxx_global_var_init_4972"]=function(){return Module["asm"]["___cxx_global_var_init_4972"].apply(null,arguments)};var ___emscripten_environ_constructor=Module["___emscripten_environ_constructor"]=function(){return Module["asm"]["___emscripten_environ_constructor"].apply(null,arguments)};var ___errno_location=Module["___errno_location"]=function(){return Module["asm"]["___errno_location"].apply(null,arguments)};var __get_daylight=Module["__get_daylight"]=function(){return Module["asm"]["__get_daylight"].apply(null,arguments)};var __get_environ=Module["__get_environ"]=function(){return Module["asm"]["__get_environ"].apply(null,arguments)};var __get_timezone=Module["__get_timezone"]=function(){return Module["asm"]["__get_timezone"].apply(null,arguments)};var __get_tzname=Module["__get_tzname"]=function(){return Module["asm"]["__get_tzname"].apply(null,arguments)};var _free=Module["_free"]=function(){return Module["asm"]["_free"].apply(null,arguments)};var _htonl=Module["_htonl"]=function(){return Module["asm"]["_htonl"].apply(null,arguments)};var _htons=Module["_htons"]=function(){return Module["asm"]["_htons"].apply(null,arguments)};var _llvm_bswap_i16=Module["_llvm_bswap_i16"]=function(){return Module["asm"]["_llvm_bswap_i16"].apply(null,arguments)};var _llvm_bswap_i32=Module["_llvm_bswap_i32"]=function(){return Module["asm"]["_llvm_bswap_i32"].apply(null,arguments)};var _malloc=Module["_malloc"]=function(){return Module["asm"]["_malloc"].apply(null,arguments)};var _memcpy=Module["_memcpy"]=function(){return Module["asm"]["_memcpy"].apply(null,arguments)};var _memmove=Module["_memmove"]=function(){return Module["asm"]["_memmove"].apply(null,arguments)};var _memset=Module["_memset"]=function(){return Module["asm"]["_memset"].apply(null,arguments)};var _ntohs=Module["_ntohs"]=function(){return Module["asm"]["_ntohs"].apply(null,arguments)};var _pthread_cond_broadcast=Module["_pthread_cond_broadcast"]=function(){return Module["asm"]["_pthread_cond_broadcast"].apply(null,arguments)};var _pthread_mutex_lock=Module["_pthread_mutex_lock"]=function(){return Module["asm"]["_pthread_mutex_lock"].apply(null,arguments)};var _pthread_mutex_unlock=Module["_pthread_mutex_unlock"]=function(){return Module["asm"]["_pthread_mutex_unlock"].apply(null,arguments)};var _sbrk=Module["_sbrk"]=function(){return Module["asm"]["_sbrk"].apply(null,arguments)};var establishStackSpace=Module["establishStackSpace"]=function(){return Module["asm"]["establishStackSpace"].apply(null,arguments)};var getTempRet0=Module["getTempRet0"]=function(){return Module["asm"]["getTempRet0"].apply(null,arguments)};var runPostSets=Module["runPostSets"]=function(){return Module["asm"]["runPostSets"].apply(null,arguments)};var setTempRet0=Module["setTempRet0"]=function(){return Module["asm"]["setTempRet0"].apply(null,arguments)};var setThrew=Module["setThrew"]=function(){return Module["asm"]["setThrew"].apply(null,arguments)};var stackAlloc=Module["stackAlloc"]=function(){return Module["asm"]["stackAlloc"].apply(null,arguments)};var stackRestore=Module["stackRestore"]=function(){return Module["asm"]["stackRestore"].apply(null,arguments)};var stackSave=Module["stackSave"]=function(){return Module["asm"]["stackSave"].apply(null,arguments)};var dynCall_fi=Module["dynCall_fi"]=function(){return Module["asm"]["dynCall_fi"].apply(null,arguments)};var dynCall_ii=Module["dynCall_ii"]=function(){return Module["asm"]["dynCall_ii"].apply(null,arguments)};var dynCall_iif=Module["dynCall_iif"]=function(){return Module["asm"]["dynCall_iif"].apply(null,arguments)};var dynCall_iii=Module["dynCall_iii"]=function(){return Module["asm"]["dynCall_iii"].apply(null,arguments)};var dynCall_iiif=Module["dynCall_iiif"]=function(){return Module["asm"]["dynCall_iiif"].apply(null,arguments)};var dynCall_iiiff=Module["dynCall_iiiff"]=function(){return Module["asm"]["dynCall_iiiff"].apply(null,arguments)};var dynCall_iiii=Module["dynCall_iiii"]=function(){return Module["asm"]["dynCall_iiii"].apply(null,arguments)};var dynCall_iiiif=Module["dynCall_iiiif"]=function(){return Module["asm"]["dynCall_iiiif"].apply(null,arguments)};var dynCall_iiiifiii=Module["dynCall_iiiifiii"]=function(){return Module["asm"]["dynCall_iiiifiii"].apply(null,arguments)};var dynCall_iiiii=Module["dynCall_iiiii"]=function(){return Module["asm"]["dynCall_iiiii"].apply(null,arguments)};var dynCall_iiiiid=Module["dynCall_iiiiid"]=function(){return Module["asm"]["dynCall_iiiiid"].apply(null,arguments)};var dynCall_iiiiif=Module["dynCall_iiiiif"]=function(){return Module["asm"]["dynCall_iiiiif"].apply(null,arguments)};var dynCall_iiiiifii=Module["dynCall_iiiiifii"]=function(){return Module["asm"]["dynCall_iiiiifii"].apply(null,arguments)};var dynCall_iiiiifiii=Module["dynCall_iiiiifiii"]=function(){return Module["asm"]["dynCall_iiiiifiii"].apply(null,arguments)};var dynCall_iiiiii=Module["dynCall_iiiiii"]=function(){return Module["asm"]["dynCall_iiiiii"].apply(null,arguments)};var dynCall_iiiiiid=Module["dynCall_iiiiiid"]=function(){return Module["asm"]["dynCall_iiiiiid"].apply(null,arguments)};var dynCall_iiiiiif=Module["dynCall_iiiiiif"]=function(){return Module["asm"]["dynCall_iiiiiif"].apply(null,arguments)};var dynCall_iiiiiifii=Module["dynCall_iiiiiifii"]=function(){return Module["asm"]["dynCall_iiiiiifii"].apply(null,arguments)};var dynCall_iiiiiii=Module["dynCall_iiiiiii"]=function(){return Module["asm"]["dynCall_iiiiiii"].apply(null,arguments)};var dynCall_iiiiiiif=Module["dynCall_iiiiiiif"]=function(){return Module["asm"]["dynCall_iiiiiiif"].apply(null,arguments)};var dynCall_iiiiiiii=Module["dynCall_iiiiiiii"]=function(){return Module["asm"]["dynCall_iiiiiiii"].apply(null,arguments)};var dynCall_iiiiiiiii=Module["dynCall_iiiiiiiii"]=function(){return Module["asm"]["dynCall_iiiiiiiii"].apply(null,arguments)};var dynCall_iiiiiiiiiii=Module["dynCall_iiiiiiiiiii"]=function(){return Module["asm"]["dynCall_iiiiiiiiiii"].apply(null,arguments)};var dynCall_iiiiiiiiiiii=Module["dynCall_iiiiiiiiiiii"]=function(){return Module["asm"]["dynCall_iiiiiiiiiiii"].apply(null,arguments)};var dynCall_iiiiiiiiiiiii=Module["dynCall_iiiiiiiiiiiii"]=function(){return Module["asm"]["dynCall_iiiiiiiiiiiii"].apply(null,arguments)};var dynCall_iiiiiijiii=Module["dynCall_iiiiiijiii"]=function(){return Module["asm"]["dynCall_iiiiiijiii"].apply(null,arguments)};var dynCall_iiiiij=Module["dynCall_iiiiij"]=function(){return Module["asm"]["dynCall_iiiiij"].apply(null,arguments)};var dynCall_iiij=Module["dynCall_iiij"]=function(){return Module["asm"]["dynCall_iiij"].apply(null,arguments)};var dynCall_iij=Module["dynCall_iij"]=function(){return Module["asm"]["dynCall_iij"].apply(null,arguments)};var dynCall_ji=Module["dynCall_ji"]=function(){return Module["asm"]["dynCall_ji"].apply(null,arguments)};var dynCall_v=Module["dynCall_v"]=function(){return Module["asm"]["dynCall_v"].apply(null,arguments)};var dynCall_vi=Module["dynCall_vi"]=function(){return Module["asm"]["dynCall_vi"].apply(null,arguments)};var dynCall_vii=Module["dynCall_vii"]=function(){return Module["asm"]["dynCall_vii"].apply(null,arguments)};var dynCall_viif=Module["dynCall_viif"]=function(){return Module["asm"]["dynCall_viif"].apply(null,arguments)};var dynCall_viii=Module["dynCall_viii"]=function(){return Module["asm"]["dynCall_viii"].apply(null,arguments)};var dynCall_viiii=Module["dynCall_viiii"]=function(){return Module["asm"]["dynCall_viiii"].apply(null,arguments)};var dynCall_viiiii=Module["dynCall_viiiii"]=function(){return Module["asm"]["dynCall_viiiii"].apply(null,arguments)};var dynCall_viiiiii=Module["dynCall_viiiiii"]=function(){return Module["asm"]["dynCall_viiiiii"].apply(null,arguments)};var dynCall_viiiiiii=Module["dynCall_viiiiiii"]=function(){return Module["asm"]["dynCall_viiiiiii"].apply(null,arguments)};var dynCall_viiiiiiii=Module["dynCall_viiiiiiii"]=function(){return Module["asm"]["dynCall_viiiiiiii"].apply(null,arguments)};var dynCall_viiiiiiiii=Module["dynCall_viiiiiiiii"]=function(){return Module["asm"]["dynCall_viiiiiiiii"].apply(null,arguments)};var dynCall_viij=Module["dynCall_viij"]=function(){return Module["asm"]["dynCall_viij"].apply(null,arguments)};var dynCall_viijii=Module["dynCall_viijii"]=function(){return Module["asm"]["dynCall_viijii"].apply(null,arguments)};var dynCall_vij=Module["dynCall_vij"]=function(){return Module["asm"]["dynCall_vij"].apply(null,arguments)};Module["asm"]=asm;Module["cwrap"]=cwrap;function ExitStatus(e){this.name="ExitStatus";this.message="Program terminated with exit("+e+")";this.status=e}ExitStatus.prototype=new Error;ExitStatus.prototype.constructor=ExitStatus;var initialStackTop;dependenciesFulfilled=function e(){if(!Module["calledRun"])run();if(!Module["calledRun"])dependenciesFulfilled=e};function run(e){e=e||Module["arguments"];if(runDependencies>0){return}preRun();if(runDependencies>0)return;if(Module["calledRun"])return;function t(){if(Module["calledRun"])return;Module["calledRun"]=true;if(ABORT)return;ensureInitRuntime();preMain();if(Module["onRuntimeInitialized"])Module["onRuntimeInitialized"]();postRun()}if(Module["setStatus"]){Module["setStatus"]("Running...");setTimeout(function(){setTimeout(function(){Module["setStatus"]("")},1);t()},1)}else{t()}}Module["run"]=run;function abort(e){if(Module["onAbort"]){Module["onAbort"](e)}if(e!==undefined){out(e);err(e);e=JSON.stringify(e)}else{e=""}ABORT=true;EXITSTATUS=1;throw"abort("+e+"). Build with -s ASSERTIONS=1 for more info."}Module["abort"]=abort;if(Module["preInit"]){if(typeof Module["preInit"]=="function")Module["preInit"]=[Module["preInit"]];while(Module["preInit"].length>0){Module["preInit"].pop()()}}Module["noExitRuntime"]=true;run();const UNLOCKED=0;const LOCKED_NO_WAITERS=1;const LOCKED_POSSIBLE_WAITERS=2;const NUMINTS=1;class Lock{constructor(e,t){if(!(e instanceof Int32Array&&t|0===t&&t>=0&&t+NUMINTS<=e.length)){throw new Error(`Bad arguments to Lock constructor: ${e} ${t}`)}this.iab=e;this.ibase=t}static initialize(e,t){if(!(e instanceof Int32Array&&t|0===t&&t>=0&&t+NUMINTS<=e.length)){throw new Error(`Bad arguments to Lock constructor: ${e} ${t}`)}Atomics.store(e,t,UNLOCKED);return t}lock(){const e=this.iab;const t=this.ibase;var r;if((r=Atomics.compareExchange(e,t,UNLOCKED,LOCKED_NO_WAITERS))!==UNLOCKED){do{if(r===LOCKED_POSSIBLE_WAITERS||Atomics.compareExchange(e,t,LOCKED_NO_WAITERS,LOCKED_POSSIBLE_WAITERS)!==UNLOCKED){Atomics.wait(e,t,LOCKED_POSSIBLE_WAITERS,Number.POSITIVE_INFINITY)}}while((r=Atomics.compareExchange(e,t,UNLOCKED,LOCKED_POSSIBLE_WAITERS))!==UNLOCKED)}}tryLock(){const e=this.iab;const t=this.ibase;return Atomics.compareExchange(e,t,UNLOCKED,LOCKED_NO_WAITERS)===UNLOCKED}unlock(){const e=this.iab;const t=this.ibase;var r=Atomics.sub(e,t,1);if(r!==LOCKED_NO_WAITERS){Atomics.store(e,t,UNLOCKED);Atomics.wake(e,t,1)}}toString(){return"Lock:{ibase:"+this.ibase+"}"}}function Queue(){this.a=[];this.b=0;this.residue=null}Queue.prototype.getLength=function(){return this.a.length-this.b};Queue.prototype.isEmpty=function(){return 0==this.a.length};Queue.prototype.enqueue=function(e){this.a.push(e)};Queue.prototype.dequeue=function(){if(0!=this.a.length){var e=this.a[this.b];2*++this.b>=this.a.length&&(this.a=this.a.slice(this.b),this.b=0);return e}return null};Queue.prototype.peek=function(){return 0<this.a.length?this.a[this.b]:void 0};function JsSocket_Log(e){console.log(e)}var audio_init=Module.cwrap("_Audio_Init","number",null);var audio_uninit=Module.cwrap("_Audio_UnInit","number",["number"]);var audio_encode=Module.cwrap("_Audio_Encode","number",["number","array","number","number","number"]);var audio_decode=Module.cwrap("_Audio_Decode","number",["number","number","array","number"]);var get_mixed_Audio=Module.cwrap("_Get_Mixed_Audio","number",["number","number","number","number"]);var put_pre_aec_audio=Module.cwrap("_Put_Pre_Aec_Data","number",["number","array","number","number","number"]);var get_aec_delay=Module.cwrap("_Get_Aec_Delay","number",["number"]);var set_aec_delay=Module.cwrap("_Set_Aec_Delay","number",["number","number"]);var reset_aec=Module.cwrap("_ReSet_Aec","number",["number"]);var set_audio_encrypt=Module.cwrap("_Audio_Set_Data_Encryption","number",["number","number"]);var audio_handle=null;var audio_websocket=null;var audio_multi_websocket=null;var switch_websocket=false;var audio_sample_rate=null;var audio_decode_interval=null;var audio_encode_interval=null;var int16Array=null;var int32Array=null;var jump=0;var ringbuf=null;var logon=false;var audio_encode_encrypt=false;var RingBuffer=function(){function e(e){this.wpos=0;this.rpos=0;this.remaining_write_data=null;this.buf=e}e.prototype.append=function(e){var t=this;return function(r,n){if(t.remaining_write_data){n();return}var i=t._append_some(e);if(i==e.length){r();return}t.remaining_write_data=[e.subarray(i),r]}};e.prototype.read_some=function(e){var t=this._read_some(e);if(this.remaining_write_data){this._append_remaining_data();if(t<e.length)t+=this._read_some(e.subarray(t))}return t};e.prototype._append_some=function(e){var t=Math.min(e.length,this.available());if(t==0)return 0;var r=this.wpos%this.buf.length;var n=Math.min(t,this.buf.length-r);this.buf.set(e.subarray(0,n),r);if(n<t){this.buf.set(e.subarray(n,t),0)}this.wpos+=t;return t};e.prototype._append_remaining_data=function(){var e=this.remaining_write_data[0];var t=this.remaining_write_data[1];this.remaining_write_data=null;var r=this._append_some(e);if(r==e.length){t()}else{this.remaining_write_data=[e.subarray(r),t]}};e.prototype._read_some=function(e){var t=Math.min(e.length,this.size());if(t<e.length)return 0;if(t==0)return 0;var r=this.rpos%this.buf.length;var n=Math.min(t,this.buf.length-r);e.set(this.buf.subarray(r,r+n),0);if(n<t){e.set(this.buf.subarray(0,t-n),n)}this.rpos+=t;return t};e.prototype.clear=function(){this.rpos=this.wpos=0;this.remaining_write_data=null};e.prototype.capacity=function(){return this.buf.length};e.prototype.size=function(){return this.wpos-this.rpos};e.prototype.available=function(){return this.capacity()-this.size()};e.MAX_POS=1<<16;return e}();function Channel_Agent(){this.socket=null;this.onopen=null;this.onmessage=null;this.onerror=null;this.onclose=null;this.websocketaddress=null;this.startwebsocketreconnecttime=null;this.reconnect=null;this.activeclosewebsocket=false;this.init=function(e,t,r,n,i){this.websocketaddress=e;this.onopen=t;this.onmessage=r;this.onerror=n;this.onclose=i};this.connect=function(e,t,r,n,i){var o=this;add_monitor("SB");o.init(e,t,r,n,i);o.socket=new WebSocket(o.websocketaddress);o.socket.binaryType="arraybuffer";o.reconnect=function(){o.startwebsocketreconnecttime=null;o.socket=new WebSocket(this.websocketaddress);o.socket.binaryType="arraybuffer";o.socket.onopen=function(e){o.startwebsocketreconnecttime=(new Date).getTime()/1e3;o.onopen(e)};o.socket.onmessage=function(e){o.onmessage(e)};o.socket.onerror=function(e){JsSocket_Log("in function onerror");if(o.startwebsocketreconnecttime===null){JsSocket_Log("In Reconnect Context, Reconnect is unnecessary")}else if((new Date).getTime()/1e3-o.startwebsocketreconnecttime>30){JsSocket_Log(">>>30s");setTimeout(function(){o.reconnect()},1e3)}else{postMessage({status:Audio_Dec_WebSocket_FAILED});JsSocket_Log("NetWork is Bad, Don't to reconnect the serer!")}};o.socket.onclose=function(e){JsSocket_Log("in function onclose"+o.startwebsocketreconnecttime);if(o.startwebsocketreconnecttime===null){JsSocket_Log("In Reconnect Context, Reconnect is unnecessary")}else if((new Date).getTime()/1e3-o.startwebsocketreconnecttime>30){JsSocket_Log(">>>30s");setTimeout(function(){o.reconnect()},1e3)}else{postMessage({status:Audio_Dec_WebSocket_FAILED});JsSocket_Log("NetWork is Bad, Don't to reconnect the serer!")}}};o.socket.onopen=function(e){postMessage({status:Audio_Dec_WebSocket_OK});add_monitor("SE");let t=(new Date).getTime();o.startwebsocketreconnecttime=t/1e3;o.onopen(e)};o.socket.onmessage=function(e){o.onmessage(e)};o.socket.onerror=function(e){JsSocket_Log("in function onerror");if(o.activeclosewebsocket)return;if(!o.startwebsocketreconnecttime){postMessage({status:Audio_Dec_WebSocket_FAILED});JsSocket_Log("Not in Reconnect Context, Reconnect is unnecessary")}else if((new Date).getTime()/1e3-o.startwebsocketreconnecttime>30){JsSocket_Log(">>>30s");setTimeout(function(){o.reconnect()},1e3)}else{postMessage({status:Audio_Dec_WebSocket_FAILED});JsSocket_Log("NetWork is Bad, Don't to reconnect the serer!")}};this.socket.onclose=function(e){JsSocket_Log("in function onclose"+o.startwebsocketreconnecttime);if(o.activeclosewebsocket)return;if(o.startwebsocketreconnecttime===null){postMessage({status:Audio_Dec_WebSocket_FAILED});JsSocket_Log("Not in Reconnect Context, Reconnect is unnecessary")}else if((new Date).getTime()/1e3-o.startwebsocketreconnecttime>30){JsSocket_Log(">>>30s");setTimeout(function(){o.reconnect()},1e3)}else{postMessage({status:Audio_Dec_WebSocket_FAILED});JsSocket_Log("NetWork is Bad, Don't to reconnect the serer!")}}};this.send=function(e){if(this.socket.readyState===1)this.socket.send(e)};this.close=function(){this.activeclosewebsocket=true;this.socket.close()}}function Open_Audio_WebSocket_Connect(e,t,r,n,i){JsSocket_Log("Open_Audio_WebSocket_Connect");var o=new Channel_Agent;o.connect(e,t,r,n,i);return o}function audio_websocket_on_open(){}function audio_websocket_on_message(e){if(audio_handle!==null){var t=new Uint8Array(e.data);audio_decode(audio_handle,0,t,t.length)}}function audio_websocket_on_close(e){}function audio_websocket_on_error(e){}function Put_Audio_Frame_Buffer(e){if(g_SetDelay&&g_AudioFrame==0){if(!g_Delay){g_Delay=50}if(audio_handle){console.log("set aec delay"+g_Delay);set_aec_delay(audio_handle,g_Delay)}}g_AudioFrame++;if(g_AudioFrame==Number.MAX_SAFE_INTEGER){g_AudioFrame=21}if(g_SetDelay&&g_AudioFrame%8e3==0){var t=get_aec_delay(audio_handle);if(t>0){postMessage({status:AUDIO_DELAY,delay:t})}}if(audio_handle){if(!int16Array||int16Array.length!=e.length){int16Array=new Int16Array(e.length)}g_audioTestMuteFlag++;if(g_audioTestMuteFlag%g_audioTestMuteTotalCount==0){int32Array=new Int32Array(e.buffer);var r=0;for(;r<int32Array.length;r++){if(int32Array[r]!=0){g_audioMuteCount=0;break}}if(r==int32Array.length){g_audioMuteCount++;if(g_audioMuteCount==g_audioTestMuteTotalCount){postMessage({status:Audio_Mute});g_audioMuteCount=0}}}for(let t=0;t<e.length;t++){if(int16Array==null){int16Array=new Int16Array(e.length)}e[t]=e[t]*32768;if(e[t]>32767){e[t]=32767}else if(e[t]<-32768){e[t]=-32768}int16Array[t]=e[t]}var n=new Uint8Array(int16Array.buffer);if(audio_handle){var i=ringbuf.append(n);i(function(){},function(e){})}}}function frame_aec_callback(e,t,r,n){var i=new Uint8Array(n*2);var o=Module.HEAP8.subarray(e+0,e+n*2);i.set(o,0,n*2);put_aec_data({data:i,channels:r,sampleHZ:t})}function frame_callback(e,t,r,n,i,o,a,u){var s=new Uint8Array(t);var l=Module.HEAP8.subarray(e+0,e+t);s.set(l,0,t);var _=new Uint8Array(u*2);var c=Module.HEAP8.subarray(i+0,i+u*2);_.set(c,0,u*2);if(false&&(g_sharbuffer||g_mute==-1||g_mute==2)){if(n!=0){var f=new Uint8Array(n);var d=Module.HEAP8.subarray(r+0,r+n);f.set(d,0,n);postMessage({status:0,data:s,time:f},[s.buffer,f.buffer])}else{postMessage({status:0,data:s},[s.buffer])}if(g_sharbuffer)put_aec_data({data:_,channels:a,sampleHZ:o})}else{if(n!=0){var f=new Uint8Array(n);var d=Module.HEAP8.subarray(r+0,r+n);f.set(d,0,n);if(audioDecodePort){audioDecodePort.postMessage({status:0,data:s,time:f,aec:_,channels:a,sampleHz:o,ssrc:currentSSRC},[s.buffer,f.buffer,_.buffer])}else{postMessage({status:0,data:s,time:f,aec:_,channels:a,sampleHz:o,ssrc:currentSSRC},[s.buffer,f.buffer,_.buffer])}}else{if(audioDecodePort){audioDecodePort.postMessage({status:0,data:s,aec:_,channels:a,sampleHz:o},[s.buffer,_.buffer])}else{postMessage({status:0,data:s,aec:_,channels:a,sampleHz:o},[s.buffer,_.buffer])}}}}function audio_encode_frame_callback(e,t){var r=new Uint8Array(t);var n=Module.HEAP8.subarray(e+0,e+t);r.set(n,0,t);if(audio_websocket!==null&&audio_websocket.socket.readyState===1&&g_mute==1&&g_AudioFrame>20&&switch_websocket==false){switch_websocket=true;audio_websocket.send(r);if(r.length<12){console.error("Data Length is too short!!")}}else if(audio_multi_websocket!==null&&audio_multi_websocket.socket.readyState===1&&g_mute==1&&g_AudioFrame>20&&switch_websocket==true){switch_websocket=false;audio_multi_websocket.send(r);if(r.length<12){console.error("Data Length is too short!!")}}}var g_starttime=null;var g_count=0;var g_second=false;var g_testOver=false;var g_lock=null;var g_sharbuffer=null;var g_bAec=false;var g_mute=-1;var g_shareBufferSampleNumb=30;var g_audioTestMuteFlag=0;var g_audioMuteCount=0;var g_audioTestMuteTotalCount=100;var g_SetDelay=false;var g_dbObject;var g_Delay=0;var g_AudioFrame=0;var preTime=null;var periodCount=0;var periodStart=null;var periodTotalCount=9;var total_count=0;var total_Start_Time=0;var aec_buffer=new Queue;var isEdge=false;var audioDecodePort;var audioEncodePort;var currentSSRC=0;function Get_Mixed_Audio_Interval(){if(!periodStart){periodStart=(new Date).getTime()}if(!g_starttime){g_starttime=(new Date).getTime()}if(!total_Start_Time){total_Start_Time=(new Date).getTime()}g_count++;periodCount++;if(audio_handle!==null){if(jump>0){jump--}else{if(periodCount>=periodTotalCount){let e=(new Date).getTime();if(isEdge||periodTotalCount==1||e-periodStart>periodCount*10){g_second=true}else{}periodCount=0;periodStart=null}total_count++;get_mixed_Audio(audio_handle,audio_sample_rate/100,0,audio_sample_rate);if(g_second){total_count++;get_mixed_Audio(audio_handle,audio_sample_rate/100,0,audio_sample_rate)}g_second=false;if(g_count>=1e3){var e=(new Date).getTime();var t=e-g_starttime;g_starttime=null;if(t>1e4&&t<2e4){let e=g_count*10/(t-1e4);periodTotalCount=Math.floor(e)}else{periodTotalCount=9}g_count=0}}}}function Encode_Audio_Data(e){var t=0;while(t<e&&ringbuf.read_some(local_data_)>0){if(g_sharbuffer&&g_lock){var r=new Uint16Array(g_sharbuffer);g_lock.lock();if(!g_bAec){r[2]=0;g_bAec=true}else{if(r[2]!=0){var n=r[2];var i=2+1;while(n>0){n--;r[2]--;let e=r[i];let t=i+2;i+=r[i+1];i+=2;let o=new Uint16Array(r.subarray(t,i));let a=new Uint8Array(o.buffer);if(audio_handle){put_pre_aec_audio(audio_handle,a,e,1,o.length)}}}}g_lock.unlock()}while(aec_buffer.getLength()>0){var o=aec_buffer.dequeue();put_pre_aec_audio(audio_handle,o.data,o.sampleHz,1,o.data.length/2)}t++;audio_encode(audio_handle,local_data_,audio_sample_rate/100,0,audio_sample_rate)}}function send_data(e,t){var r=new Uint8Array(t);var n=Module.HEAP8.subarray(e+0,e+t);r.set(n,0,t);if(audio_websocket&&audio_websocket.socket.readyState===1){audio_websocket.send(r)}if(audio_multi_websocket&&audio_multi_websocket.socket.readyState===1){audio_multi_websocket.send(r)}}function LOG_OUT(e,t){var r=new Uint8Array(t);var n=Module.HEAP8.subarray(e+0,e+t);r.set(n,0,t)}function put_aec_data(e){if(g_mute==-1||g_mute==2||!g_sharbuffer||!g_lock||e==null||e.data.length>960){return}var t=new Uint16Array(g_sharbuffer);g_lock.lock();if(t[2]<g_shareBufferSampleNumb){var r=0;var n=2+1;{r=t[2];var i=r;while(i>0){i--;n+=t[n+1];n+=2}}if(e){var o=new Uint16Array(e.data.buffer);t[2]++;t[n]=e.sampleHZ;t[n+1]=o.length;n+=2;t.set(o,n)}}else{console.log("too many data in sharebuffer!");t[2]=0}g_lock.unlock()}function Get_ExternalRecord(e,t,r){return}(function(e){console.log("ready to start!");e.addEventListener("message",function(e){var t=e.data;switch(t.command){case"startMedia":try{console.log("JsAudioDec.js receive startMedia");if(audio_handle==null){audio_sample_rate=t.sampleRate;ringbuf=new RingBuffer(new Uint8Array(audio_sample_rate*2*10*4/100));audio_handle=audio_init(t.userid);local_data_=new Uint8Array(audio_sample_rate/50);if(audio_handle==null){postMessage({status:Audio_Dec_Handle_FAILED})}else{postMessage({status:Audio_Dec_Handle_OK});if(t.decode){audio_decode_interval=setInterval(Get_Mixed_Audio_Interval,9);isEdge=t.isEdge}if(t.encode){audio_encode_interval=setInterval(function(){Encode_Audio_Data(20)},20)}audio_websocket=Open_Audio_WebSocket_Connect(t.websocket_ip_address,audio_websocket_on_open,audio_websocket_on_message,audio_websocket_on_error,audio_websocket_on_close);audio_multi_websocket=Open_Audio_WebSocket_Connect(t.websocket_ip_address,audio_websocket_on_open,audio_websocket_on_message,audio_websocket_on_error,audio_websocket_on_close)}}}catch(e){console.log(e)}break;case"EncodedAudioFrame":if(audio_websocket&&audio_websocket.socket.readyState===1){audio_websocket.send(t.data)}break;case"closeMedia":if(audio_websocket){audio_websocket.close()}if(audio_multi_websocket){audio_multi_websocket.close()}if(audio_encode_interval&&g_AudioFrame>4e3){var r=get_aec_delay(audio_handle);console.log("Store Delay: "+r);if(r>0){postMessage({status:AUDIO_DELAY,delay:r})}}clearInterval(audio_decode_interval);clearInterval(audio_encode_interval);audio_uninit(audio_handle);audio_handle=null;audio_decode_interval=null;audio_encode_interval=null;audio_websocket=null;audio_multi_websocket=null;close();break;case"delay":{jump++}break;case"failover":if(audio_websocket){audio_websocket.close();audio_websocket=Open_Audio_WebSocket_Connect(t.websocket_ip_address,audio_websocket_on_open,audio_websocket_on_message,audio_websocket_on_error,audio_websocket_on_close)}if(audio_multi_websocket){audio_multi_websocket.close();audio_multi_websocket=Open_Audio_WebSocket_Connect(t.websocket_ip_address,audio_websocket_on_open,audio_websocket_on_message,audio_websocket_on_error,audio_websocket_on_close)}break;case"EncodeAudioFrame":if(g_SetDelay&&g_AudioFrame==0){if(!g_Delay){g_Delay=50}if(audio_handle){console.log("set aec delay"+g_Delay);set_aec_delay(audio_handle,g_Delay)}}g_AudioFrame++;if(g_AudioFrame==Number.MAX_SAFE_INTEGER){g_AudioFrame=21}if(g_SetDelay&&g_AudioFrame%8e3==0){var r=get_aec_delay(audio_handle);if(r>0){postMessage({status:AUDIO_DELAY,delay:r})}}if(audio_handle){if(!int16Array||int16Array.length!=t.data.length){int16Array=new Int16Array(t.data.length)}g_audioTestMuteFlag++;if(g_audioTestMuteFlag%g_audioTestMuteTotalCount==0){int32Array=new Int32Array(t.data.buffer);var n=0;for(;n<int32Array.length;n++){if(int32Array[n]!=0){g_audioMuteCount=0;break}}if(n==int32Array.length){g_audioMuteCount++;if(g_audioMuteCount==g_audioTestMuteTotalCount){postMessage({status:Audio_Mute});g_audioMuteCount=0}}}for(let e=0;e<t.data.length;e++){if(int16Array==null){int16Array=new Int16Array(t.data.length)}t.data[e]=t.data[e]*32768;if(t.data[e]>32767){t.data[e]=32767}else if(t.data[e]<-32768){t.data[e]=-32768}int16Array[e]=t.data[e]}var i=new Uint8Array(int16Array.buffer);if(audio_handle){var o=ringbuf.append(i);o(function(){},function(e){})}}break;case"sharedBuffer":{const e=t.data;g_sharbuffer=e;g_lock=new Lock(new Int32Array(g_sharbuffer),0)}break;case"modifySampleRate":{ringbuf.clear();ringbuf=null;ringbuf=new RingBuffer(new Uint8Array(t.sampleRate*2*10*4/100));local_data_=null;local_data_=new Uint8Array(t.sampleRate/50);audio_sample_rate=null;audio_sample_rate=t.sampleRate}break;case"mute":{g_mute=t.bOn}break;case"resetAec":{if(audio_handle){reset_aec(audio_handle)}g_AudioFrame=0}break;case"SetAECDelay":{g_SetDelay=true;g_Delay=t.delay}break;case"EchoCancel":{if(audio_handle){if(g_mute==-1||g_mute==2){return}aec_buffer.enqueue({data:t.data,sampleHz:t.sampleHz})}}break;case"decodeAudioPort":{if(audioDecodePort){audioDecodePort.close()}audioDecodePort=e.ports[0];audioDecodePort.onmessage=function(e){switch(e.data.status){case"delay":{jump++}break}}}break;case"encodeAudioPort":{if(audioEncodePort){audioEncodePort.close()}audioEncodePort=e.ports[0];audioEncodePort.onmessage=function(e){switch(e.data.command){case"EncodeAudioFrame":{Put_Audio_Frame_Buffer(e.data.data)}break;case"EchoCancel":{if(audio_handle){if(g_mute==-1||g_mute==2){return}aec_buffer.enqueue({data:e.data.data,sampleHz:e.data.sampleHz})}}}}}break;case"updateCurrentSSRC":{currentSSRC=t.SSRC}break;case"ENCRYPT":{audio_encode_encrypt=t.encrypt;if(audio_handle){if(audio_encode_encrypt){set_audio_encrypt(audio_handle,1)}else{set_audio_encrypt(audio_handle,0)}}}break}})})(self);